[{"title":"æ—¶é—´çš„å¤åˆ©","url":"/2019/11/12/20191112/","content":"\n## æ—¶é—´\n> å¤åˆ©å¾€å¾€æ¯”è¾ƒå¯æ€•ï¼Œæ—¶é—´çš„å¤åˆ©æ›´å¯æ€•ã€‚æ¯”å¦‚1.1^365=å¿«æº¢å‡ºè®¡ç®—å™¨çš„å±å¹• ğŸ˜†\n","tags":["å¿ƒæƒ…","æ—¥è®°"],"categories":["å…¶ä»–"]},{"title":"A-leecode-å•å‘é“¾è¡¨å…ƒç´ ä¸¤ä¸¤äº¤æ¢","url":"/2019/11/12/A_leecode_swappaires_/","content":"\n## é¢˜ç›®è§£æ\n\n> Given a linked list, swap every two adjacent nodes and return its head.\n> Example:\n<!-- more -->\n> Given 1->2->3->4, you should return the list as 2->1->4->3.\n> Note:\n> Your algorithm should use only constant extra space.\n> You may not modify the values in the list's nodes, only nodes itself may be changed.\n> åˆ†æå•å‘é“¾è¡¨ éœ€è¦çŸ¥é“å¤´ç»“ç‚¹æ‰èƒ½åšå¤´ç»“ç‚¹åçš„èŠ‚ç‚¹æ•°æ®äº¤æ¢ï¼ˆæ­¤caseæ˜¯ä¸¤èŠ‚ç‚¹ï¼‰ã€‚\n> å®é™…å…ˆäº¤æ¢èŠ‚ç‚¹1ï¼Œ2 å˜æˆ2-1-3-4ï¼Œ æ­¤æ—¶2èŠ‚ç‚¹ä¸ºç»“æœçš„å¤´ç»“ç‚¹ï¼Œä½†æ˜¯åé¢çš„èŠ‚ç‚¹æ²¡å¤„ç†\n> ç„¶åæŒ‰ç…§çŸ¥æ™“å¤´ç»“ç‚¹1 å¤„ç†1-3-4ä¸­çš„3ï¼Œ4 äº¤æ¢ï¼Œ ä¾æ¬¡ç±»æ¨å¤„ç†çŸ¥é“èŠ‚ç‚¹åé¢å°äº2ä¸ªèŠ‚ç‚¹é€€å‡º\n\n\n\n## åˆ†æ\né‡è¦ç‚¹çŸ¥æ™“è¿™å‡ ç±»å°±æ€è·¯å°±æ˜ç™½äº†\n1ã€å•å‘é“¾è¡¨ä»…æœ‰ä¸€ä¸ªå¤´ç»“ç‚¹\n2ã€å•å‘é“¾è¡¨çš„æŸä¸ªèŠ‚ç‚¹æ“ä½œéœ€è¦çŸ¥æ™“å®ƒçš„previousèŠ‚ç‚¹\n\nä»£ç æ¼”ç¤ºï¼š\n```java\npackage com.dylan326.apus;\n\n/**\n * Given a linked list, swap every two adjacent nodes and return its head.\n *\n * Example:\n *\n * Given 1->2->3->4, you should return the list as 2->1->4->3.\n * Note:\n *\n * Your algorithm should use only constant extra space.\n * You may not modify the values in the list's nodes, only nodes itself may be changed.\n *\n * åˆ†æå•å‘é“¾è¡¨ éœ€è¦çŸ¥é“å¤´ç»“ç‚¹æ‰èƒ½åšå¤´ç»“ç‚¹åçš„èŠ‚ç‚¹æ•°æ®äº¤æ¢ï¼ˆæ­¤caseæ˜¯ä¸¤èŠ‚ç‚¹ï¼‰ã€‚\n * å®é™…å…ˆäº¤æ¢èŠ‚ç‚¹1ï¼Œ2 å˜æˆ2-1-3-4ï¼Œ æ­¤æ—¶2èŠ‚ç‚¹ä¸ºç»“æœçš„å¤´ç»“ç‚¹ï¼Œä½†æ˜¯åé¢çš„èŠ‚ç‚¹æ²¡å¤„ç†\n * ç„¶åæŒ‰ç…§çŸ¥æ™“å¤´ç»“ç‚¹1 å¤„ç†1-3-4ä¸­çš„3ï¼Œ4 äº¤æ¢ï¼Œ ä¾æ¬¡ç±»æ¨å¤„ç†çŸ¥é“èŠ‚ç‚¹åé¢å°äº2ä¸ªèŠ‚ç‚¹é€€å‡º\n */\npublic class A24SwapPairs {\n\n    public ListNode swapPairs(ListNode head) {\n        if (head == null || head.next == null) { // åˆå§‹æ¡ä»¶åˆ¤å®š\n            return head;\n        }\n        // é¦–èŠ‚ç‚¹äº¤æ¢é€»è¾‘ resultä¸ºç»“æœå³å¤´ç»“ç‚¹ï¼Œ ä½†æ˜¯å½“å‰åé¢çš„æ•°æ®è¿˜æ²¡å¤„ç†\n        ListNode result = new ListNode(head.next.val);\n        head.next = head.next.next;\n        result.next = head;\n        ListNode node = head; // æ­¤æ—¶2-1-3-4\n        while (node.next!=null && node.next.next !=null ){  // å¾ªç¯é€€å‡ºå³åé¢å°äºä¸¤ä¸ªèŠ‚ç‚¹ ä¸éœ€è¦åšäº¤æ¢\n            ListNode tmp1 = node.next; // å¤„ç†ä¾‹å­ 1-3-4ï¼› 1èŠ‚ç‚¹åé¢çš„æ•°æ®\n            ListNode tmp2 = node.next.next.next;\n            node.next = tmp1.next;\n            node.next.next = tmp1;\n            tmp1.next = tmp2; // ç»“æŸå1-4-3\n\n            node = tmp1; // é‡ç½®å¾ªç¯åˆå§‹æ¡ä»¶ æ­¤æ—¶ä¾‹å­åº”è¯¥ä¸º 3èŠ‚ç‚¹ã€‚ å¦‚æœåé¢è¿˜æœ‰æ•°æ®\n        }\n        return result;\n    }\n}\n\n```\n\n\nä»£ç æ¼”ç¤ºï¼š\n\nä»£ç æ–‡ä»¶ï¼š\n[A24SwapPairs.java](https://github.com/yangl326-Dylan/apus/blob/master/src/main/java/com/dylan326/apus/A24SwapPairs.java)\n\n### æ€»ç»“\n- å®é™…å•å‘é“¾è¡¨çš„æŸä¸ªèŠ‚ç‚¹æ“ä½œéœ€è¦ä»€ä¹ˆæ¡ä»¶\n- æ¼”å˜é—®é¢˜1: æ¯ä¸‰ä¸ªäº¤æ¢å¦‚ä½•å¤„ç†\n- æ¼”å˜é—®é¢˜2: æ¯”è¾ƒå¸¸è§ï¼ŒåŸé“¾è¡¨ç©ºé—´ç¿»è½¬å•å‘é“¾è¡¨\n\n------\n\n**ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»å…è®¸ä¸å¾—è½¬è½½ã€‚**\n","tags":["è„‘å­ç§€é€—","leecode"],"categories":["ç®—æ³•"]},{"title":"ä¸‰ä¸ªé€‰æ‹©","url":"/2019/11/11/20191111/","content":"\n## é€‰æ‹©\n> ç»å¤§å¤šæ•°åœºæ™¯ä¸‹ä½ åªæœ‰å¦‚ä¸‹ä¸‰ä¸ªé€‰æ‹©ï¼š\n- é€‚åº”å®ƒ\n- æ”¹å˜å®ƒ\n- ç¦»å¼€å®ƒ\n","tags":["å¿ƒæƒ…","æ—¥è®°"],"categories":["å…¶ä»–"]},{"title":"Think more","url":"/2019/11/05/20191105/","content":"\n## ä»Šå¤©ä½ æ€è€ƒäº†å—\n> å¤§å¤šæ•°äººå–œæ¬¢ç”¨å‹¤å¿«çš„è¡ŒåŠ¨æ¥æ©ç›–æ€æƒ³ä¸Šçš„æ‡’æƒ° -Dylan\n> â€œå¤šæ•°äººä¸ºäº†é€ƒé¿çœŸæ­£çš„æ€è€ƒæ˜¯æ„¿æ„åšä»»ä½•äº‹æƒ…çš„â€\n","tags":["å¿ƒæƒ…","æ—¥è®°"],"categories":["å…¶ä»–"]},{"title":"äººæ ¼è‡ªç«‹","url":"/2019/10/15/20191015/","content":"\n## æ˜å¾·\n> æ˜å¾·ã€åšå­¦ã€‚æˆ‘åŠå¤©å…¬é‡æŠ–æ“ï¼Œä¸æ‹˜ä¸€æ ¼é™äººæ‰ã€‚\n","tags":["å¿ƒæƒ…","æ—¥è®°"],"categories":["å…¶ä»–"]},{"title":"70å‘¨å¹´å›½åº†","url":"/2019/09/30/20190930/","content":"\n## å°åŒºå…¬å›­åˆ°å¤„éƒ½æ˜¯çº¢ç¯ç¬¼å’Œçº¢æ——\n> æ˜å¤©å›½åº†ï¼Œ70å‘¨å¹´ã€‚ å°bubu 126å¤©ï¼›å°å¦ˆå¦ˆèŠ‚åè¦å»ä¸Šç­äº†ï¼Œä¸çŸ¥é“èƒ½å¦é€‚åº”è¿™ç§çŠ¶æ€\n","tags":["å¿ƒæƒ…","æ—¥è®°"],"categories":["å…¶ä»–"]},{"title":"A07-å­—ç¬¦ä¸²åŒ¹é…-KMP","url":"/2019/09/18/A07_zifuchuanpipei/","content":"## å•æ¨¡å¼ä¸²å­—ç¬¦ä¸²åŒ¹é…\nç»™å®šå•ä¸ªå­—ç¬¦ä¸²Sï¼ˆé•¿åº¦mï¼‰ï¼ŒæŸ¥æ‰¾ç›®æ ‡æ¨¡å¼ä¸²patternï¼ˆé•¿åº¦nï¼‰ã€‚ è¿™ä¸ªé—®é¢˜å¸¸è§çš„ä¼šæ˜¯é‡‡ç”¨æœ´ç´ åŒ¹é…ï¼Œ\n<!-- more -->\næœ´ç´ åŒ¹é…å®é™…ä¸ºæš´åŠ›åŒ¹é…ï¼ˆBrueForceï¼‰æœ¬æ–‡è®²è¿°çš„æ˜¯[KMPç®—æ³•, ç»´åŸºç™¾ç§‘](https://en.wikipedia.org/wiki/Knuth%E2%80%93Morris%E2%80%93Pratt_algorithm) ç»´åŸºç™¾ç§‘é‡Œé¢è®²è¿°çš„è¾ƒè¯¦ç»†ï¼Œ å°±å¦‚ä¸‹å‡ ä¸ªé‡ç‚¹æœ¬æ–‡è®²è¿°ä¸‹ã€‚\n\n### KMPç›¸å¯¹æœ´ç´ åŒ¹é…\næœ¬è´¨ä¸Šæ˜¯åœ¨æœ´ç´ åŒ¹é…ä¸Šåšäº†ä¸€ä¸ªå‰ªæï¼Œ æœ´ç´ åŒ¹é…åœ¨Sä¸²ä¸Šä¾æ¬¡å¯¹patternä¸²è¿›è¡Œæ¯”è¾ƒ,å¤æ‚åº¦O(m*n), è€ŒKMPé€»è¾‘ä¼šè¿›è¡Œè·³è¿‡ï¼Œå¤æ‚åº¦O(m+n)ã€‚\n\n### KMPå…³é”®ç‚¹\n- ç†è§£å­—ç¬¦ä¸²çš„çœŸå‰ç¼€ï¼ˆproper preffixï¼‰ã€çœŸåç¼€ï¼ˆproper suffixï¼‰ã€‚ä¸åŒ…å«æœ¬èº«çš„å‰ç¼€æˆ–è€…åç¼€ï¼Œå¦‚snakeçš„çœŸå‰ç¼€sï¼Œsnï¼Œsnaï¼Œsnakã€‚\n- çœŸå‰ç¼€å’ŒçœŸåç¼€çš„ç›¸åŒæ„å‘³ç€ä»€ä¹ˆï¼Œè¿™ä¸ªç†è§£æ¸…æ¥šäº†å°±æ˜¯KMPå¯¹æ¯”è·³è¿‡çš„å‰ªæé€»è¾‘ã€‚ç†è§£è§ä»£ç \n- next()å‡½æ•°è¡¨åŠå®ç°\n- æ ¹æ®next()å‡½æ•°éå†ç›®æ ‡ä¸²S\n\nä»£ç æ¼”ç¤ºï¼š\n```java\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class C10StrPattern {\n\n    /**\n     * ç”Ÿæˆæ¨¡å¼ä¸²nextå‡½æ•°ï¼Œå‡½æ•°ä½œç”¨ä¸ºä¸»ä¸²å¯¹æ¯”å¿½ç•¥æ¯”è¾ƒçš„ä½ç½®è®°å½•\n     * è¡¨ç¤ºçš„å«ä¹‰å½“å‰ä½ç½®ï¼ŒçœŸå‰ç¼€å’ŒçœŸåç¼€ç›¸åŒçš„ä¸ªæ•°ï¼Œ æ­£å› ä¸ºç›¸åŒï¼Œæ‰€ä»¥å·²ç»æ¯”è¾ƒè¿‡çš„å¯ä»¥æ ¹æ®è¿™ä¸ªä¿¡æ¯ç›´æ¥è·³åˆ°æ¯”è¾ƒä½ç½®\n     * @param pattern åŒ¹é…æ¨¡å¼ä¸²\n     * @return\n     */\n    private static int[] genNextArray(String pattern) {\n\n        if (pattern == null || pattern.length() == 0) {\n            return new int[]{};\n        }\n        int[] result = new int[pattern.length()];\n        result[0] = 0;// ä¸€ä¸ªå…ƒç´ è‡ªå·±ï¼ŒçœŸå‰ã€åç¼€ç›¸åŒä¸ªæ•°ä¸º0\n        for (int i = 1; i < pattern.length(); i++) {\n            if (pattern.charAt(i) == pattern.charAt(result[i - 1])) { //å½“å‰å…ƒç´ å’Œresultè®°å½•å€¼\n                result[i] = result[i - 1] + 1;\n            } else {\n                result[i] = 0;\n            }\n\n        }\n        return result;\n    }\n\n    /**\n     * @param str\n     * @param pattern\n     * @return [\"1-4\",\"6-9\"]\n     */\n    public static List<String> findPosition(String str, String pattern) {\n        List<String> result = new ArrayList<>();\n        if (str == null || pattern == null || str.length() == 0 || pattern.length() == 0) { // ä¸åˆç†è¿‡æ»¤\n            return result;\n        }\n        int[] next = genNextArray(pattern); // ç”Ÿæˆnextå‡½æ•°ï¼Œ ä¿¡æ¯è¡¨\n        int i = 0, start = 0;\n        while (i < str.length()) {\n            for (int j = 0; j < pattern.length(); j++) {\n                if (i + j > str.length() - 1) { // å¦‚æœå‰©ä¸‹çš„é•¿åº¦ä¸ç¬¦åˆç›´æ¥é€€å‡ºåç»­æŸ¥æ‰¾\n                    return result;\n                }\n                if (str.charAt(i + j) == pattern.charAt(j)) {\n                    if (j == 0) { // j==0 å¹¶ä¸”i+jä½ç½®å’Œ patternä¸²jä½ç½®ç›¸ç­‰ï¼Œå¯èƒ½çš„èµ·å§‹ä½ç½®è®°å½•\n                        start = i;\n                    }\n                    if (j == pattern.length() - 1) {// æ‰¾åˆ°å¹¶ä¸”ç»“æŸ\n                        result.add(String.format(\"%s-%s\", start, i + j));\n                        i++; // **  æ³¨æ„æ­¤å¤„ä»i+1å¼€å§‹ç»§ç»­ï¼Œè€Œä¸æ˜¯å½“å‰æ‰¾åˆ°çš„æ¨¡å¼ä¸²ç»“æŸä½ç½®\n                        break;\n                    }\n                } else { // ** ä¸ç›¸ç­‰ æºä¸²éå†ç´¢å¼•i ç›´æ¥è·³åˆ°next() ä½ç½®ã€‚ åŠ ä¸åŠ 1 å–å†³äºnextè®°å½•å€¼ï¼Œ æœ‰äº›å®ç°nextå€¼é»˜è®¤-1ï¼Œæ‰€ä»¥æ­¤å¤„ä¸ç”¨åŠ 1\n                    i = i + next[j] + 1;\n                    break;\n                }\n            }\n\n        }\n\n        return result;\n    }\n\n\n    public static void main(String[] args) {\n        //ç¤ºä¾‹\n        //abababca  åŸå§‹ä¸²S   patternä¸²aba\n        //01234567  ç´¢å¼•å€¼\n        //00123401  next() å‡½æ•°ï¼Œå‰ªæè·³è·ƒçš„ä¿¡æ¯è¡¨\n        System.out.println(Arrays.toString(findPosition(\"abababca\", \"aba\").toArray()));\n    }\n}\n    \n\n```\n\n\n\nä»£ç æ–‡ä»¶ï¼š[C10StrPattern.java](https://github.com/yangl326-Dylan/apus/blob/master/src/main/java/com/dylan326/justcode/C10StrPattern.java)\n\n## æ€»ç»“\n- \"KMPå…³é”®ç‚¹\" å‰ä¸¤ç‚¹æ˜¯ç†è§£å…³é”®ï¼Œåä¸¤ç‚¹æ˜¯å®ç°\n- ACè‡ªåŠ¨çŠ¶æ€æœºæœ¬è´¨æ¥è¯´æ˜¯KMPçš„ä¸€ä¸ªå¤šæ¨¡å¼æ¼”å˜ï¼Œ å¤šæ¨¡ä¸²ä»…ä¸€ä¸ªåˆ†æ”¯çš„è¯å°±æ˜¯KMP\n\næœºå™¨åœ¨äºè¿åŠ¨ï¼Œå¤§è„‘ä¹Ÿéœ€è¦ä¸æ–­æ€è€ƒè¿ä½œæ‰èƒ½é¿å…ç§€é€—\n\n------\n\n**ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»å…è®¸ä¸å¾—è½¬è½½ã€‚**\n","tags":["è„‘å­ç§€é€—","æ•°æ®ç»“æ„"],"categories":["ç®—æ³•"]},{"title":"æ¯å¥è¯","url":"/2019/08/28/20190828/","content":"\n## æ¯ä¸€å¥è¯\n> å› ä¸ºæœ‰çˆ±ï¼Œæ‰€ä»¥æ¯å¥è¯è¦å¥½å¥½è¯´\n","tags":["å¿ƒæƒ…","æ—¥è®°"],"categories":["å…¶ä»–"]},{"title":"æ¶ˆæ¯IDè®¾è®¡é€‰å‹","url":"/2019/08/06/id_desgin/","content":"\n## èƒŒæ™¯å’Œç›®æ ‡\néœ€è¦ä¸€ä¸ªå”¯ä¸€æ•°æ®æ ‡ç¤º\nIDç±»å‹å¯ä»¥ä½¿å­—ç¬¦ä¸²æˆ–è€…æ•´å‹ã€‚ è¿™ä¸¤ç±»é€‰æ‹©å¯¹æ–¹æ¡ˆå½±å“è¾ƒå¤§\nIDç”Ÿäº§æ€§èƒ½ï¼Œ å†³å®šæœåŠ¡ç“¶é¢ˆ\nIDç”Ÿäº§å®¹ç¾è§£å†³ï¼Œ å¦‚æœIDæ˜¯ä½ çš„ç³»ç»Ÿååˆ†é‡è¦çš„æ•°æ®ï¼Œé‚£ä¹ˆå®¹ç¾è¾ƒä¸ºé‡è¦\n<!-- more -->\n## å¯è¡Œçš„è§£å†³æ–¹æ¡ˆ\n- å¤§æ•°ï¼Œ å‚è€ƒä¸€èˆ¬ç”µå•†ç³»ç»Ÿè®¢å•ID\n- uniqå­—ç¬¦ä¸² ï¼Œ å¯å‚è€ƒUUIDã€MongoObjectIDç­‰\n- MySQL ä¸»é”®\n- redis incr\n\n\n### å‚è€ƒ\nsnowflake\nhttps://developer.twitter.com/en/docs/basics/twitter-ids.html\nhttps://blog.twitter.com/engineering/en_us/a/2010/announcing-snowflake.html\n\n#### ä¼˜ç‚¹\n- é•¿æ•´å‹å¤„ç†æ€§èƒ½ç›¸å¯¹è¾ƒé«˜\n- ç”Ÿäº§æ€§èƒ½é«˜\n- ç”Ÿæˆåˆ†å¸ƒå¼å®¹é”™\n\n#### å¼Šç«¯\n- æ—¶é—´æœ‰é™ï¼Œå–å†³äºè®¾è®¡çš„å…¶å®æ—¶é—´æˆ³ï¼Œ ç›®å‰å¯ä½¿ç”¨å¹´é™æœ‰é™ï¼Œ å–å†³äºåˆ†é…çš„ä½æ•°å’Œèµ·å§‹æ—¶é—´æˆ³\n- æœºå™¨æ—¶é—´å›æ‹¨ï¼Œä¼šå¯¼è‡´å¾ªç¯hangä¸€æ®µæ—¶é—´ï¼Œç›´åˆ°æ¯”ä¸Šæ¬¡ç”Ÿäº§IDå€¼å¤§\n- æ¯ä¸€æ¯«ç§’2^12æ¬¡ï¼Œ å•èŠ‚ç‚¹QPSè¿‡å¤§ï¼Œä¹Ÿä¼šå¯¼è‡´hangä½ä¸€æ®µæ—¶é—´\n- workIDï¼Œä¸ªæ•°æœ‰é™ï¼Œå¯ä»¥åšæˆrpcï¼Œ äº§ç”Ÿäº†rpcè°ƒç”¨æ—¶è€—\n\n## å¯å‚è€ƒå…¶ä»–å®ç°\nä¾§é‡ä¸ä¸€æ ·ï¼Œå¯¼è‡´å®ç°æœ‰éš¾æ˜“\n- MQ messageid  ä¾‹å¦‚kafka\n- RPC requestIDã€‚ ä¾‹å¦‚dubbo åªéœ€è¦ä¿è¯æŸæ¬¡è¿æ¥ä¸Šå”¯ä¸€\n- TCP/IP åºåˆ—id\n---\n\n**ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»å…è®¸ä¸å¾—è½¬è½½ã€‚**\n","tags":["IM","DX","å¾®ä¿¡"],"categories":["THINK"]},{"title":"é²¸","url":"/2019/07/10/20190710/","content":"\n## åŒ–èº«å­¤å²›çš„é²¸\n>æœ€è¿‘å¬åˆ°äº†ä¸€é¦–å¡«è¯çš„æ­Œã€ŠåŒ–èº«å­¤å²›çš„é²¸ã€‹ï¼Œè®©æˆ‘æƒ³èµ·â€œå¤§é±¼æµ·æ£ â€é‡Œé¢çš„é²²\n>è´´ä¸‹å¡«çš„è¯\n\"æˆ‘æƒ³ç»™ä½ èƒ½å¥”è·‘çš„å²¸å¤´\nè®©ä½ å¦‚åŒç‹å\"\n","tags":["å¿ƒæƒ…","æ—¥è®°"],"categories":["å…¶ä»–"]},{"title":"A-leecode-å’Œä¸ºç›®æ ‡å€¼é—®é¢˜","url":"/2019/06/26/A_leecode_combination_sum/","content":"\n## é¢˜ç›®è§£æ\n>Given a set of candidate numbers (candidates) (without duplicates) and a target number (target), find all unique combinations in candidates where the candidate numbers sums to target.\n>The same repeated number may be chosen from candidates unlimited number of times.\n<!-- more -->\n\n\n\n## åˆ†æ\n1ã€è¿™ç±»é—®é¢˜å…¶å®æ¡ä»¶è¾ƒé‡è¦ï¼Œå€™é€‰æ•°å­—æ— é‡å¤ã€ç›®æ ‡ç»“æœå”¯ä¸€\n\næ€è·¯æ–¹æ³•\n### æ–¹æ³•ä¸€\nè¿™ç±»é—®é¢˜é€’å½’ï¼ˆå›æº¯ï¼‰å»å¤„ç†åªéœ€è¦æ˜ç¡®é€’å½’å‡½æ•°å‚æ•°å®šä¹‰å’Œå«ä¹‰ï¼Œå…¶å®é—®é¢˜å°±è§£å†³äº†ä¸€å¤§åŠäº†\n- è¯¦è§ä»£ç å‚æ•°æ³¨é‡Š\n\nä»£ç æ¼”ç¤ºï¼š\n```java\npackage com.dylan326.apus;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\n/**\n * æ¡ä»¶éƒ½æ˜¯æ­£æ•°ï¼Œbacktracking æ¨¡å¼ï¼Œ ä¹‹å‰çš„ä¸‰æ•°å’Œæˆ–è€…ä¸‰æ•°é è¿‘å’Œï¼Œ å›æº¯æ¨¡å¼ä¹Ÿèƒ½è§£å†³\n * å›æº¯è§£å†³çš„ä¸€ç±»é—®é¢˜\n */\npublic class A39combinationSum {\n\n    public List<List<Integer>> combinationSum(int[] candidates, int target) {\n        List<List<Integer>> list = new ArrayList<List<Integer>>();\n        backtrack(list, new ArrayList<Integer>(), candidates, target, 0);\n        return list;\n    }\n\n    /**\n     *\n     * @param list ç»“æœé›†åˆ\n     * @param tempList ç»“æœ\n     * @param nums å€™é€‰æ•°ç»„\n     * @param remain ç›®æ ‡å€¼åœ¨å½“å‰å¾ªç¯æˆ–è€…é€’å½’å‰©ä¸‹å€¼ï¼Œå½“å‰é¢˜ç›®åŠtargetï¼ˆä¸Šæ¬¡çš„remain-nums[i]ï¼‰\n     * @param start å›æº¯å¼€å§‹çš„èµ·å§‹ä½ç½®\n     */\n    private void backtrack(List<List<Integer>> list, List<Integer> tempList, int[] nums, int remain, int start) {\n        if (remain < 0) {\n            System.out.println(\"-----illegal=\"+Arrays.toString(tempList.toArray()));\n            return;\n        }\n        else if (remain == 0) { // ç»“æœæ¡ä»¶\n            System.out.println(\"found=\"+Arrays.toString(tempList.toArray()));\n            list.add(new ArrayList<>(tempList)); //  æ–°æ•°ç»„å¯¹è±¡ä¿ç•™ç»“æœ\n        } else {\n            for (int i = start; i < nums.length; i++) {\n                tempList.add(nums[i]);\n                System.out.println(\"=add=\"+nums[i]+\",array=\"+Arrays.toString(tempList.toArray()));\n//                backtrack(list, tempList, nums, remain - nums[i], i + 1);// start å‚æ•°å–å†³äºåŒ…ä¸åŒ…å«è‡ªå·±\n                backtrack(list, tempList, nums, remain - nums[i], i);// å›æº¯å¼€å§‹ä½ç½®ä»å½“å‰å…ƒç´ å¼€å§‹\n                tempList.remove(tempList.size() - 1);\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        A39combinationSum a39combinationSum = new A39combinationSum();\n        System.out.println(Arrays.toString(a39combinationSum.combinationSum(new int[]{7, 2, 3, 4}, 7).toArray()));\n    }\n}\n\n```\n\n\nä»£ç æ¼”ç¤ºï¼šè§ A39combinationSum.java\n\nä»£ç æ–‡ä»¶ï¼š\n[A39combinationSum.java](https://github.com/yangl326-Dylan/apus/blob/master/src/main/java/com/dylan326/apus/A39combinationSum.java)\n\n### æ€»ç»“\n\n- é€€å‡ºé€’å½’æ¡ä»¶ã€æˆ–è€…æ‰¾åˆ°ç»“æœæ¡ä»¶\n- å®é™…ä¸ºé€’å½’å…¨ç»„åˆçš„ä¸€ç§å‰ªææ–¹å¼\n\n------\n\n**ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»å…è®¸ä¸å¾—è½¬è½½ã€‚**\n","tags":["è„‘å­ç§€é€—","leecode"],"categories":["ç®—æ³•"]},{"title":"ä¹°äº†ä¸€æœ¬ä¹¦ä½œä¸ºç¤¼ç‰©","url":"/2019/06/18/20190618/","content":"\n## ä¸–äº‹å¦‚ä¹¦\n<!-- more -->\n>  æˆ‘åªçˆ±ä½ è¿™ä¸€å¥ï¼Œ ä»å‰è½¦é©¬å¾ˆæ…¢... @Echo\n>\n","tags":["å¿ƒæƒ…","æ—¥è®°"],"categories":["å…¶ä»–"]},{"title":"äº”æœˆ","url":"/2019/05/07/20190507/","content":"\n## æœŸè®¸\n<!-- more -->\n> ä»Šå¹´çš„äº”æœˆï¼Œè®©äººæœŸå¾…çš„ä¸€ä¸ªæœˆä»½ @Dylan @Echo\n>\n","tags":["å¿ƒæƒ…","æ—¥è®°"],"categories":["å…¶ä»–"]},{"title":"2019-æ˜¥é›ª","url":"/2019/02/13/20190213/","content":"\n## 2019\n<!-- more -->\n> 2019 æ³¨å®šä¸å¹³å‡¡çš„ä¸€å¹´ @Dylan @Echo\n> æ•…å®«ä¸‹é›ªäº†ï¼Œå¦‚ä½•æ‰èƒ½æ‹å‡ºä¸€ä¸ªäººçš„ç´«ç¦åŸ\n","tags":["å¿ƒæƒ…","æ—¥è®°"],"categories":["å…¶ä»–"]},{"title":"A-leecode-ä¸‰æ•°å’Œ[Three Sum] or Næ•°å’Œæˆ–è€…ç›¸è¿‘","url":"/2019/01/28/A_leecode_sum3orN/","content":"\n## é¢˜ç›®è§£æ\n>Given an array nums of n integers, are there elements a, b, c in nums such that a + b + c = 0? Find all unique triplets in the array which gives the sum of zero.\n>Note:\n> The solution set must not contain duplicate triplets.\n<!-- more -->\n\n\n\n## åˆ†ææ­¥éª¤\n1ã€æ¡ä»¶ç»™å‡ºå­å…ƒç´ ä¸‰ä¸ªå’Œä¸º0\n2ã€é™åˆ¶å’Œå‰ç½®æ¡ä»¶ï¼Œ éé‡å¤æ•°ç»„\n3ã€æ€è·¯ï¼šæœ€ç›´æ¥çš„æ€è·¯æœªå°ä¸å¥½ï¼Œ é™åˆ¶ä»…ä¸º3æ•°\n\nä»£ç æ¼”ç¤ºï¼š\n```java\npublic class A15Sum3 {\n\n    /**\n     * ç›´æ¥å¤„ç†æ–¹å¼\n     *\n     * @param nums\n     * @param target\n     * @return\n     */\n    public static List<List<Integer>> sum3(int[] nums, int target) {\n        List<List<Integer>> result = new ArrayList<List<Integer>>();\n        if (nums.length < 3) { // åˆå§‹æ¡ä»¶æ£€æŸ¥\n            return result;\n        }\n        Arrays.sort(nums); // æ’å¥½åº\n        for (int i = 0; i < nums.length; i++) {\n            int start = i + 1, end = nums.length - 1;\n            int tmp = target - nums[i];\n            if (i > 0 && nums[i] == nums[i - 1]) { // ç›¸ç­‰å…ƒç´  ç»§ç»­ä¸‹ä¸€ä¸ª\n                continue;\n            }\n            while (start < end) {\n                if (tmp < nums[start] + nums[end]) {\n                    end--;\n                } else if (tmp > nums[start] + nums[end]) {\n                    start++;\n                } else {\n                    List<Integer> tmp2 = new ArrayList<Integer>();\n                    tmp2.add(nums[i]);\n                    tmp2.add(nums[start]);\n                    tmp2.add(nums[end]);\n                    start++;\n                    end--;\n                    while (start < end && nums[start] == nums[start - 1]) {\n                        start++;\n                    }\n                    while (end > start && nums[end] == nums[end + 1]) {\n                        end--;\n                    }\n                    result.add(tmp2);\n                }\n            }\n\n\n        }\n        return result;\n    }\n\n    /**\n     * Næ•°å’Œæˆ–è€…å’Œé è¿‘å¤„ç†æ¨¡å¼\n     *\n     * @param nums\n     * @param target\n     * @return\n     */\n    public static List<List<Integer>> sum3New(int[] nums, int target) {\n        Map<List<Integer>, List<Integer>> result = new HashMap<>();\n        Arrays.sort(nums);\n        sum3Backtracking(result, new ArrayList<Integer>(), nums, target, 0);\n        return new ArrayList<>(result.values());\n    }\n\n    /**\n     * backtracking æ¥å¤„ç†\n     *\n     * @param result\n     * @param item\n     * @param nums\n     * @param remain\n     * @param start\n     */\n    public static void sum3Backtracking(Map<List<Integer>, List<Integer>> result, List<Integer> item, int[] nums, int remain, int start) {\n        if (nums.length> 0 && remain < minArraySum(nums)) {\n            return;\n        } else if (remain == 0 && item.size() == 3) { // ç¬¦åˆç»“æœå€¼\n            result.put(new ArrayList<>(item), new ArrayList<>(item)); // æŒ‰ç…§é¢˜ç›®è¦æ±‚ï¼Œç®€å•ç”¨hashmapå»é‡å¤æ•°ç»„\n        } else {\n            for (int i = start; i < nums.length; i++) {\n                item.add(nums[i]);//* â‘  æ·»åŠ å½“å‰å…ƒç´ \n                sum3Backtracking(result, item, nums, remain - nums[i], i + 1); //* â‘¡ ä¹‹å‰çš„ç›®æ ‡å€¼ä¸ºremain-nums[i]\n                item.remove(item.size() - 1); // * â‘¢ å›é€€å…ƒç´ \n            }\n        }\n    }\n\n    /**\n     * è®¡ç®—å‡ºå½“å‰æœ€å°å€¼ï¼Œ é€€å‡ºé€’å½’çš„æ¡ä»¶ï¼Œå‡å°‘é€’å½’æ¬¡æ•°\n     * @param nums\n     * @return\n     */\n    private static int minArraySum(int[] nums) {\n        int start = 0;\n        if (start >= nums.length) {\n            return Integer.MAX_VALUE;\n        }\n        if (nums[start] >= 0) {\n            return nums[start];\n        } else {\n            int min = 0;\n            for (int i = start; i < nums.length; i++) {\n                if (nums[i] < 0 && i < 4) {\n                    min += nums[i];\n                }\n            }\n            return min;\n        }\n    }\n\n\n    public static void main(String[] args) {\n        System.out.println(sum3(new int[]{0, 0, 0, 0, 0, 0}, 0));\n        System.out.println(sum3New(new int[]{0, 0, 0, 0, 0, 0}, 0));\n        //\n        System.out.println(sum3(new int[]{-2, -1, 0, 1, 2, 3}, 0));\n        System.out.println(sum3New(new int[]{-2, -1, 0, 1, 2, 3}, 0));\n    }\n}\n```\n\n\nä»£ç æ–‡ä»¶ï¼š\n[A15Sum3.java](https://github.com/yangl326-Dylan/apus/blob/master/src/main/java/com/dylan326/apus/A15Sum3.java)\n\n### æ€»ç»“\n\n- é¦–å…ˆç›¸å½“çš„ç±»ä¼¼å›æº¯å¤„ç†ï¼Œ éœ€è¦è§£å†³çš„æ˜¯é‡å¤æ•°ç»„ç»“æœé—®é¢˜\n- ç›´æ¥å¤„ç†æ–¹å¼ï¼Œ é¿å…äº†é‡å¤æ£€æŸ¥ï¼Œ å½“é™åˆ¶è¿›ä½3æ•°å’Œï¼Œå¯ä»¥ç›´æ¥è€ƒè™‘\n- å»¶ä¼¸é—®é¢˜ï¼š Næ•°å’Œ æˆ–è€… Næ•°å’Œæ¥è¿‘ï¼Œè¿™ç±»ä»…æ˜¯ç»“æŸæ¡ä»¶å˜æ›´çš„æ‰©å±•\n\n------\n\n**ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»å…è®¸ä¸å¾—è½¬è½½ã€‚**\n","tags":["è„‘å­ç§€é€—","leecode"],"categories":["ç®—æ³•"]},{"title":"A-leecode-åˆå¹¶kä¸ªæ’åºæ•°ç»„æˆ–é“¾è¡¨[Merge k sorted array]","url":"/2019/01/09/A_leecode_merge_k_sorted_array/","content":"\n## é¢˜ç›®è§£æ\n>Merge k sorted linked lists and return it as one sorted list. Analyze and describe its complexity.\n>åˆå¹¶ä¸¤æ•°ç»„ï¼Œå½’å¹¶æ’åºä¸­çš„ä¸€ä¸ªå°æ­¥éª¤ã€‚ æŠŠè¿™ä¸ªå°æ­¥éª¤æ¼”åŒ–ä¸ºåˆå¹¶kä¸ªæ’å¥½åºçš„æ•°ç»„\n<!-- more -->\n\n\n## åˆ†ææ­¥éª¤\n1ã€æˆ‘ä»¬å…ˆå®ç°ä¸¤æ’åºæ•°ç»„æˆ–è€…é“¾è¡¨åˆå¹¶ï¼Œ æ­¤ä¸ºåŸºæœ¬ç¼–ç æ€è·¯\n2ã€kä¸ªå‚æ•°ï¼Œ ç±»æ¯”å½’å¹¶æ’åºæ€æƒ³ï¼Œä¸¤ä¸¤åˆå¹¶\n3ã€è€ƒå¯Ÿ2ä¸­çš„é€’å½’é€»è¾‘ä»¥åŠé€’å½’é€€å‡ºæ¡ä»¶\n\nä»£ç æ¼”ç¤ºï¼š\n```java\npublic class A23MergeKSortedList {\n\n\n    /**\n     * åˆ†æ²»+é€’å½’\n     * @param lists\n     * @return\n     */\n    public ListNode mergeKLists(ListNode[] lists) {\n\n        if (lists.length == 0) {// è¾¹ç•Œå€¼ï¼Œ é€’å½’é€€å‡ºæ¡ä»¶\n            return null;\n        } else if (lists.length == 1) {// è¾¹ç•Œå€¼ï¼Œ é€’å½’é€€å‡ºæ¡ä»¶\n            return lists[0];\n        } else if (lists.length == 2) {// è¾¹ç•Œå€¼ï¼Œ é€’å½’é€€å‡ºæ¡ä»¶\n            return merge2Lists(lists[0], lists[1]);\n        } else {\n            ListNode[] params;\n            if (lists.length % 2 == 0) { // å¶æ•°ä¸ªæƒ…å†µ\n                params = new ListNode[lists.length / 2];\n                for (int k = 0; k < params.length; k++) {\n                    params[k] = merge2Lists(lists[k], lists[lists.length - k - 1]);\n                }\n            } else { // å¶æ•°ä¸ªæƒ…å†µ\n                params = new ListNode[lists.length / 2 + 1];\n                for (int k = 0; k < params.length - 1; k++) {\n                    params[k] = merge2Lists(lists[k], lists[lists.length - k - 1]);\n                }\n                params[params.length - 1] = lists[lists.length / 2];\n            }\n            return mergeKLists(params); // é€’å½’å¤„ç†åˆå¹¶\n        }\n\n    }\n\n    /**\n     * merge2 åˆå¹¶ä¸¤é“¾è¡¨\n     * @param list1\n     * @param list2\n     * @return\n     */\n    public ListNode merge2Lists(ListNode list1, ListNode list2) {\n        ListNode node = new ListNode(0);\n        ListNode head = node;\n        while (true) {\n            if (list1 == null) {\n                node.next = list2;\n                break;\n            }\n            if (list2 == null) {\n                node.next = list1;\n                break;\n            }\n            if (list1.val == list2.val) {\n                node.next = new ListNode(list1.val);\n                node.next.next = new ListNode(list1.val);\n                node = node.next.next;\n                list1 = list1.next;\n                list2 = list2.next;\n            } else if (list1.val < list2.val) {\n                node.next = new ListNode(list1.val);\n                list1 = list1.next;\n                node = node.next;\n            } else {\n                node.next = new ListNode(list2.val);\n                node = node.next;\n                list2 = list2.next;\n            }\n        }\n        return head.next;\n    }\n\n    public static void main(String[] args) {\n        A23MergeKSortedList tmp = new A23MergeKSortedList();\n        ListNode a = new ListNode(1);\n        a.next = new ListNode(4);\n        a.next.next = new ListNode(5);\n\n        ListNode b = new ListNode(1);\n        b.next = new ListNode(3);\n        b.next.next = new ListNode(4);\n\n        ListNode c = new ListNode(2);\n        c.next = new ListNode(6);\n\n        tmp.mergeKLists(new ListNode[]{a, b, c});\n    }\n}\n```\n\n\nä»£ç æ–‡ä»¶ï¼š\n[A23MergeKSortedList.java](https://github.com/yangl326-Dylan/apus/blob/master/src/main/java/com/dylan326/apus/A23MergeKSortedList.java)\nTODOï¼š å®é™…è§£å†³æ–¹æ¡ˆï¼Œkä¸ªæœ‰åºè”è¡¨\n\n### æ€»ç»“\n\n- å°±æ˜¯å’Œå½’å¹¶æ’åºæ€æƒ³ç±»ä¼¼\n- æ–¹æ¡ˆäºŒï¼Œé‡‡ç”¨Kå¤§å°çš„å †å»ç»´æŒåˆå¹¶çš„æ•°æ®æ’åºã€‚å¾…ç»­\n\n------\n\n**ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»å…è®¸ä¸å¾—è½¬è½½ã€‚**\n","tags":["è„‘å­ç§€é€—","leecode"],"categories":["ç®—æ³•"]},{"title":"æ­¥å…¥è€Œç«‹ä¹‹å¹´","url":"/2019/01/03/20190103/","content":"\n## è€Œç«‹ä¹‹å¹´-2019\n<!-- more -->\n> äººæ ¼è‡ªç«‹- æœ‰ç€è‡ªå·±ç‹¬ç‰¹çš„äººæ ¼é­…åŠ›ï¼Œæ”¯æ’‘ç€å®¶åº­ï¼Œå½±å“ç€å‘¨å›´çš„äººå’Œäº‹\n> å­¦è¯†è‡ªç«‹- æœ‰ç€ç‹¬ç«‹çš„çŸ¥è¯†è‡ªæˆ‘å­¦ä¹ ä½“ç³»ï¼Œå­¦ä¹ ->æ€è€ƒ->æ€»ç»“->ä¼ æ’­\n> äº‹ä¸šè‡ªç«‹- äº‹ä¸šæˆé•¿ä½“ç³»ï¼Œæ ¸å¿ƒç«äº‰åŠ›\n","tags":["å¿ƒæƒ…","æ—¥è®°"],"categories":["å…¶ä»–"]},{"title":"å…¼å¬åˆ™æ˜","url":"/2018/12/29/20181229/","content":"\n## å¹´æœ«\n> åå¬åè¨€ï¼Œå…¼å¬åˆ™æ˜ã€‚2018æ€»ç»“è¯\n","tags":["å¿ƒæƒ…","æ—¥è®°"],"categories":["å…¶ä»–"]},{"title":"A-leecode-è½®è½¬çš„æ’åºæ•°ç»„æŸ¥æ‰¾å…ƒç´ [RotatedSortedArray]","url":"/2018/12/24/A_leecode_rotaed_sorted_array/","content":"\n## é¢˜ç›®è§£æ\n> Suppose an array sorted in ascending order is rotated at some pivot unknown to you beforehand.\n> (i.e., [0,1,2,3,4,5,6] might become [5,6,0,1,2,3,4]).\n> You are given a target value to search. If found in the array return its index, otherwise return -1.\n> You may assume no duplicate exists in the array.\n> Your algorithm's runtime complexity must be in the order of O(log n).\n<!-- more -->\n> æ€è·¯ç±»æ¯”äºŒåˆ†ï¼Œ å˜ç§ï¼Œæ¯”è¾ƒä¸­ä½æ•°å’Œå·¦å³ä¸¤ä¸ªè¾¹ç•Œå¤§å°ï¼Œ èƒ½ç¡®å®šå“ªåŠè¾¹æ˜¯æœ‰åºï¼Œå“ªåŠè¾¹æ˜¯è½¬ç½®ã€‚å†æ¯”è¾ƒå¤§å°ç¡®targetå†å“ªåŠè¾¹ï¼Œæœ‰åºçš„é‡‡ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼Œè½¬ç½®çš„å›åˆ°äº†åˆå§‹é—®é¢˜\n\n\næ’åºæ•°ç»„ä¸­è¶…æ‰¾æŸä¸ªå…ƒç´ ï¼ŒäºŒåˆ†æŸ¥æ‰¾è¾ƒå¿«é€Ÿã€‚ é¢˜ç›®æœ‰ç‚¹æ”¹åŠ¨æ˜¯æ­¤æ’åºæ•°ç»„ç»è¿‡è½®è½¬ï¼Œ å…¶å®æœ¬è´¨è¿˜æ˜¯æŒ‰ç…§äºŒåˆ†æŸ¥æ‰¾çš„æ€è·¯æ¥\n\n## åˆ†ææ­¥éª¤\n1ã€è½®è½¬çš„é€’å¢æ’åºæ•°ç»„ï¼Œæœ‰ä¸ªç‰¹ç‚¹ï¼Œ æˆ‘ä»¬å–ä¸­ä½æ•°åï¼Œå¿…å®šæœ‰ä¸€æ®µæ˜¯å•è°ƒå¢ï¼Œå¦ä¸€æ®µæ˜¯è½®è½¬æœ‰åº\n2ã€é‚£ä¹ˆå°±æ˜¯ä¸€ä¸ªåˆå§‹æ¡ä»¶ç¼©å‡é—®é¢˜ï¼Œ å¦‚æœç›®æ ‡æ•°åœ¨å•è°ƒå¢é‡Œé¢ï¼Œé‚£ä¹ˆäºŒåˆ†æŸ¥æ‰¾ï¼Œå¦‚æœä¸åœ¨ï¼Œå›åˆ°äº†1æµç¨‹åˆå§‹é—®é¢˜\n3ã€è€ƒè™‘è¾¹ç•Œæ¡ä»¶å’Œå¾ªç¯é€€å‡ºæ¡ä»¶\n\nä»£ç æ¼”ç¤ºï¼š\n```java\npublic class A33RotatedSortedArray {\n\n    public int search(int[] nums, int target) {\n        int start = 0, end = nums.length - 1;\n        if (nums.length == 0) {\n            return -1;\n        }\n        if (target < nums[start] && target > nums[end]) {\n            return -1;\n        }\n        if (target == nums[start] && start == end) {\n            return start;\n        }\n        while (start <= end) {\n            int index = (start + end) / 2;\n            int tmp = nums[index];\n            if (tmp == target) { // æ‰¾åˆ°ç›®æ ‡\n                return index;\n            }\n            if (tmp <= nums[end]) {\n                if (target >= tmp && target <= nums[end]) { // target åœ¨æœ‰åºå³ä¾§\n                    return searchSecond(nums, target, index, end);\n                } else { // targetåœ¨è½¬ç½®å·¦ä¾§ï¼Œé‡æ–°è°ƒæ•´å³è¾¹ç•Œ\n                    end = index - 1;\n                }\n            } else {\n                if (target >= nums[start] && target <= tmp) { // target åœ¨æœ‰åºå·¦ä¾§\n                    return searchSecond(nums, target, start, index);\n                } else { //// targetåœ¨è½¬ç½®å·¦ä¾§ï¼Œé‡æ–°è°ƒæ•´å·¦è¾¹ç•Œ\n                    start = index + 1;\n                }\n            }\n        }\n        return -1;\n    }\n\n    /**\n     * äºŒåˆ†æŸ¥æ‰¾\n     * @param nums\n     * @param target\n     * @param start\n     * @param end\n     * @return\n     */\n    private static int searchSecond(int[] nums, int target, int start, int end) {\n        while (start <= end) {\n            if (target < nums[start] || target > nums[end]) {\n                return -1;\n            }\n            int index = (start + end) / 2;\n            int tmp = nums[index];\n            if (tmp == target) {\n                return index;\n            }\n            if (target < tmp) {\n                end = index - 1;\n            } else {\n                start = index + 1;\n            }\n        }\n        return -1;\n    }\n```\n\n\nä»£ç æ–‡ä»¶ï¼š\n[A33RotatedSortedArray.java](https://github.com/yangl326-Dylan/apus/blob/master/src/main/java/com/dylan326/apus/A33RotatedSortedArray.java)\n\n### æ€»ç»“\n\n- å¦‚æœå‰ç½®æ¡ä»¶å˜åŒ–ï¼Œå¯èƒ½çš„ä¸€ç§æ˜¯æŸäº›æ€è·¯çš„ç†è§£æ¼”è¿›æˆ–è€…ä¸¾ä¸€åä¸‰ã€‚ è¿˜æœ‰ä¸€ç±»æ˜¯æ€è€ƒé€»è¾‘é€’è¿›å¼\n\n------\n\n**ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»å…è®¸ä¸å¾—è½¬è½½ã€‚**\n","tags":["è„‘å­ç§€é€—","leecode"],"categories":["ç®—æ³•"]},{"title":"ä¸ƒä¸ªä¹ æƒ¯æ‘˜è¦","url":"/2018/11/28/20181128/","content":"\n## ä¸ƒä¸ªä¹ æƒ¯\n>ä¹ æƒ¯ä¸€ï¼šç§¯æä¸»åŠ¨ ï¼ˆBE  PROACTIVEï¼‰ï¼šé‡‡å–ä¸»åŠ¨ï¼Œä¸ºè‡ªå·±è¿‡å»ã€ç°åœ¨ä»¥åŠæœªæ¥çš„è¡Œä¸ºè´Ÿè´£ ï¼Œå¹¶ä¾æ®åŸåˆ™åŠä»·å€¼è§‚ï¼Œè€Œéæƒ…ç»ªæˆ–å¤–åœ¨ç¯å¢ƒæ¥ä¸‹å†³å®šã€‚\n>ä¹ æƒ¯äºŒï¼šä»¥ç»ˆä¸ºå§‹ï¼ˆBEGIN WITH THE END IN MINDï¼‰ï¼š æ‰€æœ‰äº‹ç‰©éƒ½ç»è¿‡ä¸¤æ¬¡çš„åˆ›é€ â€”â€”å…ˆæ˜¯åœ¨è„‘æµ·é‡Œé…é…¿ï¼Œå…¶æ¬¡æ‰æ˜¯å®è´¨çš„åˆ›é€ ã€‚é¢†å¯¼å·¥ä½œçš„æ ¸å¿ƒï¼Œå°±æ˜¯åœ¨å…±æœ‰çš„ä½¿å‘½ã€æ„¿æ™¯å’Œä»·å€¼è§‚ä¹‹åï¼Œåˆ›é€ å‡ºä¸€ä¸ªæ–‡åŒ–ã€‚\n>ä¹ æƒ¯ä¸‰ï¼šè¦äº‹ç¬¬ä¸€ï¼ˆPUT FIRST THINGS FIRSTï¼‰ï¼šå®è´¨çš„åˆ›é€ ï¼Œæ˜¯æ¢¦æƒ³çš„ç»„ç»‡ä¸å®è·µã€‚\n>ä¹ æƒ¯å››ï¼šåŒèµ¢æ€ç»´ï¼ˆTHINK WIN/WIN ): æ˜¯ä¸€ç§åŸºäºäº’æ•¬ï¼Œå¯»æ±‚äº’æƒ çš„æ€è€ƒæ¡†æ¶ä¸å¿ƒæ„ï¼Œç›®çš„æ˜¯æ›´ä¸°å¯Œçš„æœºä¼šã€è´¢å¯ŒåŠèµ„æºï¼Œè€Œéæ•Œå¯¹å¼ç«äº‰ã€‚\n>ä¹ æƒ¯äº”ï¼šçŸ¥å½¼è§£å·±ï¼ˆSEEK FIRST TOUNDERSTAND ï¼ŒTHEN  TORE  UNDERSTOODï¼‰ï¼šå½“æˆ‘ä»¬èˆå¼ƒå›ç­”å¿ƒï¼Œæ”¹ä»¥äº†è§£å¿ƒå»è†å¬åˆ«äººï¼Œä¾¿èƒ½å¼€å¯çœŸæ­£çš„æ²Ÿé€šï¼Œå¢è¿›å½¼æ­¤çš„å…³ç³»ã€‚\n>ä¹ æƒ¯å…­ï¼šç»Ÿåˆç»¼æ•ˆï¼ˆSYNERGIZEï¼‰ï¼šéæŒ‰ç…§æˆ‘çš„æ–¹å¼ï¼Œäº¦ééµå¾ªä½ çš„æ–¹å¼ï¼Œè€Œæ˜¯ç¬¬ä¸‰ç§è¿œèƒœè¿‡äºä¸ªäººä¹‹è§çš„åŠæ³•ã€‚1+1å¤§äº2ã€‚\n>ä¹ æƒ¯ä¸ƒï¼šä¸æ–­æ›´æ–°ï¼ˆSHARPEN  THE SAW ï¼‰ ï¼šå¦‚ä½•åœ¨èº«ä½“ã€ç²¾ç¥ã€æ™ºåŠ›ï¼Œç¤¾ä¼šæˆ–æƒ…æ„Ÿå››ä¸ªåŸºæœ¬ç”Ÿæ´»å±‚é¢ä¸æ–­æ›´æ–°è‡ªå·±ã€‚\n","tags":["å¿ƒæƒ…","æ—¥è®°"],"categories":["å…¶ä»–"]},{"title":"A-leecode-å­—å…¸åºä¸‹ä¸€ä¸ª[NextPermutation]","url":"/2018/11/26/A_leecode_nest_permutation/","content":"\n## é¢˜ç›®è§£æ\n>Implement next permutation, which rearranges numbers into the lexicographically next greater permutation of numbers.\n>If such arrangement is not possible, it must rearrange it as the lowest possible order (ie, sorted in ascending order).\n>The replacement must be in-place and use only constant extra memory.\n>Here are some examples. Inputs are in the left-hand column and its corresponding outputs are in the right-hand column.\n<!-- more -->\n1,2,3 â†’ 1,3,2\n3,2,1 â†’ 1,2,3\n1,1,5 â†’ 1,5,1\n\n\n## åˆ†ææ­¥éª¤\nå…³é”®è¦ç‚¹\n1ã€å·¦é¢†ä½å°çš„ç¬¬ä¸€çš„æ•°nï¼Œä¾‹å­ï¼ˆ4ã€5ã€3ã€2ï¼‰ä¾æ¬¡æ˜¯2ï¼Œ3ï¼Œ5ï¼Œ4 é‚£ä¹ˆn=4\n2ã€æ‰¾åˆ°4çš„å³è¾¹æ¯”n=4å¤§çš„æœ€å°çš„ä¸€ä¸ªæ•°ï¼Œä¾‹å­æ˜¯5ã€‚ äº¤æ¢è¿™ä¸¤ä¸ªæ•°å­—\n3ã€n=4å³è¾¹çš„æ•°æ®æ’åºä¸ºé€’å¢åºåˆ—ï¼Œ å³ä»å°åˆ°å¤§æ’åº 5ã€2ã€3ã€4\n\nä»£ç æ¼”ç¤ºï¼š\n```java\n/**\n * Created by dylan on 2017/5/22.\n * å­—å…¸åºçš„ä¸‹ä¸€ä¸ªæ•°å­—, å¦‚æœæ²¡æœ‰åˆ™ä¸ºåŸæ•°ç»„\n * 1,4,3,2 -> 2,1,3,4\n * 1,3,4,2 -> 1,4,2,3\n */\npublic class A31NextPermutation {\n\n    public static int[] next(int[] nums) {\n        int tmp1 = -1;\n        int index1 = 0;\n        for (int i = nums.length - 1; i > 0; i--) {//è®°å½•ä»å³è¾¹å¼€å§‹æŸ¥æ‰¾ï¼Œæ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªå·¦é‚»ä½å°çš„æ•°\n            if (nums[i - 1] < nums[i]) {\n                tmp1 = nums[i - 1];\n                index1 = i - 1;\n                break;\n            }\n        }\n        if (tmp1 == -1) { // æ‰¾ä¸åˆ°åˆ™ä¸ºå­—å…¸åºçš„æœ€å¤§å€¼ï¼Œ ä¸‹ä¸€ä¸ªæŒ‰ç…§é¢˜è¦æ±‚ä¸ºå›åˆ°æœ€å°å€¼\n//            return num;\n            int m = 0, n = nums.length - 1;\n            while (m < n) {\n                int tmp = nums[m];\n                nums[m++] = nums[n];\n                nums[n--] = tmp;\n            }\n            return nums;\n        }\n        int delta = Integer.MAX_VALUE;\n        int index2 = 0;\n        for (int i = index1 + 1; i < nums.length; i++) {//æ‰¾åˆ°æ¯”tmp1å¤§çš„æœ€å°æ•°\n            if (nums[i] > tmp1 && nums[i] - tmp1 < delta) {\n                delta = nums[i] - tmp1;\n                index2 = i;\n\n            }\n        }\n        //swap\n        nums[index1] = nums[index2];\n        nums[index2] = tmp1;\n\n        //sort index1+1~ num.lengh\n        for (int i = index1 + 1; i < nums.length; i++) {// å¯¹index1åé¢çš„æ•°æ®æŒ‰å°åˆ°å¤§æ’åº\n            for (int j = i + 1; j < nums.length; j++) {\n                if (nums[i] > nums[j]) {\n                    int tmp = nums[i];\n                    nums[i] = nums[j];\n                    nums[j] = tmp;\n                }\n            }\n        }\n        return nums;\n    }\n}\n```\n\n\nä»£ç æ–‡ä»¶ï¼š\n[A31NextPermutation.java](https://github.com/yangl326-Dylan/apus/blob/master/src/main/java/com/dylan326/apus/A31NextPermutation.java)\n\n### æ€»ç»“\n\n- å®šä¹‰çš„å®ç°è¿‡ç¨‹ï¼Œå¦‚ä½•æŠŠç†è§£çš„å®šä¹‰ç¨‹åºåŒ–ç¼–å†™å‡ºæ¥\n\n------\n\n**ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»å…è®¸ä¸å¾—è½¬è½½ã€‚**\n","tags":["è„‘å­ç§€é€—","leecode"],"categories":["ç®—æ³•"]},{"title":"å°è®°ä¸€æ—¥","url":"/2018/11/13/20181026/","content":"\n## å“ˆå“ˆ\næ‹¿ç€ä¸€å¼ Bè¶…å›¾ï¼Œè¹¦è¹¦è·³è·³çš„ç»™æˆ‘è¯´ï¼Œå¿«çœ‹å¿«çœ‹ï¼Œä½ çš„å®å®\nRT\n","tags":["å¿ƒæƒ…","æ—¥è®°"],"categories":["å…¶ä»–"]},{"title":"A-leecode-ç§»é™¤å…ƒç´ [remove element]","url":"/2018/10/30/A_leecode_remove_element/","content":"\n## é¢˜ç›®è§£æ\n>Given an array nums and a value val, remove all instances of that value in-place and return the new length.\n>Do not allocate extra space for another array, you must do this by modifying the input array in-place with O(1) extra memory.\n>The order of elements can be changed. It doesn't matter what you leave beyond the new length.\n>Example 1:\n>Given nums = [3,2,2,3], val = 3,\n>Your function should return length = 2, with the first two elements of nums being 2.\n>It doesn't matter what you leave beyond the returned length.\n<!-- more -->\n\næ•´å‹æ•°ç»„ä¸­ç§»é™¤å’Œç›®æ ‡valç›¸åŒçš„å…ƒç´ ï¼Œè¿”å›å‰©ä¸‹æ•°æ®çš„é•¿åº¦nï¼Œæ•°ç»„å‰nå…ƒç´ æ˜¯ç»“æœå…ƒç´ \n\n## åˆ†ææ­¥éª¤\n1ã€è¿”å›évalå…ƒç´ ä¸ªæ•°nï¼Œå¹¶ä¸”æ•°ç»„å‰næ˜¯éval å…ƒç´ ï¼Œ æ³¨æ„é¡ºåºæ— è¦æ±‚\n2ã€é™¤å»nä¸ªå…ƒç´ å¤–å‰©ä½™çš„å…ƒç´ å†…å®¹ä¹Ÿæ²¡è¦æ±‚\n3ã€ä¸å¼€è¾Ÿé¢å¤–çš„æ•°ç»„ç©ºé—´\n\nä»£ç æ¼”ç¤ºï¼š\n```java\n/**\n * Given an array nums and a value val, remove all instances of that value in-place and return the new length.\n *\n * Do not allocate extra space for another array, you must do this by modifying the input array in-place with O(1) extra memory.\n *\n * The order of elements can be changed. It doesn't matter what you leave beyond the new length.\n * åˆ†æ ï¼šç›´æ¥æ–¹æ¡ˆæ˜¯éå†æ•°ç»„ é‡åˆ°å’Œvalç›¸åŒçš„å…ƒç´  ä¸åé¢ä¸å’Œvalç›¸åŒçš„å…ƒç´ äº¤æ¢\n * æ­¤å¤„å°æŠ€å·§ï¼Œ åé¢ä¸åŒäºvalçš„å…ƒç´ å¯ä»¥æŒ‰ç…§å€’åºæ¥äº¤æ¢\n * å®ç°ç›¸å¯¹è¾ƒOK  ä¼˜äº99.85%çš„æäº¤\n */\npublic class A27RemoveElement {\n\n    public int removeElement(int[] nums, int val) {\n        int counter = 0;\n        int end = nums.length - 1; // endæ ‡è®°éœ€è¦äº¤æ¢çš„å…ƒç´ \n        for (int i = 0; i < nums.length; i++) {\n            if(i > end) break;\n            if(nums[i] == val){\n                while (nums[end]==val){// ä»å°¾éƒ¨å‘å‰æ‰¾ ç¬¬ä¸€ä¸ªä¸ç­‰äºvalçš„å…ƒç´ \n                    end--;\n                    if(end <i){ // å…¨éƒ¨æ˜¯valçš„æƒ…å†µä¼šå¯¼è‡´end < æ­¤æ—¶içš„å€¼ï¼Œ è¿”å›ç»Ÿè®¡è®¡æ•°\n                        return counter;\n                    }\n                }\n                int tmp = nums[i]; // äº¤æ¢iå’Œendå…ƒç´ ä½ç½®\n                nums[i] = nums[end];\n                nums[end] = tmp;\n                end--;\n                counter++; // å’Œä¸åŒäºvalçš„å…ƒç´ äº¤æ¢åéœ€è¦è®¡æ•°++\n            } else {\n                counter++; // ä¸åŒäºvalçš„å…ƒç´  è®¡æ•°++\n            }\n        }\n        return counter;\n    }\n\n    public static void main(String[] args) {\n        A27RemoveElement a= new A27RemoveElement();\n        a.removeElement(new int[]{4,5},5);\n\n    }\n}\n```\n\n\nä»£ç æ–‡ä»¶ï¼š\n[A27RemoveElement.java](https://github.com/yangl326-Dylan/apus/blob/master/src/main/java/com/dylan326/apus/A27RemoveElement.java)\n\n### æ€»ç»“\n\n- é¡ºåºæ€è·¯å®ç°ï¼Œä¼˜åŒ–äº†ä¸‹å°ç»†èŠ‚ï¼Œ ä¸»è¦è¿˜æ˜¯é˜²è„‘è¢‹ç§€é€—ã€‚ æ€è€ƒæ€è€ƒï¼Œå†™å†™\n\n------\n\n**ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»å…è®¸ä¸å¾—è½¬è½½ã€‚**\n","tags":["è„‘å­ç§€é€—","leecode"],"categories":["ç®—æ³•"]},{"title":"A-leecode-æ‰‹æœºå·T9å­—æ¯ç»„åˆ","url":"/2018/10/10/A_leecode_phone_num_combine/","content":"\n## é¢˜ç›®è§£æ\n>Example:\n>Input: \"23\"\n>Output: [\"ad\", \"ae\", \"af\", \"bd\", \"be\", \"bf\", \"cd\", \"ce\", \"cf\"].\n>Note: Although the above answer is in lexicographical order, your answer could be in any o\n<!-- more -->\n\n\næ€è·¯æ–¹æ³•å’Œä»£ç æ¼”ç¤ºï¼š\n```java\n/**\n * Created by dylan on 2018/3/22.\n * ç”µè¯å·ç çš„ç»„åˆ\n * åˆ†ææ€è·¯ æ¯”å¦‚è¾“å…¥123 å®é™…æ˜¯è¾“å…¥12çš„ç»“æœåŠ ä¸Šå’Œ3å¯¹åº”çš„ç»„åˆ\n */\npublic class A17PhoneCombine {\n\n    public List<String> letterCombinations(String digits) {\n        List<String> result = new ArrayList<String>(); //å­—æ¯ç»„åˆç»“æœ\n        if (digits == null || digits.length() == 0) {\n            return result;\n        }\n\n        Map<Character, String> dict = new HashMap<Character, String>(); // åˆå§‹åŒ–æ‹¨å·T9é”®ç›˜å­—å…¸\n        dict.put('1', \"\");\n        dict.put('2', \"abc\");\n        dict.put('3', \"def\");\n        dict.put('4', \"ghi\");\n        dict.put('5', \"jkl\");\n        dict.put('6', \"mno\");\n        dict.put('7', \"pqrs\");\n        dict.put('8', \"tuv\");\n        dict.put('9', \"wxyz\");\n        dict.put('0', \" \");\n        for (char tmp : digits.toCharArray()) {// å¾ªç¯1\n            String val = dict.get(tmp);\n            if (val == null) {\n                return new ArrayList<String>();\n\n            }\n            List<String> tmpArray = new ArrayList<String>();\n            for (int i = 0; i < val.length(); i++) {//å¾ªç¯1 çš„ç»“æœresult å’Œ å½“å‰tmpæ•°å­—å¯¹åº”å­—æ¯ç»„åˆçš„å¤„ç†é€»è¾‘\n                if (result.size() == 0) {\n                    result.add(\"\");\n                }\n                for (String item : result) {\n                    tmpArray.add(item + val.charAt(i));\n                }\n            }\n            result = tmpArray; // æ›´æ–°å½“å‰å¾ªç¯çš„ç»“æœæ•°ç»„\n        }\n        return result;\n    }\n\n    public static void main(String[] args) {\n        A17PhoneCombine a17PhoneCombine = new A17PhoneCombine();\n        System.out.println(a17PhoneCombine.letterCombinations(\"123\"));\n\n\n    }\n}\n\n```\n\nä»£ç æ–‡ä»¶ï¼š\n[A17PhoneCombine.java](https://github.com/yangl326-Dylan/apus/blob/master/src/main/java/com/dylan326/apus/A17PhoneCombine.java)\n\n### æ€»ç»“\n\n- å›æº¯ä¸Šæ¬¡å¤„ç†ç»“æœï¼Œç±»ä¼¼é—®é¢˜è¿˜æœ‰æ’åˆ—ç»„åˆ\n\n------\n\n**ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»å…è®¸ä¸å¾—è½¬è½½ã€‚**\n","tags":["è„‘å­ç§€é€—","leecode"],"categories":["ç®—æ³•"]},{"title":"A-leecode-åè½¬æ•´æ•°[ReverseInteger]","url":"/2018/09/03/A_leecode_reverseInt/","content":"\n## é¢˜ç›®è§£æ\n>Given a 32-bit signed integer, reverse digits of an integer.\n>''' example: 1234->4321\n>'''\n<!-- more -->\n\nåè½¬ä¸€ä¸ªæ•´æ•°\n\n## åˆ†ææ­¥éª¤\n1ã€æ•´æ•°çš„åè½¬æ¯”èµ·å­—ç¬¦ä¸²å› ä¸ºæ•´æ•°çš„ç‰¹æ€§ï¼Œæ€è·¯å°‘è®¸ä¸ä¸€æ ·\n\nä»£ç æ¼”ç¤ºï¼š\n```java\n/**\n * Created by dylan on 2017/5/22.\n * ç¿»è½¬æ•´æ•°å’Œç¿»è½¬æ•°æ®ä¸²å¯ä»¥ç”¨ä¸ä¸€æ ·çš„æ€è·¯ï¼Œ å› ä¸ºæ•´æ•°çš„ç‰¹æ€§\n */\npublic class A7ReverseInteger {\n    public int reverse(int x) {\n        long i = 0; // æ³¨æ„æ•´æ•°åè½¬å¯èƒ½è¶Šç•Œ\n        while (x != 0) {\n            i = i * 10 + x % 10; // æœ«å°¾è¿›ä½\n            x = x / 10; //ç§»é™¤æ‰æœ«å°¾\n        }\n        if (i > Integer.MAX_VALUE || i < Integer.MIN_VALUE) {\n            i = 0;\n        }\n        return (int) i;\n    }\n}\n\n```\n\n\nä»£ç æ–‡ä»¶ï¼š\n[A7ReverseInteger.java](https://github.com/yangl326-Dylan/apus/blob/master/src/main/java/com/dylan326/apus/A7ReverseInteger.java)\n\n### æ€»ç»“\n\n- ä¸»è¦æ˜¯æ¯æ¬¡ä½™æ•°ä½œä¸ºé«˜ä½ï¼Œæ€§èƒ½å¯ä»¥å†è€ƒè™‘ä¸‹\n\n------\n\n**ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»å…è®¸ä¸å¾—è½¬è½½ã€‚**\n","tags":["è„‘å­ç§€é€—","leecode"],"categories":["ç®—æ³•"]},{"title":"å¿ƒå¿—","url":"/2018/08/07/20180807/","content":"\n## å¿ƒå¿—\næƒå½“ä¿®ç‚¼ï¼Œ ç‚¼å¿ƒå¿—ã€‚ å­¦ä¹ å’Œäº‹ä¸šä¹Ÿéœ€è¦è¿™ä¸ª\nâ€œäººä¹‹æ°”è´¨ï¼Œç”±äºå¤©ç”Ÿï¼Œæœ¬éš¾æ”¹å˜ï¼ŒæƒŸè¯»ä¹¦å¯ä»¥å˜åŒ–æ°”è´¨ï¼Œå¤ä¹‹ç²¾ç›¸æ³•è€…ï¼Œå¹¶è¨€è¯»ä¹¦å¯ä»¥å˜æ¢éª¨ç›¸ï¼Œæ¬²æ±‚å˜åŒ–ä¹‹æ³•ï¼Œæ€»é¡»å…ˆç«‹åšå“ä¹‹å¿—â€\n","tags":["å¿ƒæƒ…","æ—¥è®°"],"categories":["å…¶ä»–"]},{"title":"æµ·çº³ç™¾å·ï¼Œæœ‰å®¹ä¹ƒå¤§ï¼›å£ç«‹åƒä»ï¼Œæ— æ¬²åˆ™åˆš","url":"/2018/07/19/20180719/","content":"\n## æµ·çº³ç™¾å·ï¼Œæœ‰å®¹ä¹ƒå¤§ï¼›å£ç«‹åƒä»ï¼Œæ— æ¬²åˆ™åˆš\næ—åˆ™å¾ä»»ä¸¤å¹¿æ€»ç£\n","tags":["å¿ƒæƒ…","æ—¥è®°"],"categories":["å…¶ä»–"]},{"title":"æ¼«æ¼«é•¿è·¯ï¼ŒåŠç¨‹é£é›¨ï¼ŒåŠç¨‹æ˜¥","url":"/2018/05/09/20180509/","content":"\n## æ¼«æ¼«é•¿è·¯ï¼ŒåŠç¨‹é£é›¨ï¼ŒåŠç¨‹æ˜¥\næˆ‘å–œæ¬¢é£é›¨ä¸­çš„æ˜¥\n","tags":["å¿ƒæƒ…","æ—¥è®°"],"categories":["å…¶ä»–"]},{"title":"æ¸…æ˜æ—¶èŠ‚","url":"/2018/04/04/20180327/","content":"\n## æ¸…æ˜æ—¶èŠ‚é›¨çº·çº·\nä¸ä»…ä¸‹é›¨äº†ï¼ŒåŒ—äº¬è¿˜ä¸‹é›ªäº†~\n","tags":["å¿ƒæƒ…","æ—¥è®°"],"categories":["å…¶ä»–"]},{"title":"A-leecode-ä¸¤æ’åºæ•°ç»„çš„ä¸­ä½æ•°","url":"/2018/03/22/A_leecode_median_two_sorted_arrays/","content":"\n## é¢˜ç›®è§£æ\n>ç»™å‡ºä¸¤ä¸ªæ’å¥½åºçš„æ•°ç»„ï¼Œæ‰¾å‡ºåˆå¹¶åçš„ä¸­ä½æ•°ã€‚å¾ˆåŸºç¡€ï¼Œç»„åˆæ’åºçš„ä¸­é—´æµç¨‹ï¼Œæˆ‘é¢è¯•å€™é€‰è€…æœ‰æ—¶ä¼šè€ƒå¯Ÿè¿™ä¸ªé¢˜ç›®\n<!-- more -->\n\n\n\n## åˆ†æå’Œæ€è·¯æ–¹æ³•\n1ã€ä¸­ä½æ•°ä¸ºå¥‡å¶ä¸¤ç±»åœºæ™¯\n2ã€è¾“å…¥ä¸¤æ•°ç»„å·²æ’å¥½åºï¼Œ æ‰¾åˆ°åˆå¹¶åï¼ˆm+nï¼‰/2 æˆ–è€… ï¼ˆm+n+1ï¼‰/2 ä½ç½®çš„æ•°ã€‚ ä½†æ˜¯ä¸éœ€è¦ä½¿ç”¨åˆå¹¶æ–°ç©ºé—´\n3ã€ä¸¤ä¸ªæ•°ç»„åŒæ—¶éå† æŸ¥æ‰¾å…¶M=ï¼ˆm+nï¼‰/2 æˆ–è€… ï¼ˆm+n+1ï¼‰/2ä½ç½®çš„æ•°\n\n\nä»£ç æ¼”ç¤ºï¼š\n```java\n/**\n * å¾ˆåŸºç¡€ï¼Œç»„åˆæ’åºçš„ä¸­é—´æµç¨‹ï¼Œæˆ‘é¢è¯•å€™é€‰è€…æœ‰æ—¶ä¼šè€ƒå¯Ÿè¿™ä¸ªé¢˜ç›®\n * æ³¨æ„ä»£ç æ®µå’Œæ–¹æ³•æ‹†åˆ†ï¼Œ è¿™æ ·å¯è¯»æ€§æ›´å¼º\n */\npublic class A4MedianOfTwoSortedArray {\n    public static double findMedianSortedArrays(int[] nums1, int[] nums2) {\n        int la = nums1.length;\n        int lb = nums2.length;\n        if (la == lb && lb == 0) {\n            return 0;\n        }\n        if ((la + lb) % 2 == 0) {\n            int m1 = (la + lb) / 2;\n            int m2 = m1 + 1;\n            return (findM(nums1, nums2, m1) + findM(nums1, nums2, m2)) * 1.0 / 2.0;\n        } else {\n            return findM(nums1, nums2, (la + lb + 1) / 2);\n        }\n    }\n\n    /**\n     * size(a) >size(b)\n     *\n     * @param a\n     * @param b\n     * @param m m<=size(a+b)\n     * @return\n     */\n    private static int findM(int[] a, int[] b, int m) {\n        int la = a.length;\n        int lb = b.length;\n        int counter = 0;\n        int t1 = 0, t2 = 0;\n        int result;\n        while (true) {\n            if (t1 == la) {\n                result = b[t2];\n                t2++;\n            } else if (t2 == lb) {\n                result = a[t1];\n                t1++;\n            } else if (a[t1] <= b[t2]) {\n                result = a[t1];\n                t1++;\n            } else {\n                result = b[t2];\n                t2++;\n            }\n            counter++;\n            if (counter == m) break;\n        }\n        return result;\n    }\n\n    public static void main(String[] args) {\n        System.out.println(findMedianSortedArrays(new int[]{1, 3, 5, 6}, new int[]{2, 7, 9, 10}));\n    }\n```\n\n\nä»£ç æ–‡ä»¶ï¼š\n[A4MedianOfTwoSortedArray.java](https://github.com/yangl326-Dylan/apus/blob/master/src/main/java/com/dylan326/apus/A4MedianOfTwoSortedArray.java)\n\n### æ€»ç»“\n\n- æ— ä»–ï¼Œè‰¯å¥½ä¹ æƒ¯ï¼Œä»£ç ç‰‡æ®µæ–¹æ³•æŠ½ç¦»\n\n------\n\n**ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»å…è®¸ä¸å¾—è½¬è½½ã€‚**\n","tags":["è„‘å­ç§€é€—","leecode"],"categories":["ç®—æ³•"]},{"title":"å†¬å¤©","url":"/2018/03/09/20180309/","content":"\n## åŒ—äº¬çš„å†¬å¤©\n\n2018 å¸‚åŒºè¿˜æ²¡ä¸‹ä¸€åœºé›ª \n","tags":["å¿ƒæƒ…","æ—¥è®°"],"categories":["å…¶ä»–"]},{"title":"A-leecode-æœ€é•¿å›æ–‡å­ä¸²é—®é¢˜","url":"/2018/01/29/A_leecode_longest_palindrome_substr/","content":"\n## é¢˜ç›®è§£æ\n>Given a string s, find the longest palindromic substring in s. You may assume that the maximum length of s is 1000.\n<!-- more -->\n\n\n\n## åˆ†æ\n1ã€å›æ–‡ä¸²çš„å®šä¹‰ä¸ºå­—ç¬¦ä¸²ä¸ºè½´å¯¹ç§°ä¾‹å¦‚ \"aba\" \"aa\" \"a\" éƒ½å¯ä»¥ç§°ä¸ºå›æ–‡ä¸²\n2ã€é¢˜ç›®æ‰¾å‡ºç›®æ ‡ä¸²ä¸­æœ€é•¿çš„å›æ–‡å­ä¸²é•¿åº¦\n\næ€è·¯æ–¹æ³•\n### æ–¹æ³•ä¸€\né¦–å…ˆæƒ³åˆ°çš„æ˜¯ç©·ä¸¾æ³•,ä¹Ÿæ˜¯æœ€åŸºæœ¬çš„ç¼–ç æ€è·¯çš„ä½“ç°ã€‚è€ƒè™‘åˆ°å›æ–‡çš„åœºæ™¯å¯èƒ½ä¸ºå¥‡æ•°æˆ–è€…å¶æ•°åœºæ™¯ã€‚\n- å›æ–‡åˆ¤å®šå‡½æ•°[i,j] åˆ¤å®šæ•°ç»„çš„iåˆ°jä½å›æ–‡ä¸²\n- ä»må¼€å§‹éå† m âˆˆ [0,length-1],é‡‡ç”¨ä¸­åˆ†æ–¹å¼ï¼Œ æŒ‰ç…§å¥‡å¶ä¸¤ç±»æƒ…å†µæŸ¥æ‰¾\n\nä»£ç æ¼”ç¤ºï¼š\n```java\n/**\n    * æ‰¾æ‰€æœ‰ï¼Œ ä¸­åˆ†æ–¹å¼\n    *\n    * @param s\n    * @return\n    */\n   public String longestPalindrome(String s) {\n       if (s == null) return null;\n       if (s.length() == 1) return s;\n       char[] array = s.toCharArray();\n       if (s.length() == 2) {\n           if (array[0] == array[1]) {\n               return s;\n           } else {\n               return s.substring(0, 1);\n           }\n       }\n       int start;\n       int end;\n       int max = 0;\n       int result1 = 0;\n       int result2 = 0;\n\n       for (int i = 0; i < array.length; i++) {// å¥‡æ•°æƒ…å†µ\n           start = i;\n           end = i;\n           while (start >= 0 && end < array.length) {\n               if (array[start] == array[end]) {\n                   if ((end - start + 1) > max) {\n                       result1 = start;\n                       result2 = end;\n                       max = end - start + 1;\n                   }\n                   start--;\n                   end++;\n               } else {\n                   break;\n               }\n           }\n       }\n       for (int i = 0; i < array.length - 1; i++) {//å¶æ•°æƒ…å†µ\n           start = i;\n           end = i + 1;\n           while (start >= 0 && end < array.length) {\n               if (array[start] == array[end]) {\n                   if ((end - start + 1) > max) {\n                       result1 = start;\n                       result2 = end;\n                       max = end - start + 1;\n                   }\n                   start--;\n                   end++;\n               } else {\n                   break;\n               }\n           }\n       }\n       return s.substring(result1, result2 + 1);\n   }\n```\n\n### æ–¹æ³•äºŒ\nåœ¨æ–¹æ³•1çš„ç©·ä¸¾æ³•ä¸Šå¯ä»¥è¿™æ ·æ€è€ƒ,æœ€é•¿å›æ–‡ä¸²é•¿åº¦ä¸ä¼šè¶…è¿‡nï¼ˆlengthï¼‰, é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æŒ‰ç…§é•¿åº¦n-- æ¥æ‰¾ã€‚æ€è·¯è¾ƒæ–¹æ³•1,æœ€åæƒ…å†µå¦‚æœé•¿åº¦ä¸º1,ä»£ä»·åŒæ–¹æ³•1 å…¨éƒ¨éå†\n- i,i+n-1\n- å…ˆæ‰¾é•¿åº¦ä¸ºnçš„å›æ–‡å­ä¸²ï¼Œå†æ‰¾n-1é•¿åº¦çš„,å¦‚æœæ‰¾åˆ°äº†é€€å‡ºæŸ¥æ‰¾ï¼Œ å³ä¸ºç»“æœã€‚\n\nä»£ç æ¼”ç¤ºï¼šç•¥\n\n### æ–¹æ³•ä¸‰\næ€è€ƒåˆ°æ–¹æ³•1ä¸­å…¶å®æœ‰å¾ˆå¤šé‡å¤åˆ¤å®š,å¦‚æœçŸ¥æ™“r[i+1]\\\\[j-1]æ ‡è¯†æ•°ç»„i+1åˆ°j-1ä½ç½®çš„å­ä¸²ä¸ºå›æ–‡ä¸²,å¦‚æœa[i] == a[j]æ¡ä»¶ä¸‹ r[i]\\\\[j]ä¹Ÿä¸ºå›æ–‡å­ä¸²,ä¸”é•¿åº¦+2.é‚£ä¹ˆé¦–å…ˆæƒ³åˆ°çš„å°±æ˜¯åŠ¨æ€è§„åˆ’,å…ˆç¡®å®šçŠ¶æ€è½¬ç§»æ–¹ç¨‹.\néœ€è¦æ³¨æ„åˆå§‹æ¡ä»¶å’Œéå†æ¡ä»¶ï¼Œè¿™ä¸¤è€…å–å†³äºè½¬ç§»æ–¹ç¨‹çš„æ¨å¯¼æ€è·¯.\n- a[] æ ‡è¯†åŸå§‹ä¸²æ•°ç»„ã€‚r[i]\\\\[j]æ ‡è¯†æºä¸²ä»iåˆ°jä¸ºå›æ–‡ä¸²\n- a[i]=a[j] å¹¶ä¸”r[i+1]\\\\[j-1]ä¸ºå›æ–‡ä¸²ï¼Œ é‚£ä¹ˆæ–°ç»“æœä¸ºi+1,j-1çš„ç»“æœé•¿åº¦+2\n- çŠ¶æ€è½¬ç§»æ–¹ç¨‹å†³å®šåˆå§‹æ¡ä»¶å’Œéå†æ¡ä»¶, åˆå§‹æ¡ä»¶ä¸ºa[i]\\\\[i]=1,éå†æ¡ä»¶å¯ä»¥æ˜¯ iä»length-1 å¼€å§‹ i--, jä»i+1å¼€å§‹j++.\n\nä»£ç æ¼”ç¤ºï¼š\n```java\n     /**\n     *  æ–¹æ³•ä¸€  åŠ¨æ€è§„åˆ’ï¼Œ result[i][j] è¡¨ç¤º i->jä¸ºå›æ–‡ä¸²\n     *  é‚£ä¹ˆ array[i]=array[j] å¹¶ä¸”result[i+1][j-1]ä¸ºå›æ–‡ä¸²ï¼Œ é‚£ä¹ˆæ–°ç»“æœä¸ºé•¿åº¦+2\n     * @param str\n     * @return\n     */\n    public static int maxSubStr(String str) {\n        char[] array = str.toCharArray();\n        if (array.length <= 1) {\n            return array.length;\n\n        }\n        int size = array.length;\n        int[][] result = new int[size][size];\n        int max = 1;\n        for (int i = size - 1; i >= 0; i--) { // æ³¨æ„ éå†çš„æ–¹å¼å’Œåˆå§‹æ¡ä»¶å–å†³äº çŠ¶æ€è½¬ç§»æ–¹ç¨‹ã€‚éœ€è¦åˆ©ç”¨åˆ°ä¹‹å‰è®¡ç®—å‡ºçš„ç»“æœã€‚\n            result[i][i] = 1;\n            for (int j = i + 1; j < size; j++) {\n                if (array[i] == array[j]) {\n                    if (j == i + 1) { // å¶æ•°ä¸ªæ•°åˆå§‹åœºæ™¯\n                        result[i][j] = 2;\n                      } else {\n                        if (result[i + 1][j - 1]>0){\n                          result[i][j] = result[i + 1][j - 1] + 2;\n                        }\n                      }\n                }\n                if (result[i][j] > max) {\n                    max = result[i][j];\n                    System.out.println(String.format(\"index,i=%d,j=%d, max=%d\", i, j,max));\n                }\n            }\n        }\n        return max;\n    }\n```\n\n### æ–¹æ³•å››\nå›æ–‡ä¸²ç‰¹ç‚¹æ˜¯åè¿‡æ¥ä¹Ÿæ˜¯å®ƒæœ¬èº«,é‚£ä¹ˆæœ€é•¿å›æ–‡å­ä¸²é—®é¢˜å®é™…å°±æ˜¯æºä¸²å’Œæºä¸²ç¿»è½¬ä¸²çš„æœ€é•¿å…¬å…±å­ä¸²é—®é¢˜\nä½†æ˜¯éœ€è¦æ’é™¤æ‰æŸäº›åœºæ™¯\"abc123cba\"å’Œ\"abc321cba\",å¯ä»¥æœ€é•¿å…¬å…±å­ä¸²åŠ ä¸Šæ˜¯å¦å›æ–‡åˆ¤å®šå°±è¡Œ\n- LCSé—®é¢˜+å›æ–‡åˆ¤å®š\n\nä»£ç æ¼”ç¤ºï¼š\n\nä»£ç æ–‡ä»¶ï¼š\n[C9MaxPalindromeSubStr.java](https://github.com/yangl326-Dylan/apus/blob/master/src/main/java/com/dylan326/justcode/C9MaxPalindromeSubStr.java)\n[C5LCS.java](https://github.com/yangl326-Dylan/apus/blob/master/src/main/java/com/dylan326/justcode/C5LCS.java)\n[A5LongestPalindromeStr.java](https://github.com/yangl326-Dylan/apus/blob/master/src/main/java/com/dylan326/apus/A5LongestPalindromeStr.java)\n\n### æ€»ç»“\n\n- é¿å…é‡å¤è®¡ç®—åˆ¤å®šï¼Œä¿å­˜ä¸­é—´ç»“æœï¼Œç¬¦åˆåŠ¨æ€è§„åˆ’æ¡ä»¶ä¹‹ä¸€\n- çŠ¶æ€è½¬ç§»æ–¹ç¨‹å¦‚ä½•æ¨å¯¼å’Œç¼–å†™\n- å­˜åœ¨è½¬ç§»å…³ç³», çŸ¥æ™“i+1,j-1ç»“æœï¼Œé‚£ä¹ˆi,jçš„ç»“æœå¯ä»¥æ¨å¯¼å‡ºæ¥ï¼Œæ¡ä»¶äºŒ\n\n------\n\n**ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»å…è®¸ä¸å¾—è½¬è½½ã€‚**\n","tags":["è„‘å­ç§€é€—","leecode"],"categories":["ç®—æ³•"]},{"title":"sparkå®‰è£…","url":"/2018/01/15/spark_01_install/","content":"\n## å®‰è£…\nä¸‹è½½å®‰è£…åœ°å€å®˜ç½‘ï¼š[http://spark.apache.org/downloads.html](http://spark.apache.org/downloads.html)\nå¥½åƒè¿™ä¸ªæ²¡å•¥è¯´çš„ï¼Œä¸€èˆ¬getting startä»‹ç»çš„è¾ƒä¸ºæ¸…æ¥šï¼ŒæŒ‰ç…§æ­¥éª¤æµç¨‹ä¸€èˆ¬ä¸ä¼šæœ‰é—®é¢˜ï¼Œæ‰€ä»¥ç€é‡å†™ä¸‹é‡åˆ°çš„é—®é¢˜ç‚¹å’Œè¡¥å……ã€‚\n<!-- more -->\nå…³äº demo ä¾‹å­è¯­è¨€é—®é¢˜ï¼Œ æœ‰è¯­è¨€åŸºç¡€çš„æ¨èå®‰è£…scalaå­¦ä¹ ,å¦å¤–pythonä¹Ÿæ˜¯æŒºå¥½çš„ä¸€ç§.\n\n## é—®é¢˜ç‚¹å¤‡æ³¨\n\n- æ³¨æ„sparkå’Œscalaç‰ˆæœ¬åŒ¹é…é—®é¢˜ï¼Œ ä¸ºå•¥scalaä¼šå’Œpythonä¸€æ ·ï¼Œç‰ˆæœ¬ä¸èƒ½å‘å‰å…¼å®¹ï¼Œ è¿™æ˜¯ä¸€ä¸ªå¤´ç–¼çš„äº‹æƒ…\n-\nto be continued...\n","tags":["spark"],"categories":["å®æ—¶è®¡ç®—"]},{"title":"A-leecode-æœ€å¤§å®¹é‡[MostContainer]","url":"/2018/01/14/A_leecode_most_container/","content":"\n## é¢˜ç›®è§£æ\n>Given n non-negative integers a1, a2, ..., an, where each represents a point at coordinate (i, ai). n vertical lines are drawn >such that the two endpoints of line i is at (i, ai) and (i, 0). Find two lines, which together with x-axis forms a container, >such that the container contains the most water.\n>Note: You may not slant the container and n is at least 2.\n<!-- more -->\n\nç»™å‡ºä¸€ç³»åˆ—a(i),ä»»æ„ä¸¤ä¸ª(i, ai) and (i, 0) å’Œxè½´ç»„æˆçš„uå‹çŸ©å½¢é¢ç§¯æœ€å¤§ï¼Œuå‹çš„ä¸¤è¾¹é•¿åº¦å¯èƒ½ä¸ä¸€è‡´ï¼Œæ‰€è£…å®¹é‡ä¸ºçŸ­æ¿è¾¹é•¿å†³å®š\n\n\n## åˆ†æ\n1ã€å†³å®šuå‹æ¡¶é«˜åº¦çš„æ˜¯çŸ­æ¿\n2ã€å†³å®šé¢ç§¯çš„æ˜¯xè½´åº•è¾¹å’Œä¸Šé¢æ‰€æåˆ°çš„çŸ­æ¿è¾¹\n3ã€O(n)è´Ÿå¤æ‚åº¦æ¥å¤„ç†é—®é¢˜ï¼Œä¸Šä¸€æƒ…å†µä¸‹ï¼Œæœ€çŸ­è¾¹è°ƒæ•´ï¼Œæ‰ä¼šå¯èƒ½å‡ºç°é¢ç§¯è¾ƒå¤§çš„åœºæ™¯ã€‚ é‚£ä¹ˆé‡‡ç”¨ä¸¤è¾¹å¤¹é€¼\n\nä»£ç æ¼”ç¤ºï¼š\n```java\n/**\n * Created by dylan on 2017/9/21.\n * ä¸¤ä¸ªè¾¹çš„æ„æˆä¸€ä¸ªçŸ©å½¢ï¼Œä¸ºåˆå§‹é¢ç§¯ï¼Œ æ¯”å®ƒé¢ç§¯å¤§çš„åªå¯èƒ½æ˜¯çŸ­è¾¹è¢«æ›¿æ¢ï¼Œå› ä¸ºdelta Xå˜å°ï¼Œå¦‚æœå‡ºç°é¢ç§¯æ›´å¤§ï¼Œåªå¯èƒ½æ˜¯æ¯”çŸ­è¾¹æ›´é•¿çš„è¾¹\n * ä¾‹å¦‚å›¾ä¾‹ä¸­æœ€å¤§é¢ç§¯ä¸ºa2å’Œa4ç»„æˆçš„uå‹çŸ©å½¢ é¢ç§¯ä¸º2*2=4\n *               a3  \n *          a2   |    a4\n *     a1   |    |    |\n *     |    |    |    |\n *     ----------------\n */\npublic class A11MostContainer {\n    public int maxArea(int[] height) {\n        int max = 0;\n        int left = 0;\n        int right = height.length - 1;\n        while (left <= right) {\n            int minHeight = height[left] < height[right] ? height[left] : height[right];//uå‹æ¡¶çš„çŸ­æ¿ï¼Œ æœ€å°ç«–è¾¹\n            int curr = (right - left) * minHeight;\n            max = max > curr ? max : curr;\n            if (height[left] < height[right]) { // é€»è¾‘æ€è·¯æ˜¯æœ€çŸ­è¾¹å˜åŒ–æ‰ä¼šå‡ºç°é¢ç§¯æ›´å¤§çš„uå‹æ¡¶\n                left++;\n            } else {\n                right--;\n            }\n        }\n        return max;\n    }\n\n\n    public static void main(String[] args) {\n      A11MostContainer a11MostContainer = new A11MostContainer();\n      System.out.println(a11MostContainer.maxArea(new int[]{1, 2, 3, 2}));\n    }\n}\n```\n\n\nä»£ç æ–‡ä»¶ï¼š\n[A11MostContainer.java](https://github.com/yangl326-Dylan/apus/blob/master/src/main/java/com/dylan326/apus/A11MostContainer.java)\n\n### æ€»ç»“\n\n- å¦‚æœèƒ½æƒ³åˆ°è¿™ä¸ªæ€è·¯ï¼Œè§£é¢˜è¾ƒç®€å•ï¼Œ â€œé€»è¾‘æ€è·¯æ˜¯æœ€çŸ­è¾¹å˜åŒ–æ‰ä¼šå‡ºç°é¢ç§¯æ›´å¤§çš„uå‹æ¡¶â€ã€‚\n\n------\n\n**ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»å…è®¸ä¸å¾—è½¬è½½ã€‚**\n","tags":["è„‘å­ç§€é€—","leecode"],"categories":["ç®—æ³•"]},{"title":"å†¬å¤©","url":"/2017/12/14/20171214/","content":"\n## åŒ—äº¬çš„å†¬å¤©\n\nä»Šå¹´åŒ—äº¬çš„å†¬å¤©ï¼Œé›¾éœ¾æ¬¡æ•°å°‘äº†å¾ˆå¤š\n","tags":["å¿ƒæƒ…","æ—¥è®°"],"categories":["å…¶ä»–"]},{"title":"æ€è€ƒå’Œè¡¨è¾¾çš„æ–¹å¼","url":"/2017/11/18/jiegouhua_slide/","content":"\n## æ€è€ƒå’Œè¡¨è¾¾çš„æ–¹å¼\né‡‘å­—å¡”åŸç† è¯»åæ„Ÿ\n[ç‚¹å‡»æŸ¥çœ‹](http://www.dylan326.com/2017/11/18/jiegouhua_slide/jiegouhua.pdf \"ç»“æ„åŒ–æ€ç»´\")\n","tags":["é‡‘å­—å¡”","slide"],"categories":["slide"]},{"title":"æ¡‚èŠ±é¦™","url":"/2017/10/09/20171009/","content":"\n## è¿”äº¬çš„ç¬¬ä¸€å¤©\n\nå›½åº†å›å—æ–¹æ·¡æ·¡çš„æ¡‚èŠ±é¦™ï¼Œ ä¸€ä¸­çš„æ ¡å›­ï¼Œ æ”¿åºœå¤§é™¢çš„å°è·¯ï¼Œéƒ½æ˜¯æ¡‚èŠ±é¦™ã€‚\n","tags":["å¿ƒæƒ…","æ—¥è®°"],"categories":["å…¶ä»–"]},{"title":"é‡‘å­—å¡”åŸç†è¯»ä¹¦ç¬”è®°","url":"/2017/09/30/jingzitayuanli/","content":"\n## æ²Ÿé€š\nå¬ä¼—æ˜¯è°ï¼Œä»–ä»¬æƒ³å¬åˆ°ä»€ä¹ˆï¼Œä»–ä»¬å¸Œæœ›å¦‚ä½•å¬\næˆ‘è¯¥å¦‚ä½•å»è¡¨è¾¾\n\nè‡ªä¸Šè€Œä¸‹è¡¨è¾¾ï¼Œç»“è®ºå…ˆè¡Œï¼Œä»¥ä¸Šç»Ÿä¸‹\nè‡ªä¸‹è€Œä¸Šæ€è€ƒï¼Œæ€»ç»“æ¦‚æ‹¬ï¼Œå½’çº³æ¼”ç»\n\næ¼”ç»æ¨å¯¼å’Œå½’çº³æ¨å¯¼åŒºåˆ«ï¼š\næ¼”ç»ï¼Œä¸‰æ®µå¼ï¼Œéœ€è¦å­˜åœ¨é€»è¾‘å…³ç³»ï¼Œæ¨è®ºæ¨å¯¼\nå½’çº³ï¼ŒæŠ½è±¡å‡ºå…±åŒç‚¹ï¼Œéœ€è¦å­˜åœ¨é€»è¾‘å…³ç³»\n<!-- more -->\n## æ‘˜è¦åºè¨€çš„æ–¹å¼\nèƒŒæ™¯ï¼šé—®é¢˜èƒŒæ™¯\nå†²çªï¼šå­˜åœ¨çš„å†²çª\nç–‘é—®ï¼šå¦‚ä½•è§£å†³\nè§£ç­”ï¼šå¯èƒ½è§£å†³\n\n## æ€è€ƒçš„é€»è¾‘\næ—¶é—´é¡ºåº\nç»“æ„é¡ºåº\nç¨‹åº¦é¡ºåº\næ€»ç»“éœ€è¦é¿å…ä½¿ç”¨ç¼ºä¹æ€æƒ³çš„å¥å­ï¼Œè¯´æ˜ç»“æœå’Œç›®æ ‡ï¼Œ æ‰¾å‡ºç»“è®ºçš„å…±æ€§\n\n## ç•Œå®šé—®é¢˜\nåˆ‡å…¥ç‚¹\nå›°æ‰°\nç°çŠ¶\næœŸæœ›ç»“æœ\nç­”æ¡ˆ\nç–‘é—®\n\n## å¦‚ä½•æ„å»ºé‡‘å­—å¡”\nç¡®å®šä¸»é¢˜\nè®¾æƒ³ç–‘é—®\nç»™å‡ºç­”æ¡ˆ\nå¼•å‡ºç–‘é—®\næ­£å¼ç­”æ¡ˆ\næ€»ç»“è¦ç‚¹\n\næ„Ÿæƒ³ï¼šè‡ªä¸Šè€Œä¸‹è¡¨è¾¾ï¼Œç»“è®ºå…ˆè¡Œï¼Œä»¥ä¸Šç»Ÿä¸‹ï¼›è‡ªä¸‹è€Œä¸Šæ€è€ƒï¼Œæ€»ç»“æ¦‚æ‹¬ï¼Œå½’çº³æ¼”ç»ã€‚\néœ€è¦å®é™…å½“ä¸­å»ä½“ä¼šï¼Œå®è·µï¼Œ æ¼”ç¤ºæ–‡æ¡£ã€éƒ¨é—¨äº¤æµã€ä¸Šä¸‹çº§æ²Ÿé€šã€ä¼šè®®ç­‰ç­‰\n\n---\n\n**ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»å…è®¸ä¸å¾—è½¬è½½ã€‚**\n","tags":["è¯»ä¹¦ç¬”è®°"],"categories":["è¯»ä¹¦ç¬”è®°"]},{"title":"gperftoolsåšå †å¤–å†…å­˜åˆ†æï¼ˆæ¡ˆä¾‹JVM Inflater å†…å­˜æ³„æ¼åˆ†æï¼‰","url":"/2017/09/28/gperftools/","content":"\n## google-perftools\nperftools wikiåœ°å€ ï¼šhttps://github.com/gperftools/gperftools/wiki\nå®‰è£…perftools\n...\nå·¥å…·ä¸»è¦ä½œç”¨åˆ†æç¨‹åºï¼šheapã€cpuç­‰ï¼Œå¸¸ç”¨äºc/c++ç¨‹åºåˆ†æ\nä½¿ç”¨æ–‡æ¡£å¦‚ä¸‹ï¼š\nhttps://gperftools.github.io/gperftools/heapprofile.html\nhttps://gperftools.github.io/gperftools/heap_checker.html\nhttps://gperftools.github.io/gperftools/cpuprofile.html\n<!-- more -->\n## JVMå †å¤–å†…å­˜åˆ†æ\næœ¬æ–‡é’ˆå¯¹äº Oracle Hotspot jvm è™šæ‹Ÿæœº\nJVM è¿›ç¨‹å ç”¨å¤§å°ä¸€èˆ¬çº¦ç­‰äºï¼š heap + perm + thread stack + nio directbuffer\nå½“ç„¶è¿˜æœ‰å…¶ä»–å ç”¨ï¼Œä¸€èˆ¬æƒ…å†µæ¥çœ‹native memoryè·Ÿè¸ªå¯ä»¥ä½¿ç”¨NMTå‚æ•° -XX:NativeMemoryTracking\nè¯¦æƒ…wiki ï¼š https://docs.oracle.com/javase/8/docs/technotes/guides/vm/nmt-8.html\nJVMå¸¸è§å†…å­˜æ³„æ¼æ£€æŸ¥æ–¹å¼å¯ä»¥æŒ‰ç…§ oracleæä¾›çš„æ–‡æ¡£ï¼š http://www.oracle.com/technetwork/java/javase/memleaks-137499.html\nå…¶ä¸­dbxæ˜¯å’Œperftoolsç±»ä¼¼å·¥å…·ã€‚\n\né™¤æ­¤ä¹‹å¤–\nè¿›ç¨‹å†…å­˜åœ¨ç”¨åœ¨linux é¢ä¸‹top,pmap ç­‰å·¥å…·æ˜¯è¾ƒå¥½ç¡®å®šè¿›ç¨‹å†…å­˜çš„æ‰‹æ®µï¼Œ åœ¨/proc/${pid}/ ç›®å½•ä¸‹smapsæ–‡ä»¶ç­‰æŸ¥çœ‹RSSï¼Œè™šæ‹Ÿå†…å­˜ï¼Œswapå ç”¨ç­‰ã€‚\npmap æ‰¾åˆ°å†…å­˜ç”³è¯·çš„åœ°å€å—ï¼Œ å¯ä»¥ä½¿ç”¨gdb attach å dump æŸä¸€æ®µçš„å†…å­˜åœ°å€ ï¼ŒåæŸ¥çœ‹å†…å­˜çš„æ•°æ®ã€‚ æ³¨æ„gdb attach è¿›ç¨‹ä¼šæš‚åœï¼Œ çº¿ä¸Šè°¨æ…æ“ä½œã€‚\n\nå¦‚æœå‘ç°è¿›ç¨‹å†…å­˜è¿‡é«˜ï¼Œå¯èƒ½éœ€è¦æ³¨æ„ä¸‹ç¨‹åºæ˜¯å¦å­˜åœ¨å †å¤–å†…å­˜æ³„æ¼é—®é¢˜ï¼Œjavaè¿›ç¨‹å‡ºç°çš„å †å¤–å†…å­˜æ³„æ¼å¸¸è§æœ‰å¦‚ä¸‹å‡ ä¸ªæ–¹é¢ï¼š\n- JNI\n- NIO directbuffer æ³„æ¼\n- gzip  ï¼ˆæœ¬æ–‡æ¡ˆä¾‹å°±æ˜¯æ­¤ç±»ï¼‰\n\nç½‘ç»œç¼–ç¨‹ä¸­ç¨‹åºä¸­ï¼Œnio directbuffer æœ‰ç›‘æ§å·¥å…·å¯ä»¥æŸ¥çœ‹ï¼Œ directbufferä½¿ç”¨é‡ã€å¹¶ä¸”å¯ä»¥è®¾ç½®æœ€å¤§ç›´æ¥å†…å­˜bufferã€‚\n\n\n## JVM è¿›ç¨‹ä½¿ç”¨perftools åšåˆ†æ\næ¡ˆä¾‹ä¸­å‘ç°çš„é—®é¢˜jetty æœåŠ¡åœ¨æŸç‰ˆæœ¬çš„JDKï¼ˆjdk7u80~jdk8u045ç­‰ åº”è¯¥7u80åçš„ç‰ˆæœ¬åœ¨æœ¬æ–‡ç« ç¼–å†™æ—¶å€™éƒ½æœ‰ï¼‰å‡ºç°çš„å†…å­˜æ³„æ¼é—®é¢˜åˆ†æå’ŒæŸ¥æ‰¾\n\n1ã€å®‰è£…perftools æ³¨æ„é…ç½®å®‰è£…ç›®å½•ï¼Œ æ‰¾åˆ°å¯¹åº”çš„æ–‡ä»¶è·¯å¾„\n2ã€å¯åŠ¨javaç¨‹åºæ—¶å€™æºå¸¦ç¯å¢ƒå˜é‡ï¼ˆå¯ä»¥å‚ç…§ perftools wikiå¸®åŠ© å†™çš„è¾ƒä¸ºæ˜ç¡®ï¼Œ æ–‡æ¡£ä¸»è¦é’ˆå¯¹æ­£å¯¹c/c++ç¨‹åºï¼Œ Hotspotä¸»è¦æ˜¯c++å†™çš„ï¼‰\nexport LD_PRELOAD=/opt/perftools/lib/libtcmalloc.so  # å®‰è£…åçš„åº“æ–‡ä»¶è·¯å¾„\nexport HEAPPROFILE=/opt/mybin.hprof  #heapåˆ†ææ–‡ä»¶è·¯å¾„å’Œæ–‡ä»¶\nç‰¹åˆ«æ³¨æ„ç›®å½•å’Œæ–‡ä»¶æƒé™æ˜¯å¦æ˜¯è¿›ç¨‹ç”¨æˆ·å¯ä½¿ç”¨çš„\n3ã€è¿è¡Œåå¯åŠ¨ç¨‹åºå\n4ã€pprofæ‰§è¡Œç¨‹åºï¼ˆæ³¨æ„è·¯å¾„ï¼‰ï¼Œåˆ†æè¿™äº›heapæ–‡ä»¶ pprof --helpæŸ¥çœ‹ä½¿ç”¨æ–¹å¼\n./perftools/bin/pprof --text \\*.heap   ä»¥æ–‡æœ¬ç»“æœå±•ç¤ºheapçš„åˆ†ææ–‡ä»¶ï¼Œ ç»“æœè¯´æ˜è§perftools wikiæ–‡æ¡£\n\n```shell\nTotal: 55838.9 MB\n 41320.8  74.0%  74.0%  41320.8  74.0% updatewindow\n  9018.8  16.2%  90.2%   9018.8  16.2% inflateInit2_\n  1559.4   2.8%  92.9%   1559.4   2.8% os::malloc@907260\n  1556.4   2.8%  95.7%   1556.4   2.8% init\n   587.5   1.1%  96.8%    587.5   1.1% 00007fb480508a66\n   551.4   1.0%  97.8%    551.4   1.0% 00007f2b1d6f4a66\n   451.5   0.8%  98.6%    451.5   0.8% 00007fb48177e8e9\n   183.1   0.3%  98.9%    183.1   0.3% 00007fb46c1b6c91\n   128.2   0.2%  99.1%    128.2   0.2% 00007fb480508245\n   120.4   0.2%  99.4%    120.4   0.2% 00007f2b1d6f4245\n   111.0   0.2%  99.6%   9129.7  16.4% Java_java_util_zip_Inflater_init\n   102.8   0.2%  99.7%    102.8   0.2% 00007f2b1e96a8e9\n    74.2   0.1%  99.9%     74.2   0.1% readCEN\n    45.8   0.1% 100.0%     45.8   0.1% 00007f2b09392c91\n     7.5   0.0% 100.0%      7.5   0.0% 00007fb4805025b6\n     4.5   0.0% 100.0%      4.5   0.0% 00007fb48192162d\n\t\t ......\n```\n\nå¯¹äºä¸Šè¿°é—®é¢˜è¡¨ç°çš„jdk1.7.0_76ä¸ä¼šå‡ºç°\njdk1.7.0_80,jdk1.8.0_45ä»¥ä¸Šæ˜æ˜¾å‡ºç°ã€‚\nç”¨è¿‡pmapåˆ†æè¿‡ ä¸»è¦éƒ½æ˜¯64må†…å­˜å—è¾ƒå¤šï¼Œ æŸ¥çœ‹è¿‡æ•°æ®éƒ½æ˜¯jar loadç›¸å…³çš„æ•°æ®å½“æ—¶æ²¡å¼•èµ·æ³¨æ„\nåˆ†æä¸»è¦åœ¨updatewindowï¼ŒJava_java_util_zip_Inflater_init ï¼Œ è¿™ä¸ªæ˜¯gzipç›¸å…³ï¼Œ äºæ˜¯æœç´¢ç›¸å…³èµ„æ–™\nç»“è®ºå¦‚ä¸‹ï¼š\n'''Note that the URLClassLoader was properly disposed of, with a call to close() first, and that the ServiceLoader's reload() method was also called to flush it's internal cache.\nThis is NOT specific to the ServletContainerInitializer, it happens with any class that is loaded via the ServiceLoader.\nFile handles remain to the \\*.jar until the app's process is stopped.'''\n\n\nç½‘ä¸ŠæŸ¥æ‰¾ç›¸å…³èµ„æ–™\njdk é—®é¢˜  http://bugs.java.com/bugdatabase/view_bug.do?bug_id=8156014\njetty issue https://github.com/eclipse/jetty.project/issues/231\n\n\n\nå¤„ç†æ–¹æ³•,ä»¥ä¸‹å…¶ä¸€\n- JDKé™çº§åˆ°jdk7u76ï¼Œ ä½¿ç”¨ä¸ä¼šå‡ºç°é—®é¢˜çš„JDKç‰ˆæœ¬\n- ç­‰æ–°ç‰ˆæœ¬jdk bugä¿®å¤\n- jetty contributer ç»™å‡ºçš„æ–¹æ¡ˆ disable url caching  wiki https://github.com/eclipse/jetty.project/issues/575\n\n\n---\n\n**ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»å…è®¸ä¸å¾—è½¬è½½ã€‚**\n","tags":["java","memory"],"categories":["JDK"]},{"title":"A-leecode-ä¸¤æ•°å’Œ[Two Sum]","url":"/2017/09/22/A_leecode_sum2/","content":"\n## é¢˜ç›®è§£æ\n>Given an array of integers, return indices of the two numbers such that they add up to a specific target.\n>You may assume that each input would have exactly one solution, and you may not use the same element twice.\n>''' example:\n>Given nums = [2, 7, 11, 15], target = 9,\n>Because nums[0] + nums[1] = 2 + 7 = 9,\n>return [0, 1].\n>'''\n<!-- more -->\n\næ•´å‹æ•°ç»„ä¸­ï¼Œæ‰¾å‡ºä¸¤ä¸ªæ•°ï¼ˆä¸èƒ½æ˜¯åŒä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œæ»¡è¶³ä»–ä»¬çš„å’Œæ˜¯ç»™å®šçš„targetå€¼ã€‚ å‡è®¾æœ‰å”¯ä¸€ä¸€ç»„è§£ã€‚\nè¿™ä¸ªå‡è®¾ç®€åŒ–äº†ç»“æœè¾“å‡ºæ¡ä»¶ï¼Œå’Œä»£ç è¾¹ç•Œé€»è¾‘ã€‚ å®é™…é—®é¢˜ä¸­è®°ä½å°½å¯èƒ½çš„å»è€ƒè™‘è¿™äº›æ¡ä»¶å’Œæƒ…å†µã€‚\n\n## åˆ†ææ­¥éª¤\n1ã€ç›´æ¥ç»™å‡ºä¸¤æ•°çš„æ‰€æœ‰å’Œï¼Œå’Œç›®æ ‡å€¼ç›¸ç­‰çš„è¿”å›è¿™ä¸¤ä¸ªæ•°çš„ç´¢å¼•å€¼\n2ã€æ­¥éª¤1å¤ªç›´æ¥äº†ï¼Œ å¤§éƒ¨åˆ†äººéƒ½è¿™æ ·è¯´ã€‚ ä½†æˆ‘ä»¬ä¸ºä»€ä¹ˆä¸èƒ½å…ˆå†™å‡ºæ¥ï¼Œå†åˆ†æé—®é¢˜ç‚¹ï¼Œ å¯ä»¥ä»å“ªäº›æ–¹é¢å»ä¼˜åŒ–å¤„ç†\n3ã€å®ç°å’Œåˆ†æè§code\n\nä»£ç æ¼”ç¤ºï¼š\n```java\npublic class A1Sum2 {\n\n    /**\n     * ç›´æ¥æ€è·¯æ–¹æ³•\n     * @param nums\n     * @param target\n     * @return\n     */\n    public static int[] a1Sum2Method1(int[] nums, int target) {\n        int[] result = new int[]{0, 0};\n        for (int i = 0; i < nums.length - 1; i++) {\n            for (int j = i + 1; j < nums.length; j++) {\n                if ((nums[i] + nums[j]) == target) {\n                    result[0] = i;\n                    result[1] = j;\n                    return result;\n                }\n            }\n        }\n        return result;\n    }\n\n\n    public static int[] a1Sum2Method2(int[] nums, int target) {\n        int[] result = new int[]{0, 0};\n        Map<Integer, Integer> tmp = new HashMap();\n        for (int i = 0; i < nums.length; i++) { // ç©ºé—´æ¢æ—¶é—´ã€‚å­˜å‚¨å€¼å’Œç´¢å¼•å¯¹åº”å…³ç³»\n            tmp.put(nums[i], i);\n        }\n\n        for (int i = 0; i < nums.length - 1; i++) {\n            Integer j = tmp.get(target - nums[i]);\n            if (j != null && j != i) { // å»é™¤æ‰ è‡ªå·±çš„åˆ¤å®š\n                result[0] = i;\n                result[1] = j;\n            }\n        }\n        return result;\n    }\n\n    public static void main(String[] args) {\n        System.out.println(Arrays.toString(a1Sum2Method1(new int[]{2, 3, 5}, 5)));\n        System.out.println(Arrays.toString(a1Sum2Method2(new int[]{2, 3, 5}, 5)));\n    }\n}\n\n```\n\n\nä»£ç æ–‡ä»¶ï¼š\n[A1Sum2.java](https://github.com/yangl326-Dylan/apus/blob/master/src/main/java/com/dylan326/apus/A1Sum2.java)\n\n### æ€»ç»“\n\n- æœ‰äº›é—®é¢˜åœ¨æ¡ä»¶å®¹è®¸çš„æƒ…å†µä¸‹å¯ä»¥æ€è€ƒå‡ºç›´æ¥çš„æ–¹å¼ï¼Œ\n- ç©ºé—´æ¢å–æ—¶é—´é—®é¢˜ï¼šç±»ä¼¼å¦‚ æ•´å‹æ•°æ®æ•°ç»„ä¸­è¿ç»­å­ä¸²æ±‚å’Œä¸ºæŒ‡å®šå€¼çš„ä¸ªæ•°ç­‰\n\n------\n\n**ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»å…è®¸ä¸å¾—è½¬è½½ã€‚**\n","tags":["è„‘å­ç§€é€—","leecode"],"categories":["ç®—æ³•"]},{"title":"A03-å¸¸è§æ•°æ®ç»“æ„","url":"/2017/09/22/A03_shujujiegou/","content":"TODOã€‚ã€‚ã€‚\n## å¸¸è§æ•°æ®ç»“æ„åˆ†ç±»\nç‰¹ç‚¹\n-\n-\n<!-- more -->\n\nä»£ç æ¼”ç¤ºï¼š\n```java\n\n\n```\n\n\n\nä»£ç æ–‡ä»¶ï¼š[C7QuickSort.java](https://github.com/yangl326-Dylan/apus/blob/master/src/main/java/com/dylan326/justcode/C7QuickSort.java)\n\n### æ€»ç»“\n-\n-\n-\n\n------\n\n**ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»å…è®¸ä¸å¾—è½¬è½½ã€‚**\n","tags":["è„‘å­ç§€é€—","æ•°æ®ç»“æ„"],"categories":["ç®—æ³•"]},{"title":"å“ˆå°”æ»¨","url":"/2017/09/19/20170919/","content":"\n## ä»Šå¤©æ ¡æ‹›é¢è¯•çš„ç¬¬ä¸€å¤© æ¥åˆ°å“ˆå°”æ»¨è¿™åº§åŸå¸‚\n\n1ã€æ²¡æœ‰æƒ³è±¡çš„é‚£ä¹ˆå†·ï¼Œ å¯èƒ½ç°åœ¨çš„æœˆä»½é—®é¢˜  \n2ã€ä¸çŸ¥é“æœ‰ä»€ä¹ˆç‰¹äº§ï¼Œçº¢è‚ ä¹ˆï¼Œ æ˜¯å¦å¸¦ç‚¹å›å®¶\n<!-- more -->\n3ã€é«˜é“ä¸Šè¯»äº†é‡‘å­—å¡”åŸç†ï¼Œ è¯ä¹¦ä¸€åŠçš„ç« èŠ‚ï¼Œæ€»ç»“åœ¨è‡ªå·±çš„ç¬”è®°ä¸Š\n4ã€è®¡åˆ’å›ç¨‹ï¼Œé˜…è¯»ä¸‹åŠç« èŠ‚ -- æ¼”ç¤ºé€»è¾‘\n5ã€ä¼´éšç€æ ¡æ‹›é¢è¯•ï¼Œè‡ªå·±ä¹Ÿåœ¨åˆ·ä¸‹é¢˜ç›®ï¼Œ å¸¸è¿è½¬çš„æœºå™¨ä¸ç§€é€—ï¼Œ å“ˆå“ˆ\n6ã€æ¯å¤© â€œæ¯”ä¸â€ ä¿æŒè”ç³»\n","tags":["å¿ƒæƒ…","æ—¥è®°"],"categories":["å…¶ä»–"]},{"title":"Raftç®€ä»‹ slide show","url":"/2017/09/06/raft_slide/","content":"\n## Raftç®€ä»‹æ¼”ç¤ºæ–‡æ¡£å’Œä»‹ç»\n\n[ç‚¹å‡»æŸ¥çœ‹](http://www.dylan326.com/2017/09/06/raft_slide/Raft.pdf \"Raft\")\n","tags":["slide","raft"],"categories":["slide"]},{"title":"å›½ç”»","url":"/2017/08/24/20170824/","content":"\n## å›½ç”»\n\nPP\n<!-- more -->\n![å›½ç”»](20170824/guohua.jpg)\n","tags":["å¿ƒæƒ…","æ—¥è®°"],"categories":["å…¶ä»–"]},{"title":"A02-å¿«é€Ÿæ’åº","url":"/2017/08/12/A02_kuaisupaixu/","content":"\n## ç‰¹æ€§\nå¿«é€Ÿæ’åºç‰¹ç‚¹\n- éç¨³å®šæ’åº\n- åˆ†æ²»æ¨¡å¼ï¼šé‚£ä¹ˆå°±å­˜åœ¨æ‹†åˆ†å’Œç»„åˆ\n\n<!-- more -->\n## å¿«é€Ÿæ’åºæ­¥éª¤\n\n- åˆ†æ²»æ€æƒ³ï¼Œé‚£ä¹ˆæºæ•°ç»„æ¯å±‚é€’å½’é€»è¾‘ä¸ºï¼šä¸€åˆ†ä¸ºäºŒã€å¯¹å­é—®é¢˜åŒæ ·æ–¹å¼å¤„ç†\n- é€‰å–æ¢çº½å…ƒç´ ï¼ˆæ¢çº½å…ƒç´ çš„é€‰å–å†³å®šæœ‰å¤šç§å¿«é€Ÿæ’åºçš„å®ç°æ–¹å¼ï¼‰\n- æ‰¾åˆ°æ¢çº½å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä½ç½®ï¼ˆæ­¤å¤„æ‰¾ä½ç½®çš„æ–¹æ³•å¯ä»¥å¤šç§ï¼‰\n- å¯¹æ¢çº½å…ƒç´ å·¦è¾¹ï¼Œå³è¾¹åšç±»ä¼¼å¤„ç†\n- é€’å½’é€€å‡ºï¼Œæ•°æ®å·²æ’å¥½åº\n\nä»£ç æ¼”ç¤ºï¼š\n```java\n/**\n * å¿«é€Ÿæ’åºï¼Œ ä¸¾ä¾‹ä¸ºå‡åº\n *\n * @param a\n * @param m\n * @param n\n */\npublic static void quickSort(int[] a, int m, int n) {\n    if (m < n) {\n        int i = m;\n        int j = n;\n        int pivot = a[m];  // æ¢çº½å…ƒç´ ä¸ºå½“å‰å±‚çº§çš„æ•°æ®ç¬¬ä¸€ä¸ªå…ƒç´ \n        while (i < j) {\n            while (i < j && a[j] > pivot) { // æ‰¾åˆ°å³è¾¹ç¬¬ä¸€ä¸ªå°äºç­‰äºï¼ˆå–å†³å‡åºè¿˜æ˜¯é™åºï¼‰pivotçš„ä½ç½®jï¼Œæˆ–è€…i=j\n                j--;\n            }\n            while (i < j && a[i] <= pivot) {// æ‰¾åˆ°å·¦è¾¹ç¬¬ä¸€ä¸ªå¤§äºpivotçš„ä½ç½®jï¼Œæˆ–è€…i=jã€‚æ­¤å¤„=ç”±äºé€‰å–çš„mä½œä¸ºæ¢çº½ï¼Œä»mä¹‹åå¼€å§‹å¤„ç†\n                i++;\n            }\n            if (i < j) { // i<j äº¤æ¢ijä½ç½®çš„å€¼ï¼Œç»§ç»­æŒ‰æ­¤æ–¹æ³•å¾ªç¯æ‰¾ijä½ç½®\n                swap(a, i, j);\n            }else if(i==j){ // i=jæ‰¾åˆ°äº†pivotçš„ä½ç½®ï¼Œ æ­¤ä½ç½®çš„å…ƒç´ ä¸ä¼šå¤§äºpivot\n                swap(a, m, i);\n            }\n        } // ä»¥ä¸Šå®šä½åˆ°æ¢çº½å…ƒç´ pivotçš„ç´¢å¼•ä½ç½®iã€‚æ‰¾åˆ°åå›ºå®šæ”¹ä½ç½®ï¼Œå¯¹iå·¦è¾¹å’Œå³è¾¹çš„åŒæ ·æ–¹æ³•å¤„ç†\n        quickSort(a, m, i - 1);\n        quickSort(a, i + 1, n);\n    }\n}\n\n/**\n * äº¤æ¢å‡½æ•°\n *\n * @param a\n * @param i\n * @param j\n */\nprivate static void swap(int[] a, int i, int j) {\n    int tmp = a[i];\n    a[i] = a[j];\n    a[j] = tmp;\n}\n```\n\n\n\nä»£ç æ–‡ä»¶ï¼š[C7QuickSort.java](https://github.com/yangl326-Dylan/apus/blob/master/src/main/java/com/dylan326/justcode/C7QuickSort.java)\n\n### æ€»ç»“\n- åˆå§‹æ¡ä»¶\n- é€‰å–æ¢çº½å…ƒç´ ï¼Œæ‰¾åˆ°æ¢çº½å…ƒç´ å®‰ç½®çš„ä½ç½®\n- å¯¹æ¢çº½å…ƒç´ çš„å‰é¢éƒ¨åˆ†ï¼Œåé¢éƒ¨åˆ†åˆ†åˆ«è¿›è¡Œå¿«é€Ÿæ’åº\n\n------\n\n**ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»å…è®¸ä¸å¾—è½¬è½½ã€‚**\n","tags":["è„‘å­ç§€é€—","æ’åº"],"categories":["ç®—æ³•"]},{"title":"èŠ±å„¿ä¸€æš","url":"/2017/08/08/20170808/","content":"\n## ç«‹ç§‹åçš„ç¬¬ä¸€å¤©\n\nç«‹ç§‹ï¼ŒèŠ±å„¿ä¸€æš\n<!-- more -->\n![èŠ±å„¿ä¸€æš](20170808/20170723_193100.jpg)\n","tags":["å¿ƒæƒ…","æ—¥è®°"],"categories":["å…¶ä»–"]},{"title":"A02-å †æ’åº","url":"/2017/08/06/A02_duipaixu/","content":"\n## å †\n\nå †æ•°æ®ç»“æ„çš„ç‰¹æ€§\n>æ•°ç»„è¡¨ç¤ºï¼ˆèŠ‚ç‚¹xï¼›å·¦å­èŠ‚ç‚¹2xï¼›å³å­èŠ‚ç‚¹2x+1ï¼‰\nå®Œå…¨äºŒå‰æ ‘ã€æœ€åä¸€å±‚å·¦å­æ ‘å¼€å§‹å¡«å†™\næœ€å¤§å †ã€æœ€å°å †å®šä¹‰ï¼šé™¤äº†æ ¹èŠ‚ç‚¹æœ€å¤§æˆ–è€…æœ€å°ï¼Œå…¶ä»–å­èŠ‚ç‚¹ä¸ä¼šå¤§è¿‡ï¼ˆä¸ä¼šå°äºï¼‰çˆ¶èŠ‚ç‚¹çš„å€¼  \n\nåˆ©ç”¨æœ€å°å †ã€æœ€å¤§å †å¾—æ€§è´¨,é€æ­¥ç§»é™¤æ ¹èŠ‚ç‚¹ï¼Œé‚£ä¹ˆç»“æœåˆ™ä¸ºå·²æ’åºæ•°æ®ã€‚\nä¸¾ä¾‹æ•°æ®ï¼š\n```java\n{4,1,3,2,16,9,10,14,8,7}\n```\n<!-- more -->\n\n### æ„å»ºå †ï¼ˆå¤§æ ¹å †ï¼‰\nå †æ’åºåˆ†ä¸ºå¦‚ä¸‹å‡ ä¸ªæ­¥éª¤ a~f\n- a) æ•°æ®æ•°æ®å †è¡¨ç¤º\n- b) è‡ªåº•å‘ä¸Šï¼Œæ•°æ®7çš„çˆ¶å…ƒç´ iï¼ˆi--ï¼‰ç»´æŒæœ€å¤§å †ç‰¹æ€§\n- c)~e) æŒ‰ç…§å¯¹ç‰¹æ€§ï¼Œå¾ªç¯ä¿æŒ\n- f) å®Œæˆåçš„æœ€å¤§å †\n![æ„å»ºå †](A02_duipaixu/buildheap.jpg)\n\n\n### å †æ’åº\n- æ„å»ºæœ€å¤§å †ï¼ˆå¯¹åº”å‡åºæ’åˆ—ï¼‰\n- ä»å †é•¿åº¦ä½ç½®ï¼ˆæ•°ç»„å°¾éƒ¨ï¼‰å¼€å§‹éå†\n- äº¤æ¢A[i]ä¸A[1]; å †é•¿åº¦å‡ä¸€ï¼Œå› ä¸ºäº¤æ¢å‰A1ä¸ºæœ€å¤§å…ƒç´ \n- è°ƒæ•´å †ä¿æŒæœ€å¤§å †ç‰¹æ€§ï¼šadjust(A,1)ã€‚æ¯æ¬¡è°ƒæ•´çš„ä»£ä»·ä¸ºO(lg(n))\n- i=2 é€€å‡ºå¾ªç¯ï¼Œå¾—åˆ°å‡åºæ•°ç»„ã€‚ é‚£ä¹ˆæ—¶é—´å¤æ‚åº¦ä¸ºn*O(lg(n))\nä¸Šè¿°æµç¨‹çš„è¿‡ç¨‹å›¾å¦‚ä¸‹\n![å †æ’åº](A02_duipaixu/heapsort.jpg)\n\n\n### æ€»ç»“\n- åˆå§‹åŒ–å †ï¼Œå³æ„å»º\n- ç»´æŒå †ç‰¹æ€§ï¼Œä¸»è¦åŒ…å«ä¸Šæµ®ã€ä¸‹æ²‰æ“ä½œ\n\n------\n\n**ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»å…è®¸ä¸å¾—è½¬è½½ã€‚**\n","tags":["è„‘å­ç§€é€—","æ’åº"],"categories":["ç®—æ³•"]},{"title":"A01-é€’å½’å¼-å°é˜¶èµ°æ³•","url":"/2017/07/22/A01_taijie_n/","content":"é—®é¢˜\n>nä¸ªå°é˜¶èµ°æ³•é—®é¢˜ï¼Œ å·²çŸ¥å¯ä»¥ä¸€æ¬¡ä¸€ä¸ªå°é˜¶ï¼Œä¸€æ¬¡ä¸¤ä¸ªå°é˜¶ï¼Œä¸€æ¬¡ä¸‰ä¸ªå°é˜¶ã€‚ é‚£ä¹ˆnä¸ªå°é˜¶æœ‰å¤šå°‘ç§èµ°æ³•ï¼Ÿ\n\né—®é¢˜åˆ†ææ­¥éª¤\n1. nä¸ªå°é˜¶çš„èµ°æ³•ä¸ºn-1ä¸ªå°é˜¶èµ°æ³•+1ï¼Œ1=èµ°ä¸€ä¸ªå°é˜¶\n2. æœ€åä¸€æ­¥çš„èµ°æ³•å¯ä»¥æ˜¯é¢˜ç›®ä¸­çš„ä¸‰ç±»\n3. é‚£ä¹ˆæœ€åçš„ç»“æœå¿…ç„¶æ˜¯ï¼Œæœ€åçš„æ–¹æ¡ˆæ˜¯ä¸€æ­¥ã€ä¸¤æ­¥ã€æˆ–è€…ä¸‰æ­¥ï¼Œèµ°æ³•çš„å’Œå³ä¸ºç»“æœ\n4. æœ€å°è¾¹ç•Œï¼Œ åªæœ‰ä¸€ä¸ªå°é˜¶ï¼Œä¸¤ä¸ªå°é˜¶ï¼Œä¸‰ä¸ªå°é˜¶\n\n```java\npublic static int nTJ(int n) {\n        if (n == 1) {\n            return 1;\n        }\n        if (n == 2) {\n            return 2;\n        }\n        if (n == 3) {\n            return 4;\n        }\n        if (n > 3) {\n            return nTJ(n - 1) + nTJ(n - 2) + nTJ(n - 3);\n        }\n        return 0;\n}\n```\n\nä»£ç :[C6nTJ.java](https://github.com/yangl326-Dylan/apus/blob/master/src/main/java/com/dylan326/justcode/C6nTJ.java)\n\n---\n\n**ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»å…è®¸ä¸å¾—è½¬è½½ã€‚**\n","tags":["è„‘å­ç§€é€—","é€’å½’"],"categories":["ç®—æ³•"]},{"title":"A01-é€’å½’å¼-å…¨æ’åˆ—","url":"/2017/07/22/A01_quanpaileidigui/","content":"\nå…¨æ’åˆ—é€’å½’ï¼š[é“¾æ¥é¡µé¢](http://www.dylan326.com/2017/06/23/quanpailie_digui/)\n\n---\n\n**ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»å…è®¸ä¸å¾—è½¬è½½ã€‚**\n","tags":["è„‘å­ç§€é€—","é€’å½’"],"categories":["ç®—æ³•"]},{"title":"A01-é€’å½’å¼","url":"/2017/07/21/A01_diguishizi/","content":"\n## èƒŒæ™¯\n\nè®²è¿°äº†ä¸‰ç§æ–¹æ³•æ¥æ¨å¯¼å‡ºé€’å½’å¼\n>ä»£æ¢æ³•(æ•°å­¦å½’çº³æ³•)\n>é€’å½’æ ‘\n>ä¸»æ–¹æ³•\n<!-- more -->\n\n### ä»£æ¢æ³•\n\nä»£æ¢æ³•åˆ†å¦‚ä¸‹ä¸¤æ­¥\n- çŒœæµ‹è§£çš„å½¢å¼\n- æ•°å­¦å½’çº³æ³•æ‰¾å‡ºè§£çš„æ­£ç¡®æœ‰æ•ˆå¸¸æ•°\n\n\n\n### é€’å½’æ ‘\n\nç”»ä¸€ä¸ªé€’å½’æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½è¡¨ç¤ºé€’å½’å‡½æ•°è°ƒç”¨é›†åˆä¸­é¢ä¸€ä¸ªå­é—®é¢˜çš„ä»£ä»·ï¼›æŠŠæ¯ä¸€å±‚ä»£ä»·ç›¸åŠ å¾—åˆ°æ¯ä¸€å±‚ä»£ä»·çš„é›†åˆï¼Œå†æŠŠæ¯å±‚ä»£ä»·ç›¸åŠ ï¼Œå¾—åˆ°æ‰€æœ‰å±‚æ¬¡çš„æ€»ä»£ä»·ã€‚é€’å½’å¼è¡¨ç¤ºåˆ†æ²»ç®—æ³•çš„è¿è¡Œæ—¶é—´çš„æ—¶å€™ï¼Œé€’å½’æ ‘çš„æ–¹æ³•æ•ˆæœæ›´åŠ æ˜æ˜¾ã€‚\n\n\n### ä¸»æ–¹æ³•\nå…ˆçœ‹ä¸‹ä¸»å®šå¾‹çš„å®šä¹‰ï¼šä»¤aâ‰¥1å’Œb>1æ˜¯å¸¸æ•°ï¼Œf(n)æ˜¯ä¸€ä¸ªå‡½æ•°ï¼ŒT(n)æ˜¯å®šä¹‰åœ¨éè´Ÿæ•´æ•°ä¸Šçš„é€’å½’å¼ T(n) = aT(n/b) + f(n)ã€‚\nè¿™ä¸ªä¹Ÿæ˜¯æˆ‘ä»¬æ¨å¯¼å‡ºé€’å½’å¼çš„ä¸»è¦æ–¹æ³•ï¼Œä»£æ¢æ³•ã€é€’å½’æ ‘ç›¸å¯¹ä¸ºè¾…åŠ©ã€‚\nä¸»å®šå¾‹aä¸ªå­é—®é¢˜æ¯ä¸ªå­é—®é¢˜çš„æ—¶é—´å¤æ‚åº¦ä¸ºT(n/b)ï¼Œåˆ’åˆ†é—®é¢˜å’Œåˆå¹¶å­é—®é¢˜ç­”æ¡ˆçš„ä»£ä»·ä¸ºf(n)ã€‚\nä¸»å®šå¾‹å…¬å¼åŒ…å«ä¸‰ç§æ¡ä»¶ï¼Œå¹¶éå¯¹æ‰€æœ‰çš„f(n)éƒ½æˆç«‹ã€‚ä»…å½“æ»¡è¶³æ¬¡ä¸‰ç±»æ¡ä»¶çš„æ‰èƒ½ä½¿ç”¨ä¸»å®šå¾‹æ¨å¯¼ã€‚\n\n\n------\n\n**ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»å…è®¸ä¸å¾—è½¬è½½ã€‚**\n","tags":["è„‘å­ç§€é€—","é€’å½’å¼å­"],"categories":["ç®—æ³•"]},{"title":"A00-Algorithmså¯¼è®ºç³»åˆ—","url":"/2017/07/17/A00_daolun/","content":"\n## èƒŒæ™¯\n\næœ€è¿‘æ€»ç»“ä¸‹æ¥æƒ³å†™ä¸€ç³»åˆ—æ–‡ç« çš„ä¸“æ ï¼Œå…ˆä»ç®—æ³•å¯¼è®ºå…¥æ‰‹ï¼Œ å·©å›ºä¸‹åŸºç¡€çŸ¥è¯†ä½“ç³»ï¼Œé¿å…å¤§è„‘ç§€é€—ã€‚è®¡åˆ’å¤§æ¦‚åŠå¹´å¤šæ—¶é—´æŠ½ç‚¼å‡ºå¸¸è§å†…å®¹çš„ç³»åˆ—å¤§çº²ç¬”è®°ï¼Œä¾›è®°å½•å’Œå­¦ä¹ ï¼Œ å¦‚æœ‰éœ€è¦æŒ‡æ­£åœ°æ–¹æœ›é‚®ä»¶äº¤æµã€‚\n\nleecode ç®—æ³•é¢˜ç›®ä¸»è¦ä¹Ÿæ˜¯é”»ç‚¼æ€è€ƒ\n\n```python\nprint 'life and world'\n```\n\n<!-- more -->\n\n## ç®€æ˜æ‘˜è¦  \nä¸€ã€åŸºç¡€éƒ¨åˆ†\n>1.NPå®Œå…¨ç†è®º  \n- Pï¼šæ‰€æœ‰å¯ä»¥åœ¨å¤šé¡¹å¼æ—¶é—´å†…æ±‚è§£çš„åˆ¤å®šé—®é¢˜æ„æˆPç±»é—®é¢˜\n- NPï¼šæ‰€æœ‰çš„éç¡®å®šæ€§å¤šé¡¹å¼æ—¶é—´å¯è§£çš„åˆ¤å®šé—®é¢˜æ„æˆNPç±»é—®é¢˜\n- NPCï¼šNPä¸­çš„æŸäº›é—®é¢˜çš„å¤æ‚æ€§ä¸æ•´ä¸ªç±»çš„å¤æ‚æ€§ç›¸å…³è”.è¿™äº›é—®é¢˜ä¸­ä»»ä½•ä¸€ä¸ªå¦‚æœå­˜åœ¨å¤šé¡¹å¼æ—¶é—´çš„ç®—æ³•,é‚£ä¹ˆæ‰€æœ‰NPé—®é¢˜éƒ½æ˜¯å¤šé¡¹å¼æ—¶é—´å¯è§£çš„.è¿™äº›é—®é¢˜è¢«ç§°ä¸ºNP-å®Œå…¨é—®é¢˜(NPCé—®é¢˜)  \n2.é€’å½’å¼  \nç»™å‡ºäº†é€’å½’å¼æ¨å¯¼çš„ä¸‰ç§æ–¹æ³•  \n- ä»£æ¢æ³•ï¼šæ•°å­¦å½’çº³ï¼Œæ ¹æ®è§„å¾‹æ¨æµ‹å‡ºé€’å½’å¼  \n- é€’å½’æ ‘ï¼šåˆ†æ²»æ—¶é—´å¤æ‚åº¦çš„å°¤å…¶é€‚åˆé€’å½’æ ‘æ¨ç®—  \n- ä¸»å®šç†å…¬å¼ï¼šå®šç†4.1(ä¸»å®šç†)    ä»¤aâ‰¥1å’Œb>1æ˜¯å¸¸æ•°ï¼Œf(n)æ˜¯ä¸€ä¸ªå‡½æ•°ï¼ŒT(n)æ˜¯å®šä¹‰åœ¨éè´Ÿæ•´æ•°ä¸Šçš„é€’å½’å¼ T(n) = aT(n/b) + f(n)  \n3.æ¦‚ç‡åˆ†æä¸éšæœºç®—æ³•  \n- éšæœºç®—æ³•ï¼Œä¸ä¾èµ–è¾“å…¥ï¼Œè¾“å‡ºå’Œè¾“å…¥æ— å…³  \n\näºŒã€æ’åºç®—æ³•ä¸é¡ºåºç»Ÿè®¡  \n>1.å †æ’åº\n- å †ï¼šå®Œå…¨äºŒå‰æ ‘\n- å¤§æ ¹å †ï¼ŒASCæ’åº  \n2.å¿«æ’åº\n- piovit æ¢çº½å…ƒç´ xï¼Œp rå¯¹xæ¯”è¾ƒ ã€‚å›å½’xåˆ°æ­£ç¡®ä½ç½®ã€‚å¯¹å·¦è¾¹çš„QSï¼›å¯¹å³è¾¹QS  \n3.çº¿æ€§æ—¶é—´æ’åº\n- è®¡æ•°ï¼Œç¡®å®šæ•°xåœ¨ç¬¬å‡ ä¸ªä½ç½®\n- åŸºæ•°ï¼Œ0~9ä¾æ¬¡æ’åºã€‚ ç¨³å®š\n- æ¡¶æ’åºï¼Œå‡åŒ€åˆ†å¸ƒçš„æ”¾åœ¨æ’åºå·çš„æ¡¶ï¼Œå¯¹æ¡¶ä¸­å…ƒç´ è¿›è¡Œæ’åº  \n4.ä¸­ä½æ•°ä¸é¡ºåºç»Ÿè®¡å­¦  \n\nä¸‰ã€æ•°æ®ç»“æ„  \n>1.æ ˆä¸é˜Ÿåˆ—\n- ç‰¹æ€§\n- å¯ä»¥ç›¸äº’è½¬åŒ–  \n2.é“¾è¡¨\n- å•å‘é“¾è¡¨ï¼›è¡¨å¤´ï¼›è¡¨å°¾\n- åŒå‘é“¾è¡¨ã€å¸¦å“¨å…µçš„ç¯å½¢åŒå‘é“¾è¡¨ï¼ˆå“‘å¯¹è±¡dummyï¼‰  \n3.æ•£åˆ—è¡¨\n- æ•£åˆ—å‡½æ•°ï¼šé™¤æ³•ã€ä¹˜æ³•ã€å…¨åŸŸæ•£åˆ—\n- é“¾è¡¨æ³•ã€å¼€æ”¾åœ°å€æ³•ï¼ˆåŒé‡æ•£åˆ—ï¼‰\n- ç®€å•ä¸€è‡´æ•£åˆ—å‡è®¾  \n4.äºŒå‰æŸ¥æ‰¾æ ‘\n- èŠ‚ç‚¹xï¼Œ xå·¦å­æ ‘æœ€å¤§ä¸è¶…è¿‡xï¼›xå³å­æ ‘æœ€å°ä¸å°äºx\n- èŠ‚ç‚¹xï¼švalueï¼Œleftã€rightã€parent    \n5.çº¢é»‘æ ‘\n- äºŒå‰æŸ¥æ‰¾æ ‘ã€å¹³è¡¡ç‰¹æ€§\n- æ ¹èŠ‚ç‚¹ é»‘è‰²ï¼›èŠ‚ç‚¹æˆ–çº¢æˆ–é»‘ï¼›å¶å­èŠ‚ç‚¹é»‘è‰²ï¼ˆnilèŠ‚ç‚¹ä¹Ÿç§°å“¨å…µèŠ‚ç‚¹ï¼‰\n- çº¢èŠ‚ç‚¹çš„ä¸¤ä¸ªå„¿å­éƒ½æ˜¯é»‘èŠ‚ç‚¹\n- æ¯ä¸ªèŠ‚ç‚¹å¼€å§‹ï¼Œåˆ°å…¶å­å­™èŠ‚ç‚¹çš„æ‰€æœ‰è·¯å¾„ä¸ŠåŒ…å«çš„é»‘èŠ‚ç‚¹ä¸ªæ•°ç›¸åŒ  \n\nå››ã€é«˜çº§è®¾è®¡  \n 1.åŠ¨æ€è§„åˆ’\n 2.è´ªå¿ƒç®—æ³•\n 3.å¹³æ‘Šåˆ†æ\n\näº”ã€é«˜çº§æ•°æ®ç»“æ„  \n1.Bæ ‘ï¼š\n\nå…­ã€å›¾ç®—æ³•  \n 1.å›¾åŸºæœ¬ç®—æ³•\n 2.æœ€çŸ­è·¯å¾„ã€æœ€å°ç”Ÿæˆ\n\nä¸ƒã€ç®—æ³•ç ”ç©¶  \n 1.æ•°è®ºç›¸å…³ç®—æ³•\n 2.å­—ç¬¦ä¸²åŒ¹é…\n\n------\n\n**ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»å…è®¸ä¸å¾—è½¬è½½ã€‚**\n","tags":["è„‘å­ç§€é€—","Algorithms"],"categories":["ç®—æ³•"]},{"title":"å°è®°çª—å°å¤šè‚‰","url":"/2017/07/17/20170717/","content":"\n## çª—å°å¤šè‚‰\n\nå°±åƒç…§é¡¾å­©å­ä¸€æ ·\n<!-- more -->\n![å¤šè‚‰](20170717/20170716_164909.jpg)\n","tags":["å¿ƒæƒ…","æ—¥è®°"],"categories":["å…¶ä»–"]},{"title":"å…¨æ’åˆ—é—®é¢˜-å­—å…¸åº","url":"/2017/07/06/quanpailie_permutation/","content":"\n## åˆ†æ\n\nä¸Šä¸€ç¯‡æ˜¯å…¨æ’åˆ—çš„é€’å½’è§£æ³•ï¼Œç°åœ¨æŒ‰ç…§å­—å…¸åºçš„è§£æ³•å¤„ç†ï¼š\n\n> 1,2,3\n>\n> 1,3,2\n\n> > ç»™å‡ºä¸€ä¸ªæ•°å­—æ’åˆ—çš„æœ€å°å­—å…¸åºï¼Œæ‰¾åˆ°ä»–çš„ä¸‹ä¸€ä¸ªå­—å…¸åºï¼Œ ç›´åˆ°åˆ°è¾¾æœ€å¤§å­—å…¸åºå€¼\n\n1,2,3->3,2,1 ä¸­é—´çš„è¿‡ç¨‹å³ä¸ºå…¨æ’åˆ—çš„è¿‡ç¨‹\n\n<!-- more -->\n\n#### å­—å…¸åºå«ä¹‰\n\nä»å·¦åˆ°å³æŒ‰ç…§ä½ç½®æ¯”è¾ƒï¼ŒæŒ‰ç…§ä¾æ¬¡å¢å¤§çš„é¡ºåºæ’åˆ—ï¼Œä¾‹å¦‚123ï¼Œ12ï¼Œ21ï¼Œ1ï¼Œ2ã€‚çš„å­—å…¸åºæ’åºåæ˜¯1ï¼Œ12ï¼Œ123ï¼Œ2ï¼Œ21ã€‚\n\n#### ä¸‹ä¸€ä¸ªåºåˆ—\n\n> 1ã€ä»å³åˆ°å·¦ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªé‚»ä½é€’å‡çš„æ•°a\n>\n> 2ã€æ‰¾aå³è¾¹æ¯”è‡ªå·±å¤§çš„ï¼Œæœ€æ¥è¿‘è‡ªå·±çš„æ•°b\n>\n> 3ã€äº¤æ¢a,bä½ç½®\n>\n> 4ã€ å¯¹bå³è¾¹çš„æ•°å­—ä»å°åˆ°å¤§æ’åˆ—ï¼Œå³æ‰¾åˆ°å­—å…¸åºçš„ä¸‹ä¸€ä¸ªåºåˆ—\n\nä»¥æ•°å­—ä¸¾ä¾‹:746532,æ­¥éª¤ï¼š\n\n1ã€æ‰¾åˆ°ç¬¬ä¸€ä¸ªé‚»ä½é€’å‡46ä¸­çš„4\n\n2ã€æ‰¾åˆ°æ¯”4å¤§çš„æœ€å°æ•°5\n\n3ã€äº¤æ¢4ï¼Œ5ã€‚å³ï¼š756432\n\n4ã€5å³è¾¹æ•°æ®æ’åºï¼Œå³ï¼š752346\n\n746532ä¸‹ä¸€ä¸ªåºåˆ—å°±æ˜¯752346\n\n## ç¼–ç æ€è·¯\n\nä»£ç åŠæ³¨è§£\n\n```java\n    //{1,2,6,5,4,3,0}\n    public static int[] nextOrder(int[] a) {\n        int flag = -1;\n        int index = 0;\n        for (int i = a.length - 1; i > 0; i--) { //æ‰¾åˆ°ç¬¬ä¸€ä¸ªé‚»ä½é€’å‡çš„ï¼Œ è®°å½•ä½ç½®index\n            if (a[i] > a[i - 1]) {\n                flag = a[i - 1];\n                index = i - 1;\n                break;\n            }\n        }\n\n        if (flag == -1) { // æ²¡æ‰¾åˆ°ä¸‹ä¸€ä¸ªï¼Œ ç›´æ¥è¿”å›è‡ªå·±\n           /* for (int i = 0, j = a.length - 1; i < j; i++, j--) {  // æ³¨é‡Šéƒ¨åˆ†è¡¨ç¤ºæ²¡æœ‰ä¸‹ä¸€ä¸ª ä»å¤´å¼€å§‹\n                swap(a,i,j);\n            }*/\n            return a;\n        }\n\n        int delta = Integer.MAX_VALUE;\n        int indexSwap = 0;\n        for (int i = index + 1; i < a.length; i++) { // æ‰¾åˆ°indexä¹‹åç¬¬ä¸€ä¸ªæ¯”indexä½ç½®å€¼å¤§çš„ç´¢å¼•ä½ç½®indexswap\n            if (a[i] > flag && (a[i] - flag) < delta) {\n                delta = (a[i] - flag);\n                indexSwap = i;\n            }\n        }\n\n        swap(a, index, indexSwap); // äº¤æ¢ index  indexswap ä¸¤ç´¢å¼•ä½ç½®çš„å€¼\n        sortIncr(a, index + 1, a.length); // å¯¹index ä¹‹åçš„ä½ç½®å‡åºæ’åˆ—\n        return a;\n    }\n```\n\nå…¨æ’åˆ—ï¼š[C2DicOrder.java](https://github.com/yangl326-Dylan/apus/blob/master/src/main/java/com/dylan326/justcode/C2DicOrder.java) [C3Permutation.java](https://github.com/yangl326-Dylan/apus/blob/master/src/main/java/com/dylan326/justcode/C3Permutation.java)\n\n------\n\n**ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»å…è®¸ä¸å¾—è½¬è½½ã€‚**\n","tags":["è„‘å­ç§€é€—","å…¨æ’åˆ—"],"categories":["ç®—æ³•"]},{"title":"å…¬å›­å°è½¦","url":"/2017/07/06/20170706/","content":"\n## æ—§äº‹è®°å½•\n<!-- more -->\n![å°è½¦](20170706/1_18_WP_000098.jpg)\n","tags":["å¿ƒæƒ…","æ—¥è®°"],"categories":["å…¶ä»–"]},{"title":"è„‘å­vså—“é—¨","url":"/2017/07/03/20170703/","content":"\n## è®°å½•å·¥ä½œä¸€ä»¶äº‹\n\nä¸Šå¸ç»™äº†äººä»¬è„‘å­ï¼Œä½†æœ‰äº›äººåè¦ç”¨å—“é—¨â€”å“ˆå“ˆ dylan\n","tags":["å¿ƒæƒ…","æ—¥è®°"],"categories":["å…¶ä»–"]},{"title":"çºªå¿µæ—¥","url":"/2017/06/23/çºªå¿µæ—¥2017/","content":"\n## çºªå¿µæ—¥\n\n> ä»Šå¤©æ˜¯æˆ‘ä»¬é¢†å–ç»“å©šè¯çš„ä¸€å‘¨å¹´çºªå¿µæ—¥ã€‚ æˆ‘çŸ¥é“é‚£ä»½è¯ä¹¦çš„åˆ†é‡ï¼Œæ˜¯å¥¹å¯¹è‡ªå·±ä¸€ç”Ÿçš„æ‰˜ä»˜ï¼Œç»™æˆ‘ï¼›æ˜¯æˆ‘ä¸å¥¹æºæ‰‹åˆ°è€çš„å¯ç¨‹è§è¯ã€‚\n>\n> > ä»Šå¤©çœ‹åˆ°äº†è®¸å¤šå†ç»å¤§åŠç™¾çš„è€äººï¼Œæˆ–å½¢å•ï¼Œæˆ–é…å¯¹ï¼Œæˆ–ä¸è®¤è¯†ä½†èƒ½å” ä¸Šå—‘ï¼Œæˆ–è®¸æœ‰ç€å…±åŒçš„è¨€è¯­ã€‚è€³æœµå¬è¯ä¸æ¸…ï¼Œèµ°è·¯ä¹Ÿæ…¢æ…¢çš„ï¼Œæœ‰çš„æ˜¯è½®æ¤…ã€‚ \n> >\n> > > æˆ‘æƒ³åˆ°ï¼šåœ¨ä¸€èµ·åº¦è¿‡åŠç™¾æ˜¯ä¸€ä»¶å¤šä¹ˆå¹¸ç¦çš„äº‹æƒ…ã€‚\n\n","tags":["å¿ƒæƒ…","æ—¥è®°"],"categories":["å…¶ä»–"]},{"title":"å…¨æ’åˆ—é—®é¢˜-é€’å½’","url":"/2017/06/23/quanpailie_digui/","content":"\n## åˆ†æ\n\nå…¨æ’åˆ—æ˜¯ä¸€ä¸ªå¸¸è§çš„ç®—æ³•é€»è¾‘é¢˜ï¼Œå¯¹äºä¾‹å­{1,2,3}æ¥è¯´å®ƒçš„å…¨æ’åˆ—ï¼šA33=6ä¸ªï¼Œæšä¸¾ç»“æœå¦‚ä¸‹ï¼š\n\n> 1,2,3\n>\n> 1,3,2\n>\n> 2,1,3\n>\n> 2,3,1\n>\n> 3,1,2\n>\n> 3,2,1\n\n> > æ¯ä¸ªå…ƒç´ ä½œä¸ºé¦–ä½ï¼Œå‰©ä¸‹å…ƒç´ çš„å…¨æ’åˆ—ï¼š\n\nè¿™å¥è¯å¦‚ä½•ç†è§£æŒºå…³é”®ï¼Œæ˜¯æ•´ä¸ªé€’å½’æ€è·¯çš„æ€»ç»“ï¼Œæˆ‘ä»¬æŒ‰ç…§ä¸¤ä¸ªæ­¥éª¤æ¥åˆ†æ\n\n<!-- more -->\n\n#### æ­¥éª¤1\n\nâ€œå‰©ä¸‹å…ƒç´ çš„å…¨æ’åˆ—â€ å®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªé€’å½’çš„è¯­å¥ï¼Œå®ƒçš„ç»“æŸæ¡ä»¶æ˜¯å‰©ä¸‹å…ƒç´ åªæœ‰ä¸€ä¸ªå…ƒç´ äº†ï¼Œé‚£ä¹ˆå‰é¢çš„å…ƒç´ å…¨éƒ¨å›ºå®šï¼Œå’Œå‰©ä¸‹çš„è¿™ä¸ªæœ€åå…ƒç´ ç»„æˆçš„ç»“æœå°±æ˜¯å…¨æ’åˆ—çš„ä¸€ä¸ªåºåˆ—ã€‚\n\n#### æ­¥éª¤2\n\n>æ¯ä¸ªå…ƒç´ æ”¾ç½®åˆ°é¦–ä½\n\nå…ƒç´ ä½œä¸ºé¦–ä½ï¼Œå®é™…ä¹Ÿå­˜åœ¨ä¸€ä¸ªé€’å½’çš„ç†è§£ã€‚ å¦‚ä¾‹å­ä¸­çš„1å¼€å¤´ï¼Œå‰©ä½™å…ƒç´ çš„å­é—®é¢˜ä¸­ï¼Œ2ä¹Ÿåšè¿‡é¦–ä½ç­‰ã€‚\n\n## ç¼–ç æ€è·¯\n\nä»£ç åŠæ³¨è§£\n\n```java\npublic static void printFullArray(int[] a, int start, int end) {\n        if (start == end) {\n            System.out.println(Arrays.toString(a)); // æ‰“å°æ•°ç»„\n        } else {\n            for (int i = start; i <= end; i++) {// startåˆ°endçš„å…¨æ’åˆ— æ•°ç»„ç´¢å¼•ä½ç½®\n                swap(a, start, i);// ä»index=0å¼€å§‹äº¤æ¢ã€‚ä½œä¸ºé¦–ä½çš„å…ƒç´ \n                printFullArray(a, start + 1, end);//å‰©ä½™å…ƒç´ çš„å…¨æ’åˆ—\n                swap(a, start, i);// æ•°æ®éœ€è¦å¤åŸï¼›å¯ä»¥çœ‹æŸæ¬¡é€’å½’æ·±åº¦çš„æ‰§è¡Œï¼Œå³ä¹‹åçš„æ¯ä¸ªå…ƒç´ äº¤æ¢åˆ°å‰é¢ï¼Œ æ‰€ä»¥æ¯æ¬¡éƒ½æ˜¯åˆå§‹çš„å¤åŸä½ç½®å¼€å§‹\n            }\n        }\n\n    }\n```\n\nå…¨æ’åˆ—é€’å½’ï¼š[C1FullArray.java](https://github.com/yangl326-Dylan/apus/blob/master/src/main/java/com/dylan326/justcode/C1FullArray.java)\n\nå¼•ç”³é—®é¢˜ï¼šå…ƒç´ å­˜åœ¨ç›¸åŒå¦‚ä½•å¤„ç† å¦‚{1,2,2,3}ã€‚åŠ ä¸Šåˆ¤å®šï¼Œäº¤æ¢æˆ–è€…ä½œä¸ºå¼€å¤´çš„å…ƒç´ æ˜¯ä¹‹å‰æœªå¤„ç†è¿‡çš„ã€‚\n\n---\n\n**ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»å…è®¸ä¸å¾—è½¬è½½ã€‚**\n","tags":["è„‘å­ç§€é€—","é€’å½’"],"categories":["ç®—æ³•"]},{"title":"AbstractQueuedSynchronizerå®ç°åˆ†æ","url":"/2017/05/15/aqs1/","content":"\n### èƒŒæ™¯ä»‹ç»\n\nJDK1.5å¼€å§‹çš„java.util.concurrentåŒ…ï¼ˆç®€ç§°J.U.CåŒ…ï¼‰æä¾›äº†å¤§éƒ¨åˆ†åŒæ­¥å™¨çš„æ„å»ºæºæ¡†æ¶ç±»ï¼šAbstractQueuedSynchronizerï¼Œç®€ç§°AQSç±»ã€‚æˆ‘ä»¬ä½¿ç”¨åˆ°çš„å¤§éƒ¨åˆ†åŒæ­¥å™¨éƒ½ä¼šæœ‰ä¸€ä¸ªå®ç°äº†AQSçš„å­ç±»ã€‚\n\n<!-- more -->\n\n### åŸç†åˆ†æ\n\nç®€å•çš„ç†è§£ï¼ŒAQSç±»å®ç°äº†ä¸¤è€…\n\n1. è‡ªåŠ¨ç®¡ç†äº†ä¸€ä¸ªintç±»å‹çš„stateåŒæ­¥çŠ¶æ€ï¼ŒCASä¿è¯å…¶åŸå­æ€§\n2. ä¸€ä¸ªé˜»å¡ã€å”¤é†’çº¿ç¨‹çš„é˜Ÿåˆ—ç®¡ç†ï¼ŒåŒå‘é“¾è¡¨\n\nå…ˆä»åŒæ­¥å™¨åŸºæœ¬è®²èµ·ï¼Œä¸€ä¸ªåŒæ­¥å™¨ä¸€èˆ¬æä¾›ä¸¤ç§æ–¹æ³•ï¼šä¸€ç§æ˜¯acquireï¼›ä¸€ç§æ˜¯releaseã€‚acquireä¼šé˜»å¡çº¿ç¨‹è°ƒç”¨æˆ–è€…éé˜»å¡æ–¹å¼ç›´æ¥è¿”å›åŒæ­¥çŠ¶æ€ï¼Œreleaseæ“ä½œå°±æ˜¯æ”¹å˜æ­¤åŒæ­¥çŠ¶æ€ï¼Œå”¤é†’å…¶ä»–è¢«é˜»å¡çš„çº¿ç¨‹æ‰§è¡Œã€‚\n\nä¾‹å¦‚ï¼šReentrantLockçš„lock() /unlock()ã€CountDownLatchçš„await()/countDown()ã€Semaphoreçš„acquire()/release()ç­‰éƒ½æ˜¯ä¸Šè¿°ä¸¤ç§çš„å®ç°ã€‚åªæ˜¯æ¯ä¸ªå®ç°å­ç±»ä¸­çš„stateè¡¨è¾¾çš„åŒæ­¥çŠ¶æ€æœ‰ç€è‡ªå·±çš„å«ä¹‰ã€‚æ³¨ï¼šFutureTaskåŒæ­¥ç±»ä¸­æ²¡ç›´æ¥ä½¿ç”¨AQSç±»ï¼Œä½†åŸºæœ¬çš„åŒæ­¥å™¨è®¾è®¡æ€è·¯åŒAQSã€‚\n\néœ€è¦ä¸‹é¢ä¸‰ä¸ªåŸºæœ¬åŠŸèƒ½ç»„ä»¶ç›¸äº’åä½œï¼š\n\n- ä¸€ä¸ªå…·æœ‰åŸå­æ€§çš„åŒæ­¥çŠ¶æ€\n- çº¿ç¨‹çš„é˜»å¡ä¸å”¤é†’\n- é˜Ÿåˆ—çš„ç®¡ç†ï¼Œæ”¯æŒæ’é˜Ÿæˆ–è€…é—¯å…¥ï¼Œå³å¤„ç†å…¬å¹³éå…¬å¹³\n\n##### åŸå­æ€§çŠ¶æ€\n\nAQSç±»æä¾›äº†ä¸€ä¸ªintç±»å‹çš„stateçŠ¶æ€ï¼ˆå¤‡æ³¨å½“ç„¶ä¹Ÿæä¾›longç±»å‹çš„stateçŠ¶æ€ï¼Œå®é™…æƒ…å†µä¸‹intæ»¡è¶³ç»å¤§éƒ¨åˆ†åœºæ™¯ï¼‰ï¼Œé€šè¿‡stateçš„è¯»å–å’Œä¿®æ”¹æ¥è¡¨ç¤ºä¸åŒçš„çŠ¶æ€ï¼Œä¿®æ”¹åŸºäºatomicåŸå­ç±»ä¸­CASï¼ˆcompareAndSetï¼‰æºè¯­ç­‰æ“ä½œæ¥ç»´æŠ¤è¿™ä¸ªçŠ¶æ€ã€‚å®ƒåœ¨ä¸åŒçš„åŒæ­¥å™¨ä¸­è¡¨è¾¾çš„å«ä¹‰ä¸ä¸€æ ·ï¼Œä¾‹å¦‚é‡å…¥é”ä¸­ï¼Œå½“æŸä¸ªçº¿ç¨‹ä»æ¡ä»¶ç­‰å¾…ä¸­è¿”å›ï¼Œç„¶åé‡æ–°è·å–é”æ—¶ï¼Œä¸ºäº†é‡æ–°å»ºç«‹å¾ªç¯è®¡æ•°çš„åœºæ™¯å°±å¯ä»¥ä½¿ç”¨åˆ°è¿™ä¸ªçŠ¶æ€ã€‚å½“ç„¶æœ‰äº›åŒæ­¥å™¨ä¸­ä¹Ÿå¯ä»¥ä¸ä½¿ç”¨æ­¤çŠ¶æ€ã€‚\n\n##### é˜»å¡\n\nè¯´åˆ°é˜»å¡å½“ç„¶ä¼šæƒ³åˆ°çº¿ç¨‹çš„waitå’Œnotifyï¼Œ å¯¹æ¯”JUCä¸­çš„çš„LockSupportç±»ï¼Œ ä¸¤è€…çš„åŒºåˆ«æ˜¯:LockSupportæä¾›ä¸»åŠ¨çš„å”¤é†’æœºåˆ¶ï¼Œè€Œnotifyåˆ™æ˜¯æŠ¢å å½¢å¼çš„å”¤é†’æ¨¡å¼ã€‚LockSupportçš„unparkæ–¹æ³•æ”¯æŒä¸»åŠ¨å”¤é†’æŸä¸ªçº¿ç¨‹ï¼Œæä¾›äº†ç›¸å¯¹äºnotifyæ›´ä¼˜è‰¯çš„æœºåˆ¶ã€‚\n\n##### é˜Ÿåˆ—\n\nå®é™…ä¸ŠAQSçš„æœ¬è´¨å°±æ˜¯ä¸€ä¸ªé˜»å¡çº¿ç¨‹é˜Ÿåˆ—çš„ç®¡ç†å™¨ï¼Œä¸¥æ ¼çš„FIFOï¼ˆå…ˆå…¥å…ˆå‡ºï¼‰å¤‡æ³¨ï¼šä¸æ”¯æŒä¼˜å…ˆçº§é˜Ÿåˆ—ã€‚å®ƒä»¥ç±»ä¼¼è‡ªæ—‹é”çš„è‡ªæ—‹æ¨¡å¼æ¥åˆ¤å®šç°æˆçš„è·å–å’Œé‡Šæ”¾ã€‚\n\n### å‚è€ƒ\n\n- AbstractQueuedSynchronizerç±»æ³¨é‡Šdocï¼Œ åŸºæœ¬è¿™ä¸ªæ–‡æ¡£æ˜ç™½äº†ï¼Œå†åŠ ä¸Šä¸€ä¸ªå®ç°ç±»ï¼ŒåŸºæœ¬æ¯ä¸ªåŒæ­¥ç±»éƒ½ä¼šå®ç°ä¸€ä¸ªAQSçš„å®ç°ç±»ä½œä¸ºå†…éƒ¨ç±»\n- Doug Leaå¤§å¸ˆï¼ˆå…«å­—èƒ¡è€çˆ·çˆ·ï¼‰è®ºæ–‡ï¼š[The java.util.concurrent Synchronizer Framework](http://gee.cs.oswego.edu/dl/papers/aqs.pdf \"The java.util.concurrent Synchronizer Framework\")\n\n---\n\n**ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»å…è®¸ä¸å¾—è½¬è½½ã€‚**\n","tags":["java","JVM"],"categories":["è¯­è¨€","JDK"]},{"title":"ä»€ä¹ˆæ˜¯CheckSumæ ¡éªŒå’Œ","url":"/2017/04/06/checksum/","content":"\n## ç®€ä»‹\nå¯¹äºäº†è§£è¿‡TCP/IPåè®®çš„æ¥è¯´ï¼Œä¼šæ³¨æ„åˆ°éƒ¨åˆ†åè®®å¤´ä¸­çš„checksumå­—æ®µï¼Œå¦‚TCPï¼Œ IPç­‰ã€‚é‚£ä¹ˆchecksumæ˜¯ä»€ä¹ˆã€ä¸ºä»€ä¹ˆè¢«ä½¿ç”¨ã€å¦‚ä½•è®¡ç®—å‡ºæ¥ï¼Œ å¯¹è¿™äº›é—®é¢˜åšä¸€ä¸ªç®€å•çš„è®²è¿°ã€‚\n\n## å›é¡¾\n\nIPå¤´ç»“æ„çš„ç†è§£ï¼Œè¯¦è§æœ¬æœ¬ç«™ä¸€ç¯‡IPå¤´çš„ç»“æ„æ–‡ç« ã€‚ç®€å•çš„å½’çº³å°±æ˜¯32bitå€æ•°çš„æ•°æ®ï¼Œ æœ€å¤§å¤´é•¿åº¦ä½æ•°æ•°æ®æ˜¯4bit-IHLï¼ˆå•ä½æ˜¯4å­—èŠ‚å³32bitï¼‰é‚£ä¹ˆæœ€å¤§15*32bit=60å­—èŠ‚ï¼›æœ€å°æ— å¯é€‰æ•°æ®ä¸º20å­—èŠ‚ã€‚  \n\næ•°æ®ç»“æ„å¦‚ä¸‹ï¼š  \n\n```shell\n    0                   1                   2                   3  \n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1  \n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  \n   |Version|  IHL  |Type of Service|          Total Length         |  \n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  \n   |         Identification        |Flags|      Fragment Offset    |  \n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  \n   |  Time to Live |    Protocol   |         Header Checksum       |  \n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  \n   |                       Source Address                          |  \n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  \n   |                    Destination Address                        |  \n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  \n   |                    Options                    |    Padding    |  \n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  \n```\n\næˆ‘ä»¬çœ‹æ¯”è¾ƒå…³æ³¨çš„å‡ ä¸ªå­—æ®µ:  \nHeader Checksumï¼Œ header checksumå ç”¨16bitæ•°æ®ç©ºé—´ã€‚  \nPaddingï¼šè¡¥å……æ•°æ®ï¼Œç¡®ä¿ä¸º32bitçš„å€æ•°ï¼Œé‚£ä¹ˆå¤´æ•°æ®è‚¯å®šä¹Ÿæ˜¯16bitçš„å€æ•°ã€‚  \nå…¶ä»–å­—æ®µæœ¬æ–‡æš‚ä¸”ç”¨ä¸åˆ°ï¼Œå¦‚éœ€è¯¦ç»†äº†è§£è¯·çœ‹å¦ä¸€ç¯‡æ–‡ç« ã€‚\n\n## å®šä¹‰åŠæè¿°\nä»€ä¹ˆæ˜¯checksumï¼Œ æ ¡éªŒå’Œæ˜¯ä¸€ä¸ªç”¨æ¥æ£€æµ‹æ•°æ®æ˜¯å¦å’ŒåŸæ¥ä¸€è‡´çš„ä¸€ä¸ªå€¼ï¼Œ å®ƒçš„ä½æ•°16bitï¼Œæ ¹æ®æ•°æ®è®¡ç®—å‡ºæ¥çš„ã€‚å› ä¸ºæ•°æ®åœ¨ç½‘ç»œä¸Šä¼ è¾“å­˜åœ¨è¯¯ç æˆ–è€…é”™è¯¯ï¼Œé‚£ä¹ˆéœ€è¦ä¸€ä¸ªæ£€æµ‹å€¼åœ¨åŒ…å¤´åˆ¤å®šæ•°æ®æ˜¯å¦æ­£ç¡®ã€‚  \næˆ‘ä»¬æŠŠåŒ…å¤´æ•°æ®æŒ‰ç…§16bitåˆ†ç»„ï¼Œç„¶åå¯¹æ¯ç»„æ•°æ®æŒ‰ä½æ±‚å’Œï¼Œ é‚£ä¹ˆè¿™ä¸ªå€¼å¯è®¤ä¸ºä¸ºæ ¡éªŒå’Œã€‚\n\n## IPå¤´checksumè®¡ç®—æ–¹å¼\nå½“å‘é€ç«¯å‘é€æ•°æ®çš„æ—¶å€™ï¼ŒæŠŠchecksumæ•°æ®ä½ç½®ä¸º0ï¼ŒIPå¤´æ•°æ®æŒ‰ç…§16bitåˆ†ç»„è®¡ç®—å‡ºæ ¡éªŒå’Œå€¼ï¼›æ¥æ”¶ç«¯æ¥æ”¶åˆ°çš„å¤´æ•°æ®åŒæ ·æŒ‰ç…§16bitåˆ†ç»„ï¼Œè®¡ç®—å‡ºæ¯ç»„çš„åç å¹¶æ±‚å’Œï¼Œ å¦‚æœipå¤´åœ¨ä¼ è¾“ä¸­ä¸å­˜åœ¨æ•°æ®é”™è¯¯ï¼Œé‚£ä¹ˆè®¡ç®—ç»“æœåº”è¯¥å…¨ä¸º1ã€‚\n## æ€»ç»“åŠåè®°\næ ¡éªŒå’Œæ˜¯ä¸€ç§æ•°æ®æœ‰æ•ˆæ€§çš„æ£€æµ‹æ‰‹æ®µï¼Œä¼˜ç‚¹å¯¹æ¯”MD5/CRCç­‰æ˜¯è®¡ç®—å¿«é€Ÿï¼Œç¼ºç‚¹æ˜¯å¹¶ä¸èƒ½å®Œå…¨çš„ä¿è¯æ•°æ®çš„æ­£ç¡®æ€§ï¼Œ éœ€è¦åº”ç”¨åè®®æˆ–è€…ç¨‹åºå»ä¿è¯ã€‚ äºšé©¬é€ŠS3æŸæ¬¡æ•…éšœä¸­å°±å‡ºç°å†…ç½‘ä¼ è¾“æ•°æ®bité”™è¯¯å¯¼è‡´çš„é—®é¢˜ï¼Œæ‰€ä»¥åº”ç”¨å±‚åšæ•°æ®æ ¡éªŒã€‚\n\n---\n\n**ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»å…è®¸ä¸å¾—è½¬è½½ã€‚**\n","tags":["ç½‘ç»œ","TCP/IP"],"categories":["ç½‘ç»œ"]},{"title":"é¢è¯•å®˜æ„Ÿæƒ³","url":"/2017/03/03/xinqin20170303/","content":"\n## æœ€è¿‘é¢è¯•\n\nä»Šå¹´å¹´åæœ€è¿‘é¢äº†å¥½å¤šäººå‘˜ï¼Œè‡ªå·±æœ‰ä¸€äº›å‡†åˆ™ï¼š\nåŸºæœ¬åŸåˆ™\nâ€‹\tä¼˜å…ˆè€ƒå¯Ÿè€ƒå¯ŸåŸºæœ¬èƒ½åŠ›ã€æ½œåœ¨èƒ½åŠ›ï¼Œæ€è€ƒå’Œå­¦ä¹ èƒ½åŠ›ã€‚å¯¹åº”å±Šç”Ÿå°¤å…¶é‡è¦\næŒæ¡çš„çŸ¥è¯†é¢çš„å®½å¹¿å’Œç›¸å…³çŸ¥è¯†é¢çš„æ·±å…¥ç¨‹åº¦ã€‚ä¸è¿‡åˆ†çš„è¿½æ±‚æŒæ¡çš„å¤šå°‘\nç®€å†å†…å®¹åŠæ‰€è¿°ç¬¦åˆå®é™…ï¼Œä¸å®è€…æ…é‡æˆ–ä¸è€ƒè™‘\nç›¸å…³å†…å®¹ç”±æµ…å…¥æ·±ï¼Œä¸“ä¸šæ€§æˆ–è€…èŒä½è¦æ±‚è¾ƒå¼ºçš„ï¼Œå¯æœ‰ç›¸å…³ç±»å‹çš„è€ƒå¯Ÿ\nè¯­è¨€è¡¨è¾¾ã€å¯¹å¾…äº‹æƒ…çš„æ€åº¦ã€è´£ä»»å¿ƒç­‰ç›¸å…³è½¯ç´ è´¨\n\né¢è¯•æ³¨æ„äº‹é¡¹\nâ€‹\tæå‰reviewå€™é€‰äººç®€å†ï¼Œåšå¥½ç›¸å…³é¢è¯•å‡†å¤‡ï¼Œå…ˆæœ‰ä»‹ç»ï¼Œä¸»è¦ç»å†ä¸­è´¡çŒ®äº†ä»€ä¹ˆï¼Œè§£å†³äº†ä»€ä¹ˆã€‚è‹¥è€ƒå¯Ÿé£æ ¼æ²¡æœ‰å¤ªå¤šçš„ä¸å¦¥ï¼Œå¯æŒ‰ä¸ªäººçš„é£æ ¼è€ƒå¯Ÿï¼Œå¦‚é‡åˆ°ç›¸å…³è¿Ÿç–‘ï¼Œå¯æç¤ºç›¸å…³ä¿¡æ¯ï¼Œçœ‹å€™é€‰è€…çš„ç†è§£å’Œåˆ†æèƒ½åŠ›ï¼Œå›´ç»•å€™é€‰è€…æŒæ¡æƒ…å†µï¼Œè€ƒå¯Ÿå¦‚ä½•åˆ†æå’Œå¤„ç†ç›¸å…³é—®é¢˜\n\nä¸æ˜¯çŸ¥è¯†ï¼Œæ˜¯æœç´¢å’Œå­¦ä¹ çŸ¥è¯†çš„èƒ½åŠ›\nä¸æ˜¯ç­”æ¡ˆï¼Œæ˜¯è§£å†³é—®é¢˜çš„æ€è·¯å’Œæ–¹æ³•\né€šè¿‡åç»™åˆ°ä¸‹ä¸€é¢è¯•å®˜ï¼Œä¸é€šè¿‡é€èµ°ã€‚åšå¥½ç›¸å…³é¢è¯•è®°å½•\n","tags":["å¿ƒæƒ…","æ—¥è®°"],"categories":["å…¶ä»–"]},{"title":"2017æ–°å¹´","url":"/2017/02/07/xinqin20170207/","content":"\n## æ–°çš„ä¸€å¹´\n\nè¿˜æ˜¯è¿™å¥è¯ç»™è‡ªå·± be honest to yourself and then the world.","tags":["å¿ƒæƒ…","æ—¥è®°"],"categories":["å…¶ä»–"]},{"title":"æ—¥å¸¸","url":"/2017/01/10/xinqin20170110/","content":"\n## æ—¥å¸¸-æ—©ä¸Šå‡ºé—¨\n\næ¯å¤©æ—©ä¸Šå‡ºé—¨ï¼Œlpæ€»è¯´æˆ‘ç©¿çš„æ¼‚æ¼‚äº®äº®åšä»€ä¹ˆï¼Œè¯´ï¼ä»€ä¹ˆæ„å›¾\n","tags":["å¿ƒæƒ…","æ—¥è®°","æ—¥å¸¸"],"categories":["å…¶ä»–"]},{"title":"TCP Retransmit,TCPé‡ä¼ ","url":"/2017/01/05/tcpip_1_kuaisuchongchuan/","content":"\n# TCPé‡ä¼ \n\n### ä¸ºä»€ä¹ˆè¦é‡ä¼ \n\nTCPéœ€è¦ä¿è¯æ•°æ®åŒ…çš„å¯é æ€§é€è¾¾ï¼Œå¿…é¡»æœ‰é‡ä¼ æœºåˆ¶  \n<!-- more -->\ntcpæ•°æ®ä¼ è¾“ä¸­syncnumå’Œackæœºåˆ¶çš„å•ä½æ˜¯å‘é€çš„å­—èŠ‚æ•°ï¼Œé‚£ä¹ˆå¦‚æœ1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5ä»½æ•°æ®å‘é€è¿‡å»ï¼Œ3å‡ºç°ä¸¢å¤±ï¼Œæ”¶åˆ°4ï¼Œ5 é‚£ä¹ˆæ•°æ®è¯¥å¦‚ä½•å›å¤ç¡®è®¤ï¼Œackæœºåˆ¶åªèƒ½ç¡®ä¿ç¡®è®¤æœ€å¤§çš„æ”¶åˆ°å­—èŠ‚æ•°ï¼Œå¯¹äºå­˜åœ¨è·³è·ƒæ•°æ®æ²¡æ³•ç¡®è®¤ã€‚\n### è¶…æ—¶é‡ä¼ \n\ntcpæœ‰å¤šé‡å®šæ—¶å™¨ï¼Œå…¶ä¸­é‡ä¼ å®šæ—¶å™¨ï¼Œå¤„ç†è¶…æ—¶é‡ä¼ ,æ•°æ®3æŠ•é€’å­˜åœ¨ä¸¢å¤±ï¼Œç­‰å¾…ackè¶…æ—¶åå¯ä»¥é‡ä¼ 3æ•°æ®ã€‚  \n### å¿«é€Ÿé‡ä¼ \n\né‰´äºè¶…æ—¶é‡ä¼ å–å†³äºè¶…æ—¶æ—¶é—´ï¼Œå¿«é€Ÿé‡ä¼ çš„ï¼Œå¿«é€Ÿç›¸å¯¹äºè¶…æ—¶é‡ä¼ æœºåˆ¶ï¼Œå®é™…å¯ä»¥ç†è§£ä¸ºä¸»åŠ¨é‡ä¼ ã€‚ä¾‹å­åŒä¸Šï¼Œ3æ¥æ”¶ä¸¢å¤±ï¼Œæ”¶åˆ°4ï¼Œ5 ä»æ—§å›å¤2æ•°æ®çš„ackï¼Œ é‚£ä¹ˆå‘é€æ–¹çŸ¥é“3ä¸¢å¤±ï¼Œé‡å¤ä¼ é€3æ•°æ®ï¼Œæ­¤æ—¶æ¥æ”¶æ–¹å·²æ”¶åˆ°4ï¼Œ5æ•°æ®ï¼Œæ”¶åˆ°3æ•°æ®åå›å¤5æ•°æ®ack\n### æ€è€ƒé—®é¢˜\n\nè¶…æ—¶é‡ä¼ ï¼Œtcpå¦‚ä½•ç¡®è®¤è¶…æ—¶æ—¶é—´   \nå¿«é€Ÿé‡ä¼ ï¼Œå¦‚æœå»ä¼˜åŒ–è¿ç»­æ•°æ®ä¸­çš„è‹¥å¹²éƒ¨åˆ†æ®µä¼ è¾“ä¸¢å¤±ï¼Œæœ‰ä½•åˆ©å¼Šã€‚\n\n---\n\n**ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»å…è®¸ä¸å¾—è½¬è½½ã€‚**\n","tags":["ç½‘ç»œ","TCP/IP","TCPé‡ä¼ "],"categories":["ç½‘ç»œ"]},{"title":"é©¾ç…§","url":"/2016/10/11/xinqin20161011/","content":"\n## sign\nè¿‡å®Œåä¸€åçš„å‡ å¤©ï¼Œ ä»Šå¤©æ‹¿åˆ°é©¾ç…§äº†ï¼ŒåŒ—äº¬è¿™è¾¹å‘¨æœŸè¿˜æŒºçŸ­çš„ï¼Œä¸€ä¸ªåŠæœˆå·¦å³\n","tags":["å¿ƒæƒ…","æ—¥è®°"],"categories":["å…¶ä»–"]},{"title":"Swallow sizeå’ŒRetained sizeåŒºåˆ«ï¼ˆ+ deep sizeï¼‰","url":"/2016/08/10/java_mem_size/","content":"\nJVM heapä¸­å¯¹è±¡å¤§å°æœ‰ç€å¦‚ä¸‹å¤§å°è¡¨ç¤º\n-----------  \n\nå¦‚æœå¯¹è±¡å­˜åœ¨å…¶ä»–å¼•ç”¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥æè¿°å¯¹è±¡å¤§å°æœ‰å¦‚ä¸‹å‡ ç§ç±»å‹ï¼š\n\na)Swallow Size: å­˜å‚¨å¯¹è±¡è‡ªèº«æ‰€åŒ…å«çš„å†…å­˜å ç”¨é‡\n\n1.ä»…è¡¨ç¤ºå¯¹è±¡è‡ªèº«  \n\n<!-- more -->\n\n2.é›†åˆç­‰ï¼Œå¯¹è±¡è‡ªå·±å’Œå¯¹è±¡ä¸­å…ƒç´ æˆ–è€…åŸŸï¼ˆfields)çš„â€œå¼•ç”¨â€çš„å¤§å°ã€‚åªåŒ…å«å¼•ç”¨æ•°æ®çš„å¤§å°   \n\n3.å¯ä»¥ä½¿ç”¨instrumentation.getObjectSize(obj)è·å–åˆ°å¤§å°\n\nb)Retained Size: å¯¹è±¡è‡ªèº«çš„swallow sizeåŠ ä¸Šæ­¤å¯¹è±¡å¯è¾¾çš„æ‰€æœ‰å¯¹è±¡çš„swallow size\n\n1.ç›´æ¥å¯è¾¾ï¼Œé—´æ¥å¯è¾¾  \n\n2.åœ¨GCæ ‘ä¸Šï¼Œä»…ä»…æ¥è‡ªæ­¤å¯¹è±¡ï¼Œä¸åŒ…å«å…¶ä»–å¼•ç”¨ï¼ˆåŒ…æ‹¬gc root referenceï¼‰\n\n3.æ±‡æ€»ç†è§£å°±æ˜¯æ­¤å¯¹è±¡è¢«åƒåœ¾æ”¶é›†å™¨å›æ”¶æ—¶å€™GCé‡Šæ”¾æ‰çš„å†…å­˜å¤§å°\n\nc)Deep Size: ç›¸æ¯”å¦‚ä¸Šä¸¤ç§è¿™ç±»è¾ƒä¸ºå°‘ä½¿ç”¨ï¼Œé€’å½’éå†class: fields+superclass çš„swallow sizeæ€»å’Œ\n\n### å‚è€ƒ\n\nJava Performance: The Definitive Guide\n\nå¤§å°è®¡ç®—æ–¹å¼ï¼š[Instrumentation Memory Counter](http://www.javaspecialists.eu/archive/Issue142.html \"Instrumentation Memory Counter\")\n\n---\n\n**ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»å…è®¸ä¸å¾—è½¬è½½ã€‚**\n","tags":["java","JVM","heap memory"],"categories":["è¯­è¨€","JVM"]},{"title":"æƒ…ç»ª","url":"/2016/08/03/xinqin20160803/","content":"\n## æƒ…ç»ª\n### æ§åˆ¶åˆ°æƒ…ç»ªæ˜¯å¤šä¹ˆå›°éš¾çš„äº‹æƒ…å—\n","tags":["å¿ƒæƒ…","æ—¥è®°"],"categories":["å…¶ä»–"]},{"title":"TCP/IPå·1ç¬”è®°å¤§çº²","url":"/2016/06/30/tcpip_1/","content":"\n# åè®®å·1å¤‡æ³¨ç¬”è®°\n\n## å››å±‚ç½‘ç»œåº”ç”¨æ¨¡å‹\n\n1.åº”ç”¨å±‚ ftp email telnet  \n2.ä¼ è¾“å±‚ TCP UDP  \n3.ç½‘ç»œå±‚ IPï¼ˆICMP IGMPï¼‰  \n4.é“¾è·¯å±‚ è®¾å¤‡é©±åŠ¨ç¨‹åºåŠæ¥å£å¡ï¼ˆarp-åœ°å€è§£æåè®® rarp-ååœ°å€è§£æåè®®ï¼‰   \nä¼ è¾“å±‚æä¾›ç«¯åˆ°ç«¯ï¼Œ IPå±‚æä¾›ç‚¹åˆ°ç‚¹  \n\n<!-- more -->\n\n## äº”ç±»äº’è”ç½‘åœ°å€\n\nA 0.0.0.0~127.255.255.255  \nB 128.0.0.0~191.255.255.255  \nC 192.0.0.0~223.255.255.255  \nD 224.0.0.0~239.255.255.255  \nE 240.0.0.0~247.255.255.255  \n\n\n\n## åŸŸåç³»ç»ŸDNS å®é™…ä¸ºä¸€ä¸ªåˆ†å¸ƒå¼æ•°æ®åº“\n\nå­ç½‘æ©ç  192.0.2.96/24è¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªå‰24ä½è¢«ç”¨ä½œç½‘ç»œå·çš„IPåœ°å€ï¼ˆå’Œ255.255.255.000çš„æ„æ€ä¸€æ ·ï¼‰  \nè®¡ç®—æ–¹å¼æ˜¯ä½ä¸è¿ç®—ï¼Œå¦‚ï¼š\nç±»åˆ«\nèµ·å§‹ä½\nå¼€å§‹\nç»“æŸ\nç‚¹åˆ†åè¿›åˆ¶æ©ç \nA  \n\n0\n\n0.0.0.0  \n\n127.0.0.0  \n\n255.0.0.0  \n\nB  \n\n10  \n\n128.0.0.0  \n\n191.255.0.0  \n\n255.255.0.0  \n\nC  \n\n110  \n\n192.0.0.0  \n\n223.255.255.0  \n\n255.255.255.0  \n\n### å°è£…ä¸åˆ†ç”¨-å°è£…\n\nTCPæ•°æ®æ®µï¼ˆtcp segmentï¼‰\nIPæ•°æ®æŠ¥æ–‡ ï¼ˆip datagramï¼‰  \nä»¥å¤ªç½‘æ•°æ®å¸§ï¼ˆframeï¼‰46~1500ï¼ˆå­—èŠ‚ å¯è®¾ç½®ï¼‰  \nIPå¤´æœ‰ä¸€ä¸ª8bitçš„åè®®åŸŸï¼Œæ ‡ç¤ºåè®®ç±»å‹1=ICMP 2=IGMP 6=TCP 17=UDP\n\n### å°è£…ä¸åˆ†ç”¨-åˆ†ç”¨\n\nç«¯å£å·ï¼š\nå¤§éƒ¨åˆ†çŸ¥åç«¯å£å·ä¸ºå¥‡æ•°? åŠåŒå·¥å†å²  \ntcp 23  \nudp 53  \n\n### ç¯å›æ¥å£\n\nå›½é™…æƒ¯ä¾‹ipæ˜¯127.0.0.1  å¹¶è®¾ç½®localhost\n\n### IPç½‘é™…åè®®\n\nipä¸å¯é æ€§ã€‚  \nipæ— è¿æ¥ã€‚ æ¯ä¸ªipæ•°æ®æŠ¥æ–‡ç‹¬ç«‹ï¼Œ å¯ä»¥æ²¡æœ‰å…ˆåé¡ºåº  \nç½‘ç»œå­—èŠ‚åºï¼šå¤§ç«¯å­—èŠ‚åº  \nTTL ç”Ÿå­˜æ—¶é—´ï¼Œä¸€èˆ¬ä¸ºæºä¸»æœºè®¾ç½®  \n\n### ARPåœ°å€è§£æåè®®\n\nARPåŠŸèƒ½æ˜¯IPåœ°å€å’Œä¸åŒç½‘ç»œæŠ€æœ¯çš„ç¡¬ä»¶åœ°å€åšä¸€ä¸ªæ˜ å°„ã€‚arpå‘å‡ºä¸€ä¸ªarpæ•°æ®è¯·æ±‚ç»™æ¯ä¸ªä»¥å¤ªç½‘ä¸Šçš„ä¸»æœºï¼Œå¯¹åº”ä¸»æœºç¬¦åˆåå›å¤arpåº”ç­”ï¼Œå‘é€ipæŠ¥æ–‡åˆ°ç›®æ ‡ä¸»æœº\nRARP æ˜¯è®¸å¤šæ— ç›˜ç³»ç»Ÿåœ¨å¼•å¯¼æ—¶å€™è·å–ipåœ°å€çš„\n\n### ICMP ç½‘ç»œæ§åˆ¶æŠ¥æ–‡åè®®Internet Control Message Protocol\n\nå¸¸ç”¨äºè¿”å›é”™è¯¯ä¿¡æ¯åŠåˆ†æè·¯ç”±ï¼Œå¦‚ pingï¼ˆicmp echoçš„requestå’Œreplyï¼‰ traceroute\n\nPING  \nä¸ç»è¿‡ä¼ è¾“å±‚ï¼Œä»…ä¸ºICMPçš„echoçš„requestå’Œreply\n\nIPåˆ†ç‰‡  \nMTU ä»¥å¤ªç½‘ç¡¬ä»¶ï¼ˆç½‘å¡ï¼‰ä¸€èˆ¬è®¾ç½®ä¸º1500ï¼šä¾‹å¦‚ï¼šIPé¦–20ï¼Œ UDPé¦–8 å‰©ä½™1472æ•°æ®å­—èŠ‚\n\n### å¹¿æ’­å¤šæ’­å•æ’­\n\nä½¿ç”¨å•æ’­IPåœ°å€çš„IPä¼ è¾“æ–¹å¼ï¼Œå«åšIPå•æ’­ï¼ˆUnicastï¼‰ï¼Œç®€ç§°ä¸ºå•æ’­ã€‚  \nä½¿ç”¨å¹¿æ’­IPåœ°å€çš„IPä¼ è¾“æ–¹å¼ï¼Œå«åšIPå¹¿æ’­ï¼ˆBroadcastï¼‰ï¼Œç®€ç§°ä¸ºå¹¿æ’­ã€‚  \nä½¿ç”¨ç»„æ’­IPåœ°å€çš„IPä¼ è¾“æ–¹å¼ï¼Œå«åšIPç»„æ’­ï¼ˆMulticastï¼‰ï¼Œç®€ç§°ä¸ºç»„æ’­ã€‚  \nå¹¿æ’­ä¸å®é™…å¢åŠ ç½‘ç»œé€šè®¯é‡ï¼Œ ä½†æ˜¯å¦‚ICMPåè®®ç«¯å£ä¸å¯è¾¾ä¼šé¢å¤–å¼•èµ·å¹¿æ’­æµé‡  \n\n### IGMP internetç»„ç®¡ç†åè®®\n\nå¹¿æ’­é•¿å±€é™äºå±€åŸŸç½‘ä¸­ï¼Œå¤šæ’­åè®®å¯ä»¥é™ä½ä¸å‚ä¸é€šè®¯çš„ä¸»æœºè´Ÿæ‹…  \n\n### DNSåŸŸåç³»ç»Ÿ\n\nä¸€ä¸ªåŸºäºtcpipçš„åˆ†å¸ƒå¼ç¼“å­˜\n\n### TCPä¼ è¾“æ§åˆ¶åè®®\n\né¢å‘è¿æ¥å¯é åœ°å­—èŠ‚æµæœåŠ¡  \nå¯é æ€§ä¿éšœï¼š  \n- tcp segment æ•°æ®å—å°è£…æˆipåè®®å‘é€  \n- å‘é€ä¸€ä¸ªæ®µåï¼Œå¯åŠ¨ä¸€ä¸ªå®šæ—¶å™¨ç­‰å¾…å›å¤ï¼ˆè‡ªé€‚åº”è¶…æ—¶å’Œé‡ä¼ ï¼‰  \n- æ”¶åˆ°å‘é€ç«¯çš„æ•°æ®åç»™ä¸€ä¸ªç¡®è®¤çš„å›å¤ï¼ˆä¸ä¸€å®šæ˜¯ç«‹å³å›å¤ï¼‰  \n- é¦–éƒ¨å’Œæ ¡éªŒå’Œæ¥ä¿è¯æ•°æ®æ­£ç¡®æ€§  \n- ipæ•°æ®æŠ¥æ–‡åˆ°è¾¾å¯èƒ½æ— åºï¼Œ tcpå¯¹æ•°æ®æŠ¥æ–‡é‡æ’åºäº¤ç»™åº”ç”¨å±‚  \n- IPæ•°æ®åŒ…ä¼šé‡å¤ï¼Œéœ€è¦ä¸¢å¼ƒé‡å¤  \n- æä¾›æµé‡æ§åˆ¶ï¼Œæ¥æ”¶ç«¯åªå®¹è®¸å‘é€ç«¯å‘é€æœ¬æ®µç¼“å†²èƒ½æ¥æ”¶çš„æ•°æ®  \n\ntcpé¦–éƒ¨ä¸­æœ‰6ä¸ªæ ‡ç¤ºbit:  \n- URG ç´§æ€¥æŒ‡é’ˆ  \n- ACKç¡®è®¤åºå·æœ‰æ•ˆ  \n- PSH å°½å¿«å‘é€åˆ°åº”ç”¨å±‚  \n- RST é‡æ–°å»ºç«‹è¿æ¥  \n- SYN åŒæ­¥åºå·ç”¨æ¥å‘èµ·ä¸€ä¸ªé“¾æ¥ ï¼ˆISN åˆå§‹åºåˆ—å·ï¼Œéšæœº+æ•°æ®åŒ…é•¿åº¦ï¼‰  \n- FIN å‘é€å®Œæ¯•  \n\nä¸‰æ¬¡æ¡æ‰‹ï¼šSYN n->SYN mã€ack n+1->ack m+1  \nå››æ¬¡æ¡æ‰‹ï¼šFIN nã€ack ->ack n+1->FIN mã€ack ->ack m+1  \n\né“¾æ¥ä¸»è¦çŠ¶æ€ï¼š  \nS  : Listen=è¢«åŠ¨æ‰“å¼€  \nC  : SYN_SENT=ä¸»åŠ¨æ‰“å¼€  \nSC: ESTABLISHED=é“¾æ¥å»ºç«‹  \nC  : FIN_WAIT=ä¸»åŠ¨å…³é—­  \nS  : CLOSE_WAIT=è¢«åŠ¨å…³é—­  \nC  : TIME_WAIT=å…³é—­ç­‰å¾…  \nS  : CLOSED=å…³é—­ï¼ˆå‡æƒ³ï¼‰  \n\nNagleç®—æ³•ï¼Œ å°½é‡çš„åˆå¹¶å‘é€åŒ…ï¼Œåˆå¹¶æ¡ä»¶ï¼š  \n- è¾¾åˆ°MSSï¼ˆæœ€å¤§segment å¤§å°ï¼‰ å¤§å° MSSæ¥è‡ªMTUï¼ˆåŒ…å«IPå’Œtcpæˆ–è€…udpå¤´ï¼‰  \n- FINåè®®  \n- tcp nodelayï¼ˆå…³é—­ Nagle algorithmï¼‰  \n- æˆ–è€…ä¸€æ®µæ—¶é—´ï¼ˆ200msï¼‰è¶…æ—¶  \n\n### æ»‘åŠ¨çª—å£\n\næ§åˆ¶æµé‡é¿å…æ‹¥å¡ã€‚ åˆ†ä¸ºå‘é€çª—å£å’Œæ¥æ”¶çª—å£  \n\n### è¶…æ—¶å’Œé‡ä¼ æœºåˆ¶\n\nå®šæ—¶å™¨ï¼š  \n\n- é‡ä¼ å®šæ—¶å™¨  \n- åšæŒå®šæ—¶å™¨ ä½¿çª—å£å¤§å°ä¿¡æ¯ä¿æŒæµåŠ¨  \n- ä¿æ´»å®šæ—¶å™¨  \n- 2MSLå®šæ—¶å™¨ æµ‹é‡timewaitæ—¶é—´  \n\nè¶…æ—¶å’Œé‡ä¼ ï¼š æŒ‡æ•°é¿é€€ç­–ç•¥  \n\næ’å£å¯¹ï¼ˆsocket pairï¼‰å¥—æ¥å­—å¯¹ï¼Œ ip_port-r_ip_port  \nISN åˆå§‹åºåˆ—å·ï¼Œ éšæœºå€¼  \n\nMSLï¼ˆæœ€å¤§segment lifetimeï¼‰  \nTIME_WAIT ä¸º2MSLçŠ¶æ€ï¼Œåœ¨ç­‰å¾…æœŸå†…ï¼Œè¿™éƒ¨åˆ†æ—¶é—´socket pair ä¸å®¹è®¸è¢«ä½¿ç”¨  \n\n### åè®°\n\nå¾…ç»­å’Œå®Œå–„ï¼Œ ç›®å‰ç®€è¦å¤‡æ³¨å¤§çº²\n\n---\n\n**ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»å…è®¸ä¸å¾—è½¬è½½ã€‚**\n","tags":["ç½‘ç»œ","TCP/IP"],"categories":["ç½‘ç»œ"]},{"title":"æœºé‡","url":"/2016/06/30/xinqin20160630/","content":"\n## å¦‚æ­¤\n\nç™¾å°ºç«¿å¤´\n","tags":["å¿ƒæƒ…","æ—¥è®°"],"categories":["å…¶ä»–"]},{"title":"é¢†è¯äº†","url":"/2016/06/23/20160623/","content":"\n## D&E\nç”¨è€å©†çš„è¯å°±æ˜¯ï¼š\n>2016å¹´06æœˆ23æ—¥ï¼Œé˜´å¤©å¾®é£ï¼Œæ—©ä¸ŠåŒ†åŒ†é¢†ä¸ªè¯ï¼Œå°±å„è‡ªå›å…¬å¸ä¸Šç­\n\næ‚è„¸~\n","tags":["å¿ƒæƒ…","æ—¥è®°","D&E"],"categories":["å…¶ä»–"]},{"title":"ç”¨æˆ·æ€å’Œç³»ç»Ÿæ€åŒºåˆ†","url":"/2016/06/08/kernel/","content":"\n# ä»‹ç»\n\nâ€‹    åœ¨æ“ä½œç³»ç»Ÿä¸­ï¼Œæœ‰ç€åˆ†åŒºåŸŸä¿æŠ¤ç‰¹æ€§ï¼Œä¹Ÿä½œä¿æŠ¤ç¯ã€æˆ–è€…CPUç¯ï¼Œç®€ç§°Ringsã€‚ç”¨æ¥å¤„ç†å‘ç”Ÿæ•…éšœæ—¶å€™æ•°æ®é”™è¯¯å¤„ç†ï¼ŒåŠæ¶æ„æ“ä½œå¤„ç†ã€‚å†…å±‚Ringå¯ä»¥ä½¿ç”¨å¤–å±‚Ringçš„ä»»æ„èµ„æºã€‚è€Œå¤–å±‚éœ€è¦è¯·æ±‚æƒé™æ‰èƒ½è®¿é—®å†…å±‚èµ„æºã€‚   \nâ€‹    åœ¨æ­¤åŸºç¡€ä¸Šå°±åŒºåˆ†äº†ç³»ç»Ÿæ€ï¼ˆæ ¸å¿ƒæ€ï¼‰å’Œç”¨æˆ·æ€ã€‚æ¯ä¸€ä¸ªç”¨æˆ·è¿›ç¨‹è¿è¡Œè‡ªå·±çš„ä»£ç å­˜åœ¨åœ¨ç”¨æˆ·è¿è¡Œæ€ï¼Œå½“è°ƒç”¨ç³»ç»Ÿå‡½æ•°çš„æ—¶å€™ï¼Œè¿è¡Œæ¨¡å¼è½¬å˜ä¸ºè¿›å…¥ç³»ç»Ÿæ€ã€‚\n\n<!-- more -->\n\n# ç³»ç»Ÿæ€\n\nâ€‹    ç³»ç»Ÿæ€åœ¨wikiç™¾ç§‘ä¸Šçš„è§£é‡Š:åœ¨å¤„ç†å™¨çš„å­˜å‚¨ä¿æŠ¤ä¸­ï¼Œæ ¸å¿ƒæ€ï¼Œæˆ–è€…ç‰¹æƒæ€ï¼Œåˆç§°ä¹‹ä¸ºå†…æ ¸æ€ï¼ˆä¸ä¹‹ç›¸å¯¹åº”çš„æ˜¯ç”¨æˆ·æ€ï¼‰ï¼Œæ˜¯æ“ä½œç³»ç»Ÿå†…æ ¸æ‰€è¿è¡Œçš„æ¨¡å¼ã€‚è¿è¡Œåœ¨è¯¥æ¨¡å¼çš„ä»£ç ï¼Œå¯ä»¥æ— é™åˆ¶åœ°å¯¹ç³»ç»Ÿå­˜å‚¨ã€å¤–éƒ¨è®¾å¤‡è¿›è¡Œè®¿é—®ã€‚  \n# ç”¨æˆ·æ€\n\nâ€‹    æ“ä½œç³»ç»Ÿæ‰§è¡Œç”¨æˆ·ä»£ç ç©ºé—´çš„è¿è¡Œå½¢æ€ã€‚\n# å‚è€ƒä¿¡æ¯\n\nâ€‹    å½“ä¸€ä¸ªè¿›ç¨‹æ‰§è¡Œç³»ç»Ÿè°ƒç”¨è€Œé™·å…¥å†…æ ¸ä»£ç ä¸­æ‰§è¡Œæ—¶ï¼Œæˆ‘ä»¬å°±ç§°è¿›ç¨‹å¤„äºå†…æ ¸è¿è¡Œæ€ï¼ˆæˆ–ç®€ç§°ä¸ºç³»ç»Ÿæ€ï¼‰ã€‚\n\nâ€‹    æ­¤æ—¶å¤„ç†å™¨å¤„äºç‰¹æƒçº§æœ€é«˜çš„ï¼ˆ0çº§ï¼‰å†…æ ¸ä»£ç ä¸­æ‰§è¡Œã€‚å½“è¿›ç¨‹å¤„äºå†…æ ¸æ€æ—¶ï¼Œæ‰§è¡Œçš„å†…æ ¸ä»£ç ä¼šä½¿ç”¨å½“å‰è¿›ç¨‹çš„å†…æ ¸æ ˆã€‚æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰è‡ªå·±çš„å†…æ ¸æ ˆã€‚å½“è¿›ç¨‹åœ¨æ‰§è¡Œç”¨æˆ·è‡ªå·±çš„ä»£ç æ—¶ï¼Œåˆ™ç§°å…¶å¤„äºç”¨æˆ·è¿è¡Œæ€ï¼ˆç”¨æˆ·æ€ï¼‰ã€‚å³æ­¤æ—¶å¤„ç†å™¨åœ¨ç‰¹æƒçº§æœ€ä½çš„ï¼ˆ3çº§ï¼‰ç”¨æˆ·ä»£ç ä¸­è¿è¡Œã€‚å½“æ­£åœ¨æ‰§è¡Œç”¨æˆ·ç¨‹åºè€Œçªç„¶è¢«ä¸­æ–­ç¨‹åºä¸­æ–­æ—¶ï¼Œæ­¤æ—¶ç”¨æˆ·ç¨‹åºä¹Ÿå¯ä»¥è±¡å¾æ€§åœ°ç§°ä¸ºå¤„äºè¿›ç¨‹çš„å†…æ ¸æ€ã€‚å› ä¸ºä¸­æ–­å¤„ç†ç¨‹åºå°†ä½¿ç”¨å½“å‰è¿›ç¨‹çš„å†…æ ¸æ ˆã€‚è¿™ä¸å¤„äºå†…æ ¸æ€çš„è¿›ç¨‹çš„çŠ¶æ€æœ‰äº›ç±»ä¼¼ã€‚\n\nâ€‹    å†…æ ¸æ€ä¸ç”¨æˆ·æ€æ˜¯æ“ä½œç³»ç»Ÿçš„ä¸¤ç§è¿è¡Œçº§åˆ«,è·Ÿintel cpuæ²¡æœ‰å¿…ç„¶çš„è”ç³», cpuæä¾›Ring0-Ring3å››ç§çº§åˆ«çš„è¿è¡Œæ¨¡å¼ï¼ŒRing0çº§åˆ«æœ€é«˜ï¼ŒRing3æœ€ä½ã€‚Linuxä½¿ç”¨äº†Ring3çº§åˆ«è¿è¡Œç”¨æˆ·æ€ï¼ŒRing0ä½œä¸ºå†…æ ¸æ€ï¼Œæ²¡æœ‰ä½¿ç”¨Ring1å’ŒRing2ã€‚Ring3çŠ¶æ€ä¸èƒ½è®¿é—®Ring0çš„åœ°å€ç©ºé—´ï¼ŒåŒ…æ‹¬ä»£ç å’Œæ•°æ®ã€‚\n\nâ€‹    Linuxè¿›ç¨‹çš„4GBåœ°å€ç©ºé—´ï¼Œ3G-4Géƒ¨åˆ†å¤§å®¶æ˜¯å…±äº«çš„ï¼Œæ˜¯å†…æ ¸æ€çš„åœ°å€ç©ºé—´ï¼Œè¿™é‡Œå­˜æ”¾åœ¨æ•´ä¸ªå†…æ ¸çš„ä»£ç å’Œæ‰€æœ‰çš„å†…æ ¸æ¨¡å—ï¼Œä»¥åŠå†…æ ¸æ‰€ç»´æŠ¤çš„æ•°æ®ã€‚ç”¨æˆ·è¿è¡Œä¸€ä¸ªç¨‹åºï¼Œè¯¥ç¨‹åºæ‰€åˆ›å»ºçš„è¿›ç¨‹å¼€å§‹æ˜¯è¿è¡Œåœ¨ç”¨æˆ·æ€çš„ï¼Œå¦‚æœè¦æ‰§è¡Œæ–‡ä»¶æ“ä½œï¼Œç½‘ç»œæ•°æ®å‘é€ç­‰æ“ä½œï¼Œå¿…é¡»é€šè¿‡writeï¼Œsendç­‰ç³»ç»Ÿè°ƒç”¨ï¼Œè¿™äº›ç³»ç»Ÿè°ƒç”¨ä¼šè°ƒç”¨å†…æ ¸ä¸­çš„ä»£ç æ¥å®Œæˆæ“ä½œï¼Œè¿™æ—¶å¿…é¡»åˆ‡æ¢åˆ°Ring0ï¼Œç„¶åè¿›å…¥3GB-4GBä¸­çš„å†…æ ¸åœ°å€ç©ºé—´å»æ‰§è¡Œè¿™äº›ä»£ç å®Œæˆæ“ä½œï¼Œå®Œæˆåï¼Œåˆ‡æ¢å›Ring3ï¼Œå›åˆ°ç”¨æˆ·æ€ã€‚è¿™æ ·ï¼Œç”¨æˆ·æ€çš„ç¨‹åºå°±ä¸èƒ½éšæ„æ“ä½œå†…æ ¸åœ°å€ç©ºé—´ï¼Œå…·æœ‰ä¸€å®šçš„å®‰å…¨ä¿æŠ¤ä½œç”¨ã€‚   \n\n# æ€»ç»“\n\næ“ä½œç³»ç»Ÿè¿è¡Œçš„ä¸åŒçº§åˆ«ï¼Œå¯¼è‡´æœ‰è¿™ä¸¤ç§è¿è¡Œå½¢æ€çš„åŒºåˆ†ã€‚cpuæ€»å¤„äºä»¥ä¸‹çŠ¶æ€ä¸­çš„ä¸€ç§ï¼šç”¨æˆ·æ€å³ç”¨æˆ·ç©ºé—´ï¼Œç³»ç»Ÿæ€ï¼Œä¸¤è€…é—´çš„åˆ‡æ¢ã€‚\n\n---\n\n**ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»å…è®¸ä¸å¾—è½¬è½½ã€‚**\n","tags":["Socket","IO","kernel"],"categories":["ç½‘ç»œ","ç³»ç»Ÿ"]},{"title":"IOç±»å‹ä»‹ç»","url":"/2016/05/05/socket_io/","content":"\n# IOåˆ†ç±»\n\næŒ‰ç…§ã€ŠUnixç½‘ç»œç¼–ç¨‹ã€‹åˆ’åˆ†ï¼ŒIOæ¨¡å‹å¯ä»¥åˆ†ä¸ºï¼šé˜»å¡IOã€éé˜»å¡IOã€IOå¤ç”¨ã€ä¿¡å·é©±åŠ¨IOå’Œå¼‚æ­¥IOï¼Œ\n\næŒ‰ç…§POSIXæ ‡å‡†æ¥åˆ’åˆ†åªåˆ†ä¸ºä¸¤ç±»ï¼šåŒæ­¥IOå’Œå¼‚æ­¥IOã€‚åŒºåˆ†æ˜¯ä¸€ä¸ªéº»çƒ¦äº‹æƒ…ï¼Œæœ‰ç›¸å…³çš„èƒŒæ™¯æ¡ä»¶ã€‚  \nBIOï¼ˆOIOï¼‰ï¼šåŒæ­¥é˜»å¡IO  \nNIOï¼šåŒæ­¥éé˜»å¡IOï¼ŒåŸºäºäº‹ä»¶é©±åŠ¨æ¨¡å‹çš„è®¾è®¡  \nAIOï¼šå¼‚æ­¥éé˜»å¡IOï¼Œä¹Ÿæ˜¯åŸºäºäº‹ä»¶é©±åŠ¨çš„è®¾è®¡ï¼Œå’ŒNIOä¸ä¸€æ ·çš„æ˜¯åœ¨è¯»å†™äº¤äº’æ–¹å¼ï¼Œé‡‡ç”¨å¼‚æ­¥æˆ–è€…å›è°ƒçš„æ–¹å¼è¿”å›ç›¸å…³ç»“æœ  \n\n<!-- more -->\n\n# åè¯è§£é‡Š\n\nåŒæ­¥VSå¼‚æ­¥ï¼šåŒæ­¥å’Œå¼‚æ­¥æ¦‚å¿µçš„è§’åº¦æ˜¯å¯¹äºå™è¯´å¯¹è±¡æ¥å®šä¹‰çš„ï¼Œæè¿°çš„æ˜¯ç”¨æˆ·æ€å’Œç³»ç»Ÿæ€çš„å…³ç³»ï¼Œ socketçš„è¯»å†™æ“ä½œï¼Œæ˜¯ç›´æ¥åŒæ­¥è¿”å›ç»“æœè¿˜æ˜¯å¼‚æ­¥è¿”å›ç»“æœã€‚  \né˜»å¡VSéé˜»å¡ï¼šè¿™ä¸ªè¾ƒå¥½ç†è§£ï¼Œé˜»å¡ä½ç­‰å¾…äº‹æƒ…å¤„ç†å®Œæ¯•è¿˜æ˜¯å¤„ç†å…¶ä»–äº‹æƒ…ã€‚\n\n\n\n---\n\n**ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»å…è®¸ä¸å¾—è½¬è½½ã€‚**\n","tags":["Socket","IO"],"categories":["ç½‘ç»œ"]},{"title":"Raftåè®®ç®—æ³•ç®€ä»‹","url":"/2016/04/12/raft/","content":"\n# Raft åè®®ç®—æ³•ç®€ä»‹\n\n## ç®€ä»‹\n\nRaftåè®®ç®—æ³•äº§ç”Ÿçš„ç»“æœå’ŒPaxosçš„æ•ˆæœç›¸åŒï¼ŒRaftç®—æ³•è®¾è®¡è¾ƒPaxosè®¾è®¡æ˜“æ‡‚ï¼Œå¹¶ä¸”æœ‰ç€æ›´å¥½çš„ç”Ÿäº§ç¯å¢ƒçš„å®ç°æ–¹å¼ã€‚\n\n<!-- more -->\n\n## èƒŒæ™¯\n\näº‹åŠ¡æ“ä½œçš„å››è¦ç´ ACIDï¼šåŸå­æ€§ã€ä¸€è‡´æ€§ã€éš”ç¦»æ€§ã€æŒä¹…æ€§ã€ å¯¹äºä¸€ä¸ªåˆ†å¸ƒå¼ç¯å¢ƒçš„æœåŠ¡æ¥è¯´ï¼Œè¾ƒéš¾æ»¡è¶³ä¸€ä¸ªäº‹åŠ¡çš„è¦æ±‚ã€‚æ¯”å¦‚å¯¹äºä¸€è‡´æ€§æ¥è¯´å°±æ˜¯ä¸€ä¸ªè¾ƒéš¾å¤„ç†çš„é—®é¢˜ï¼ŒRaftæ­£æ˜¯ä¸ºäº†è§£å†³åˆ†å¸ƒå¼ç¯å¢ƒä¸­ä¸€è‡´æ€§è€Œäº§ç”Ÿçš„ä¸€ç§ä¸€è‡´æ€§åè®®ç®—æ³•ã€‚\n## Raftæ¦‚å¿µ\n\nÂ Â 1ã€Follower(è¿½éšè€…)è§’è‰²  \nÂ Â 2ã€Candidate(å€™é€‰è€…)è§’è‰²  \nÂ Â 3ã€Leader(è¿½éšè€…)è§’è‰²  \nÂ Â 4ã€Term(æ—¶é—´é˜¶æ®µ)  \nÂ Â 5ã€server(æˆ–è€…node æ³›æŒ‡æœåŠ¡èŠ‚ç‚¹,ç®—æ³•ä¸­æŒ‡logèŠ‚ç‚¹)\n## åŸºæœ¬èƒŒæ™¯\n\nÂ Â 1ã€é›†ç¾¤åŒ…å«è‹¥å¹²serverï¼ˆæˆ–è€…nodeï¼‰ï¼Œæ•°ç›®5æ˜¯ä¸€ä¸ªå…¸å‹çš„åˆ†å¸ƒå¼é›†ç¾¤æ•°ç›®ï¼Œå¯¹äºè¿™æ ·ä¸€ä¸ªç³»ç»Ÿæ¥è¯´ï¼Œæœ€å¤šå®¹å¿çš„å¤±è´¥serverä¸ªæ•°ä¸º2ï¼ˆN>=2F+1)ï¼Œæ€»çš„æœåŠ¡æ•°Nï¼Œ å®¹å¿å¤±è´¥çš„ä¸ªæ•°Fã€‚  \nÂ Â 2ã€æ‰€æœ‰çš„nodeåœ¨åŒä¸€ä¸ªæ—¶æœŸï¼ˆtermï¼‰åªä¼šæœ‰ä»¥ä¸Šä¸‰ç§è§’è‰²çŠ¶æ€çš„å…¶ä¸­ä¸€ç§ã€‚  \nÂ Â 3ã€Termæ˜¯ä¸€ä¸ªä¸å®šçš„æ—¶é—´é•¿åº¦ï¼Œæ¯ä¸ªtermæœ€å¤šåªä¼šæœ‰ä¸€ä¸ªleaderï¼Œå¯èƒ½æ²¡æœ‰ã€‚æˆåŠŸé€‰ä¸¾åç”±è¿™ä¸ªleaderé¢†å¯¼clusterç›´åˆ°termç»“æŸã€‚  \n## Leaderé€‰ä¸¾\n\n#### é€‰ä¸¾æµç¨‹\n\nÂ Â 1ã€åˆå§‹èŠ‚ç‚¹çŠ¶æ€éƒ½æ˜¯follower  \nÂ Â 2ã€æ”¶ä¸åˆ°leader é€šçŸ¥æˆ–è€…candidateè¯·æ±‚ï¼ˆè¶…æ—¶ï¼‰ï¼Œå¼€å§‹è§¦å‘é€‰ä¸¾æµç¨‹  \nÂ Â 3ã€F.å¢åŠ è‡ªå·±çš„term numå¹¶è½¬æ¢ä¸ºcandidateçŠ¶æ€ï¼ˆè¿‡ç¨‹æ—¶é—´éšæœºï¼‰  \nÂ Â 4ã€F.æŠ•ç¥¨è‡ªå·±å¹¶ä¸”å‘é€ç»™å…¶ä»–äººâ€œæŠ•æˆ‘â€çš„è¯·æ±‚  \nÂ Â 5ã€F.æœ€ç»ˆç»“æœæœ‰ä¸‰ç±»ï¼šè·å¾—å¤§å¤šç¥¨æ•°æˆä¸ºleaderã€å…¶ä»–fæˆä¸ºleaderã€æ— ç»“æœç»§ç»­ç¬¬äºŒè½®æŠ•ç¥¨  \n#### çŠ¶æ€è½¬æ¢\n\nFollower->Candidate å¼€å§‹é€‰ä¸¾  \nCandidate->Candidate é€‰ä¸¾è¶…æ—¶  \nCandidate->Leader é€‰ä¸¾æˆåŠŸ  \nCandidate->Follower å‘ç°å…¶ä»–leader æˆ–è€…æ–°çš„termæ—¶æœŸ  \nLeader->Follower å‘ç°å…¶ä»–leader æˆ–è€…æ›´å¥½çš„termæ—¶æœŸ  \n## Log Replication\n\n### åè®®é’ˆå¯¹log å‰¯æœ¬ã€‚æ•°æ®åŒæ­¥æµç¨‹\n\nÂ Â 1ã€clientå‘é€æ•°æ®è¯·æ±‚  \nÂ Â 2ã€leaderæ¥æ”¶æ•°æ®è¯·æ±‚ï¼Œå…¶ä»–è§’è‰²æ¥æ”¶åˆ°è¯·æ±‚è½¬ç»™leader  \nÂ Â 3ã€L.å‘å‡ºappendè¯·æ±‚ï¼ˆè®°å½•æ•°æ®ï¼‰  \nÂ Â 4ã€L.æ”¶åˆ°å¤§å¤šæ•°æ•°æ®å›å¤ï¼Œè¿”å›clientè¯·æ±‚çŠ¶æ€  \nÂ Â 5ã€L.ä¸‹ä¸ªå¿ƒè·³æŠŠcommitç»™åˆ°follower  \nÂ Â 6ã€å¦‚æœä¼ è¾“å¤±è´¥ï¼Œleaderå¯ä»¥ä¸æ–­é‡è¯•  \n### æµç¨‹çº¦å®š\n\nÂ Â 1ã€log entryæ•°æ®ç‰¹æ€§ï¼šlog indexã€term numã€commond  \nÂ Â 2ã€log æŒä¹…åŒ–å­˜å‚¨  \nÂ Â 3ã€entryè¢«å¤§å¤šæ•°å­˜å‚¨æˆåŠŸåˆ™ä¸ºcommited  \nÂ Â 4ã€indexå’Œtermç›¸åŒé‚£ä¹ˆä¹‹å‰çš„æ•°æ®ï¼ˆentryï¼‰éƒ½æ˜¯ç›¸åŒçš„  \nÂ Â 5ã€æŸä¸ªcommitä¹‹å‰çš„æ•°æ®éƒ½æ˜¯commitedçš„  \nÂ Â 6ã€appendæ“ä½œå¸¦ä¸Šä¸Šä¸€ä¸ªçš„entryä¿¡æ¯ï¼ˆindexå’Œtermï¼‰å¹¶åšæ£€æŸ¥  \nÂ Â 7ã€æ£€æŸ¥ä¸åŒ¹é…ï¼Œleaderé‡è¯•å‰ä¸€æ¡ã€‚é‡‡ç”¨è¿­ä»£é‡è¯•æ–¹å¼ç›´åˆ°å®Œæˆ   \n## å‚è€ƒèµ„æ–™\n\nRaftåè®®ç‰¹æ€§ç®€ä»‹\nå‚è€ƒèµ„æ–™ï¼š\nåŠ¨ç”»æ¼”ç¤º http://thesecretlivesofdata.com/raft/  \nRaftå®˜ç½‘ https://raft.github.io/  \n\n---\n\n**ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»å…è®¸ä¸å¾—è½¬è½½ã€‚**\n","categories":["åˆ†å¸ƒå¼ç³»ç»Ÿ"]},{"title":"Quorumä¸€è‡´æ€§ç®—æ³•","url":"/2016/04/11/quorum_consensus_algorithm/","content":"\n## Quorumä¸€è‡´æ€§ç®—æ³•ç®€ä»‹\n\n### èƒŒæ™¯\n\nä¸€ä¸ªç»„åŒ…å«è‹¥å¹²å‰¯æœ¬é›†åˆï¼Œä¸ªæ•°ä¸ºNã€‚æ¯ä¸ªå‰¯æœ¬é›†åˆå­˜å‚¨ç€itemsçš„é›†åˆï¼Œè¿™ä¸ªé›†åˆå¯ä»¥æ˜¯æ–‡ä»¶æˆ–è€…å†…å®¹ï¼Œæ¯ä¸ªitemæœ‰ç€å”¯ä¸€çš„æ ‡ç¤ºå’Œä¸€ä¸ªçŠ¶æ€ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºNWRé—®é¢˜ã€‚\n\n<!-- more -->\n\n### å®šä¹‰\n\nRï¼šå®šä¹‰Rä¸ºè¯»çš„æœ€å°ç¥¨æ•°ï¼ŒWï¼šå®šä¹‰ä¸ºå†™çš„æœ€å°ç¥¨æ•°ã€‚Nä¸ºå‰¯æœ¬ä¸ªæ•°ã€‚  \næ¯ä¸ªå‰¯æœ¬é›†å­˜å‚¨ç€åŒä¸€ä¸ªitemçš„ä¸åŒçš„ç‰ˆæœ¬å·ç ï¼Œè¶Šå¤§çš„ç‰ˆæœ¬å·æ ‡ç¤ºè¿™ä¸ªæ•°æ®æ˜¯æœ€è¿‘çš„ã€‚  \nè¯»çš„ä¸ªæ•°æ˜¯å¯¹å†™çš„ä¸ªæ•°æ„Ÿå…´è¶£çš„ï¼Œå› ä¸ºè¯»åˆ°çš„æ•°æ®åº”è¯¥æ˜¯å¤§å¤šæ•°å†™æˆåŠŸçš„ç»“æœã€‚  \n### å…¬å¼\n\nR+W>N;è¯»å†™çš„ç¥¨æ•°å’Œåº”è¯¥å¤§äºæ€»çš„å‰¯æœ¬é›†æ•°ï¼ˆèŠ‚ç‚¹æ•°ï¼‰  \nW>N/2;å†™çš„ç¥¨æ•°åº”è¯¥å¤§äºä¸€èˆ¬çš„å‰¯æœ¬é›†æ•°ï¼ˆèŠ‚ç‚¹æ•°ï¼‰  \n### ä¸¾ä¾‹\n\nå¯¹äºä¸€ä¸ªä¸‰ä¸ªå‰¯æœ¬é›†ç»„ï¼Œæœ‰ç€å¦‚ä¸‹çš„å¯èƒ½ï¼š  \nR=3,W=1:è¿™ä¸ªæœ‰ç€é«˜æ•ˆçš„å†™æ€§èƒ½ï¼Œä½†æ˜¯æ˜‚è´µçš„è¯»æ•°æ®å¼€é”€ï¼Œå¯¹äºè¯»è¾ƒå¤šçš„åœºæ™¯ï¼Œè¿™ç§å°¤å…¶è¾ƒä¸ºç³Ÿç³•ã€‚å¹¶ä¸”åœ¨ä¸€ä¸ªå‰¯æœ¬èŠ‚ç‚¹å¼‚å¸¸æˆ–è€…å¤±è´¥çš„æƒ…å†µä¸‹ï¼Œå†™ä¸æˆåŠŸã€‚ä¸€èˆ¬æ¥è¯´æˆ‘ä»¬éœ€è¦ä¿è¯W>1ã€‚  \nR=1,W=3:è¿™ç§åˆ†é…å¯¹äºè¯»è¾ƒå¤šçš„åœºæ™¯è¾ƒä¸ºå‹å¥½ï¼Œä½†æ˜¯å¯¹äºä¸€ä¸ªèŠ‚ç‚¹å†™å¤±è´¥çš„æƒ…å†µä¼šå¯¼è‡´ç­‰å¾…æ­¤èŠ‚ç‚¹æ¢å¤å†™æ‰èƒ½å®Œæˆå†™çš„æ“ä½œã€‚  \nR=2,W=2:å¯¹æ¯”ä¸Šé¢æ˜¯ä¸€ç§è¾ƒä¸ºä¼˜åŒ–çš„åˆ†é…æ–¹æ¡ˆ,è™½ç„¶å¢åŠ äº†è¯»æ¶ˆè€—çš„èŠ±è´¹ã€‚  \n\n### åˆ†æ®µæè¿°\n\n#### å†™æ“ä½œ\n\nå†™æ“ä½œåˆ†ä¸ºä¸€æ®µæˆ–è€…ä¸¤æ®µ  \nÂ Â 1ã€å‘å‡ºä¸€ä¸ªè¯»è¯·æ±‚ç»™æ‰€æœ‰çš„å‰¯æœ¬é›†åˆï¼Œç­‰å¾…ä¸€ä¸ªè¯»æè®®çš„å›å¤ï¼Œè·å–ä¸€ä¸ªæœ€å¤§çš„ç‰ˆæœ¬å·  \nÂ Â 2ã€å‘å‡ºä¸€ä¸ªåŒ…å«çŠ¶æ€å’Œæœ€æ–°ç‰ˆæœ¬çš„å†™è¯·æ±‚ç»™æ‰€æœ‰çš„å‰¯æœ¬é›†ï¼Œç­‰å¾…ä¸€ä¸ªå†™æè®®çš„è¿”å›ï¼Œå¦‚æœè¿”å›è¡¨ç¤ºæ“ä½œå®Œæˆå¹¶è¿”å›çŠ¶æ€ç ç»™clientã€‚  \nå¦‚æœå­˜åœ¨å¹¶å‘çš„å†™ï¼Œéœ€è¦ä½¿ç”¨æ–¹ä¿æŒå†™çš„å®‰å…¨æ€§ã€‚ç¬¬ä¸€æ­¥çš„è¯»è¯·æ±‚å¯ä»¥é¿å…ï¼Œå¦‚æœå®¢æˆ·ç«¯çŸ¥é“æ­£ç¡®çš„ç‰ˆæœ¬æ•°æ®ã€‚\n\n#### è¯»æ“ä½œ\n\nè¯»æ“ä½œä¹Ÿå¯ä»¥åˆ†ä¸ºä¸€æ®µæˆ–è€…ä¸¤æ®µè¯·æ±‚  \nÂ Â 1ã€å‘èµ·ä¸€ä¸ªè¯»è¯·æ±‚ç»™æ‰€æœ‰çš„å‰¯æœ¬é›†åˆï¼Œç­‰å¾…ä¸€ä¸ªè¯»æè®®çš„è¿”å›ï¼Œå¦‚æœæ‰€æœ‰çš„ç‰ˆæœ¬è¿”å›ä¸€è‡´çš„çŠ¶æ€ï¼Œé‚£ä¹ˆè¿”å›ç»“æœç»™å®¢æˆ·ç«¯ã€‚  \nÂ Â 2ã€å¦åˆ™å‘èµ·ä¸€ä¸ªå¤§ç‰ˆæœ¬æ•°æ®çš„å†™è¯·æ±‚ç»™æ‰€æœ‰å‰¯æœ¬é›†åˆï¼Œç­‰å¾…å†™æè®®çš„è¿”å›ï¼Œå¦‚æœè¿”å›æˆåŠŸï¼Œåˆ™è¿”å›ç»“æœç»™å®¢æˆ·ç«¯ã€‚  \nç¬¬äºŒæ­¥ç§°ä¹‹ä¸º\"å›å†™\"æ®µï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œç¬¬äºŒæ®µæ˜¯æ²¡å¿…è¦çš„ï¼Œå› ä¸ºåœ¨å†™è¯·æ±‚çš„æ“ä½œä¸­æ‰€æœ‰å¯ç”¨çš„å†™è¿”å›æ˜¯ä¸€è‡´çš„æ•°æ®ï¼Œé‚£ä¹ˆåœ¨è¯»è¿”å›ä¸­ï¼Œéƒ½æ˜¯åŒæ ·çš„è¿”å›æ•°æ®ã€‚  \n### ç‰¹æ€§\n\nåè®®éœ€è¦æä¾›åŸå­æ€§ï¼ˆçº¿æ€§æ€§ï¼‰  \n### å‚è€ƒ\n\nç»´åŸºç™¾ç§‘ [Quorum](https://en.wikipedia.org/wiki/Quorum \"Quorum\")\n\n---\n\n**ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»å…è®¸ä¸å¾—è½¬è½½ã€‚**\n","tags":["åˆ†å¸ƒå¼","ä¸€è‡´æ€§"],"categories":["ç³»ç»Ÿ"]},{"title":"JAVA å†…éƒ¨é”ä¸åŒæ­¥[Intrinsic Locks and Synchronization]","url":"/2014/03/12/lockAndSync/","content":"\nJAVA å†…éƒ¨é”ä¸åŒæ­¥[Intrinsic Locks and Synchronization]\n\nåŒæ­¥æ˜¯å»ºç«‹åœ¨è¢«ç§°ä¹‹ä¸ºå†…éƒ¨é”æˆ–ç›‘æ§é”çš„å†…éƒ¨å®ä½“ï¼ˆæŒ‰ç…§APIæ ‡å‡†æŒ‡çš„è¿™ä¸ªå®ä½“ç§°ä¹‹ä¸ºç›‘æ§ï¼‰ã€‚å†…åœ¨é”åœ¨åŒæ­¥çš„ä¸¤ä¸ªæ–¹é¢å‘æŒ¥ä½œç”¨ï¼šä¸€ä¸ªå¯¹è±¡çŠ¶æ€çš„ä¸“å±ä½¿ç”¨æƒå’Œå»ºç«‹å¯è§æ€§æ‰€éœ€è¦çš„happens-beforeå…³ç³»ã€‚\n<!-- more -->\nâ€‹      æ¯ä¸ªå¯¹è±¡æœ‰ä¸€ä¸ªä¸ä¹‹ç›¸å…³è”çš„å†…éƒ¨é”ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œä¸€ä¸ªçº¿ç¨‹éœ€è¦æŒä¹…çš„ä¸“æœ‰çš„è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„å­—æ®µé‚£ä¹ˆå®ƒå¿…é¡»å…ˆè·å–è¯¥å¯¹è±¡çš„å†…éƒ¨é”ï¼Œå½“ä½¿ç”¨ç»“æŸçš„æ—¶å€™é‡Šæ”¾è¿™ä¸ªé”ã€‚æ­¤æ—¶è¿™ä¸ªçº¿ç¨‹åœ¨è·å–å†…éƒ¨é”åå’Œé‡Šæ”¾è¿™ä¸ªå†…éƒ¨é”ä¹‹å‰éƒ½ç§°ä¹‹ä¸ºæ‹¥æœ‰è¿™ä¸ªå¯¹è±¡çš„å†…éƒ¨é”ã€‚ä¸€æ—¦è¿™ä¸ªçº¿ç¨‹æ‹¥æœ‰è¿™ä¸ªå†…éƒ¨é”ï¼Œå…¶ä»–çš„çº¿ç¨‹å°±ä¸èƒ½è·å–åŒæ ·çš„é”ï¼Œè·å–çš„æ—¶å€™è¢«é˜»å¡ä½ã€‚\n\nâ€‹      å½“è¿™ä¸ªçº¿ç¨‹é‡Šæ”¾äº†è¿™ä¸ªå†…éƒ¨é”ï¼Œä¸€ä¸ªhappens-beforeå…³ç³»å°†å»ºç«‹åœ¨è¯¥åŠ¨ä½œå’Œåç»­è·å–ç›¸åŒé”çš„æ“ä½œä¹‹é—´ã€‚\n\nåŒæ­¥æ–¹æ³•ä¸­çš„é”\n\nâ€‹    å½“ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨ä¸€ä¸ªåŒæ­¥æ–¹æ³•äº‹åï¼Œå®ƒä¼šè‡ªåŠ¨çš„è·å–è¿™ä¸ªæ–¹æ³•å¯¹è±¡çš„å†…éƒ¨é”ï¼Œç›´åˆ°æ–¹æ³•è¿”å›æ‰é‡Šæ”¾ï¼Œå³ä½¿æœªæ•è·çš„å¼‚å¸¸å¼•èµ·çš„è¿”å›ä¹Ÿä¼šè§¦å‘è¿™ä¸ªé”çš„é‡Šæ”¾ã€‚\n\nå¦‚æœä¸€ä¸ªé™æ€çš„åŒæ­¥æ–¹æ³•æ–¹æ³•è¢«è°ƒç”¨ï¼Œç”±äºé™æ€æ–¹æ³•æ˜¯å…³è”åˆ°è¿™ä¸ªç±»è€Œä¸æ˜¯å®ä¾‹å¯¹è±¡ã€‚è¿™æ ·çš„è¯ï¼Œçº¿ç¨‹è·å–çš„æ˜¯å†…éƒ¨é”æ˜¯ä¸è¿™ä¸ªç±»ç›¸å…³çš„ç±»å¯¹è±¡ã€‚è¿™ä¸ªç±»çš„é™æ€å¯¹è±¡è¢«é”ä½äº†ã€‚è¿™ä¸ªé”æœ‰åŒºåˆ«äºå’Œæ­¤ç±»çš„å…¶ä»–å®ä¾‹å¯¹è±¡çš„é”\n\nåŒæ­¥å—\n\nå¦å¤–ä¸€ç§åˆ›å»ºåŒæ­¥ä»£ç çš„çš„æ˜¯ä½¿ç”¨åŒæ­¥å—ï¼Œå’ŒåŒæ­¥æ–¹æ³•ä¸ç›¸åŒï¼ŒåŒæ­¥å—éœ€è¦å…·ä½“çš„å¯¹è±¡æ¥æä¾›å†…éƒ¨é”ã€‚\n\n```java\npublic void addName(String name) {\n    synchronized(this) {\n        lastName = name;\n        nameCount++;\n    }\n    nameList.add(name);\n}\n```\n\nè¿™ä¸ªä¾‹å­ä¸­ï¼ŒaddNameæ–¹æ³•éœ€è¦åŒæ­¥æ”¹å˜lastNameå’ŒnameCountï¼Œä½†æ˜¯åŒæ—¶ä¹Ÿè¦é¿å…å»åŒæ­¥å¯¹å…¶ä»–å¯¹è±¡æ–¹æ³•çš„è°ƒç”¨ã€‚å¦‚nameList.addæ–¹æ³•åœ¨åŒæ­¥å—å¤–é¢ï¼Œé¿å…äº†åŒæ­¥è¿™ä¸ªæ–¹æ³•ã€‚\n\nç»†ç²’åº¦çš„åŒæ­¥å—å¯¹äºæä¾›å¹¶å‘æ€§èƒ½æœ‰ç€å¾ˆå¥½çš„æ”¹å–„ï¼Œå‡è®¾è¿™æ ·ä¸€ä¸ªä¾‹å­ MsLunchç±»æœ‰ä¸¤ä¸ªå¯¹è±¡å­—æ®µ c1å’Œc2 ï¼Œå®ƒä»¬ä¸ä¼šäº¤é”™ä½¿ç”¨ã€‚æ‰€æœ‰çš„è¿™ä¸¤ä¸ªå­—æ®µæ›´æ–°éœ€è¦åŒæ­¥ï¼Œä½†æ˜¯æ²¡æœ‰å¿…è¦c1çš„æ›´æ–°å½±å“æˆ–è€…é˜»æ­¢c2çš„æ›´æ–°ã€‚å‡å°‘å¹¶å‘é€šè¿‡åˆ›å»ºä¸å¿…è¦çš„é˜»å¡è€Œä¸æ˜¯ç”¨åŒæ­¥æ–¹æ³•æˆ–è€…thiså¯¹è±¡çš„åŒæ­¥å—ã€‚æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸¤ä¸ªå¯¹è±¡æä¾›é”ã€‚\n\n```java\npublic class MsLunch {\n    private long c1 = 0;\n    private long c2 = 0;\n    private Object lock1 = new Object(); // æ³¨ï¼šæ¨èæ˜¯ç”¨å ç”¨å†…å­˜å°çš„å¯¹è±¡ï¼Œå¦‚byteå¯¹è±¡\n    private Object lock2 = new Object();\n\n    public void inc1() {\n        synchronized(lock1) {\n            c1++;\n        }\n    }\n\n    public void inc2() {\n        synchronized(lock2) {\n            c2++;\n        }\n    }\n}\n```\n\nè¿™ç§é£æ ¼çš„è¯ï¼Œä½ å¿…ç„¶èƒ½å¤Ÿä¿è¯ç›¸äº’å½±å“çš„å­—æ®µé—´äº¤é”™è®¿é—®çš„ç»å¯¹å®‰å…¨ã€‚\n\n---\n\n**ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»å…è®¸ä¸å¾—è½¬è½½ã€‚**\n","tags":["java","è¯‘æ–‡"],"categories":["è¯­è¨€","JDK"]},{"title":"é€‚é…å™¨æ¨¡å¼æ¦‚å¿µç®€æ","url":"/2013/10/06/adaptor/","content":"\né€‚é…å™¨æ¨¡å¼çš„å®šä¹‰ï¼šå°†ä¸€ä¸ªæ¥å£è½¬åŒ–ä¸ºå¦ä¸€ä¸ªéœ€è¦çš„æ¥å£ã€‚æ³¨æ¥å£ä¸ºå¹¿ä¹‰æ¥å£ã€‚\n\nä¾‹å¦‚ï¼š æˆ‘ä»¬æœ‰ä¸€ä¸ªä¹¦ç±çš„æ¥å£ï¼Œå…¶åŒ…å«ä¸¤ä¸ªæ–¹æ³•ï¼šè·å–ä½œè€…ï¼Œè·å–ç›®å½•ã€‚\n<!-- more -->\n\n```java\npublic interface Book {\n    /**\n     * ä¹¦ç±ç›®å½•\n     */\n    public void getContents();\n\n\n    public void getAuthor();\n}\n```\n\nè¿˜æœ‰ä¸€ä¸ªå­—å…¸æ¥å£ï¼Œä¹ŸåŒ…å«ä¸¤ä¸ªæ–¹æ³•ï¼Œè·å–ä½œè€…ï¼Œè·å–å•è¯ç´¢å¼•åˆ—è¡¨ã€‚\n\n```java\npublic interface Dictionary {\n    /**\n     * å­—å…¸æ²¡æœ‰ç›®å½• åªæœ‰åˆ—è¡¨\n     */\n    public void getItems();\n\n\n    public void getAuthor();\n}\n```\n\nå¦‚ä½•å°†å­—å…¸æ¥å£è½¬åŒ–ä¸ºä¹¦ç±æ¥å£ï¼Œå­—å…¸æ¥å£çš„å®ç°ç±»å’Œä¹¦ç±æ¥å£çš„å®ç°ç±»ä¸ºåŒä¸€ç§ç±»å‹çš„ç±»ï¼Œé‚£ä¹ˆå°±éœ€è¦ä½¿ç”¨é€‚é…å™¨æ¨¡å¼ã€‚\n\n```java\npublic class DictAdapter implements Book {\n    Dictionary dictionary;\n\n    @Override\n    public void getContents() {\n        //å­—å…¸ å•è¯åˆ—è¡¨ è½¬åŒ–ä¸ºä¹¦ç±ç›®å½•\n        dictionary.getItems();\n    }\n\n    @Override\n    public void getAuthor() {\n        dictionary.getAuthor();\n    }\n\n}\n```\n\nåˆ†æï¼šå®ç°bookæ¥å£çš„ç±»ï¼Œå’Œå­—å…¸å¯¹è±¡ä½œä¸ºç»„åˆæ–¹å¼è”ç³»èµ·æ¥ã€‚ä½¿ç”¨å­—å…¸ç±»çš„æ–¹æ³•è¦†ç›–bookæ¥å£çš„æ–¹æ³•ï¼Œä»è€Œè¾¾åˆ°ç›®çš„ã€‚\n\nä»£ç è§ï¼š[DictAdapter.java](https://github.com/yangl326-Dylan/analysis_and_designer/blob/master/src/blog/DictAdapter.java)\n\n---\n\n**ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»å…è®¸ä¸å¾—è½¬è½½ã€‚**\n","tags":["è®¾è®¡æ¨¡å¼"],"categories":["è®¾è®¡æ¨¡å¼"]},{"title":"String.valueOf()èƒ½å¦ä¼ å…¥null","url":"/2013/09/11/string_null/","content":"\næœ€è¿‘å‘ç°ä¸€ä¸ªæœ‰æ„æ€çš„é—®é¢˜ï¼Œå¯ä»¥çœ‹çœ‹è¿™ä¸¤ä¸ªçš„è¾“å‡ºç»“æœ\n\n```\nString.valueOf(map.get(\"key\")) //â‘ \n```\n\n```\nString.valueOf(null)          //â‘¡\n```\n<!-- more -->\nä¼šå‘ç°mapä¸­â‘ è¿”å›æ­£å¸¸ â€nullâ€œå­—ç¬¦ä¸²ï¼Œè€Œâ‘¡æŠ›å‡ºNLPå¼‚å¸¸\n\nè·³è½¬åˆ°Stringç±»çš„valueOfå‘ç°ä½¿ç”¨çš„æ˜¯è¿™ä¸ªé‡è½½çš„æ–¹æ³•ï¼š\n\n```java\n    public static String valueOf(char data[]) {\n        return new String(data);\n    }\n```\n\nå†çœ‹çœ‹char[] stringçš„æ„é€ æ–¹æ³•ï¼š\n\n```java\n    public String(char value[]) {\n        this.value = Arrays.copyOf(value, value.length);\n    }\n```\n\nnullæ— lengthå±æ€§ï¼Œåˆ°è¿™é‡Œå°±ä¼šå¼‚å¸¸ã€‚\n\nä¼ å…¥ï¼ˆObjectï¼‰nullæ—¶å€™ï¼ˆæˆ–è€…æ— keyå¾—æ—¶å€™mapå¯¹è±¡è¿”å›ç©ºå¯¹è±¡ï¼‰ï¼Œå®ç°çš„æ˜¯å¦‚ä¸‹é‡è½½çš„æ–¹æ³•ï¼š\n\n```java\n    public static String valueOf(Object obj) {\n        return (obj == null) ? \"null\" : obj.toString();\n    }\n```\n\nå³æ­£å¸¸è¿”å› nullå­—ç¬¦ä¸²ã€‚\n\nå®é™…ä¸Šnullæ˜¯å…³é”®å­—ï¼Œä¸å±äºObjectå¯¹è±¡ï¼Œè‡³äºé€‰æ‹©å™¨ä¸ºä»€ä¹ˆä¼šä¼˜å…ˆé€‰æ‹©é‡è½½å‡½æ•°å°±å¾—åˆ†ænullå’ŒObject obj=null ä¸­ nullå’Œobjçš„åŒºåˆ«äº†ã€‚\n\n---\n\n**ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»å…è®¸ä¸å¾—è½¬è½½ã€‚**\n","tags":["java"],"categories":["è¯­è¨€","JDK"]},{"title":"å•ä¾‹æ¨¡å¼ç®€æ","url":"/2013/09/07/sington/","content":"\n### å«ä¹‰\n\nä»€ä¹ˆå«å•ä¾‹æ¨¡å¼æˆ–å•ä»¶æ¨¡å¼ï¼Œç”±åå­—å¯çŸ¥å­˜åœ¨ä¸€ä¸ªå¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥é‡å¤ä½¿ç”¨è¿™ä¸ªå¯¹è±¡ã€‚é‚£ä¹ˆå¦‚ä½•å®ç°æ•´ä¸ªç³»ç»Ÿä¸­å­˜åœ¨ä¸€ä¸ªå¯¹è±¡ï¼Œå¦‚ä½•ä¿è¯ä¸€ä¸ªå¯¹è±¡åªè¢«å®ä¾‹åŒ–ä¸€æ¬¡ã€‚å®é™…ä¸Šçº¦å®šä¸€ä¸ªå…¨å±€å˜é‡å¯ä»¥ï¼Œé€šè¿‡é™æ€æ–¹æ³•æˆ–è€…é™æ€ç±»çš„å˜é‡å’Œä¸€å®šé™å®šä¿®é¥°å¯ä»¥å®ç°ã€‚å®é™…ä¸­æˆ‘ä»¬ä¼šé‡åˆ°å¾ˆå¤šéœ€è¦çš„åœºæ™¯ï¼Œå¦‚æœä¸€ä¸ªå¯¹è±¡çš„åˆå§‹åŒ–æ¯”è¾ƒè€—èµ„æºæ—¶é—´è¾ƒé•¿ï¼Œå¹¶ä¸”å¯é‡å¤åˆ©ç”¨ï¼Œé‚£ä¹ˆå°±éœ€è¦å•ä¾‹æ¨¡å¼å»å®ç°ã€‚å¦‚ï¼šçº¿ç¨‹æ± ã€ç¼“å­˜ã€æ—¥å¿—å¯¹è±¡ç­‰ï¼Œåªéœ€è¦ä¸€ä¸ªå¯¹è±¡å°±è¡Œäº†ã€‚\n\nåˆ›å»ºå¯¹è±¡ newä¸€ä¸ªå®ä¾‹ï¼Œé‚£ä¹ˆå¦‚ä½•å»ä¿è¯è¿™ä¸ªå¯¹è±¡å®ä¾‹åªä¼šå­˜åœ¨ä¸€ä¸ªã€‚javaå¯¹è±¡ç¼ºçœæœ‰æ— å‚æ„é€ å™¨ï¼ˆæ„é€ æ–¹æ³•ï¼‰ï¼Œç§æœ‰åŒ–è¿™ä¸ªæ„é€ æ–¹æ³•ï¼Œæ¥çœ‹çœ‹å‡ ç§å®ç°æ–¹æ³•ã€‚\n\n### å¸¸è§ä¸‰ç§å•ä¾‹çš„å®ç°æ–¹æ³•\n\né¦–å…ˆæƒ³åˆ°çš„ç§æœ‰åŒ–æ„é€ æ–¹æ³•ï¼Œæä¾›ä¸€ä¸ªé™æ€æ–¹æ³•è¿”å›åŒä¸€ä¸ªå¯¹è±¡ï¼š\n<!-- more -->\n\u001c\n\n```java\npublic class SingleTon {\n\n    private static SingleTon singleTon=null;\n\n    private SingleTon(){\n    }\n\n    public static SingleTon getInstance(){\n        if(singleTon == null){\n            singleTon = new SingleTon();    \n        }\n        return singleTon;\n    }\n\n}\n```\n\nåˆ†æï¼šç§æœ‰åŒ–å…¶æ— å‚æ„é€ å™¨åæ— æ³•åœ¨è¿™ä¸ªç±»å¤–å»å®ä¾‹åŒ–è¿™ä¸ªå¯¹è±¡ï¼Œå†…éƒ¨å¯ä»¥å®ä¾‹åŒ–è¿™ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆéœ€è¦æä¾›ä¸€ä¸ªæ–¹æ³•è¿”å›è¿™ä¸ªå¯¹è±¡ï¼Œä½¿ç”¨é™æ€æ–¹æ³•ï¼Œç¡®ä¿åœ¨ç±»è¢«åŠ è½½çš„æ—¶å€™åˆå§‹åŒ–åˆ°å†…å­˜ä¸­ï¼Œä¸€ä¸ªåˆ¤æ–­æ¡ä»¶å»ä¿è¯è¿™ä¸ªå¯¹è±¡æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚\n\nä¸Šé¢è¿™æ®µä»£ç æ˜¯å»¶è¿ŸåŠ è½½çš„ï¼Œåœ¨è°ƒç”¨getInstanceæ–¹æ³•çš„æ—¶å€™å¯¹è±¡æ‰è¢«å®ä¾‹åŒ–ï¼Œå¦‚æœç±»è¢«åŠ è½½çš„æ—¶å€™åˆå§‹åŒ–é‚£ä¹ˆåªéœ€è¦å°†é™æ€å˜é‡èµ‹å€¼ï¼š\n\n```java\npublic class SingleTon {\n\n    private static SingleTon singleTon=new SingleTon();\n\n    private SingleTon(){\n    }\n\n    public static SingleTon getInstance(){\n        return singleTon;\n    }\n\n}\n```\n\nå¦‚æœåœ¨å¤šçº¿ç¨‹æƒ…å†µä¸‹getInstanceæ–¹æ³•å­˜åœ¨ï¼Œå¹¶ä¸èƒ½ä¿è¯ä¸ºåŒä¸€ä¸ªå¯¹è±¡ï¼Œç®€å•çš„æ–¹æ³•å°±æ˜¯ä¿®æ”¹ä¸ºåŒæ­¥æ–¹æ³•ï¼Œå³ï¼š\n\n```\npublic static synchronized SingleTon getInstance(){}\n```\n\nç®€å•æ–¹ä¾¿ï¼Œå¤šçº¿ç¨‹é—®é¢˜è§£å†³ï¼Œå¦‚æœæ²¡æœ‰é¢‘ç¹ä½¿ç”¨çš„åœºæ™¯å¹¶ä¸”æ¥å—è¿™ç§è°ƒç”¨å¸¦æ¥çš„èµ„æºæ¶ˆè€—ï¼Œé‚£ä¹ˆåŒæ­¥çš„é™æ€æ–¹æ³•åº”è¯¥æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¥½çš„æ–¹æ³•ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œé¢‘ç¹çš„è°ƒç”¨getInstanceæ–¹æ³•çš„æ—¶å€™ï¼Œå°±ä¸é€‚åˆäº†ã€‚\n\nçœ‹çœ‹ä¸‹é¢è¿™ç§æ–¹æ³•ï¼ŒåŒé‡æ£€æŸ¥åŠ é”ï¼Œä¿è¯åªæœ‰ä¸€æ¬¡åŒæ­¥æ–¹æ³•ï¼Œåœ¨åˆ›å»ºçš„æ—¶å€™ï¼š\n\n```java\npublic class SingleTon {\n\n    private volatile static SingleTon singleTon;\n\n    private SingleTon(){\n    }\n\n    public static SingleTon getInstance(){\n        if(singleTon==null){\n            synchronized (SingleTon.class){\n                if(singleTon==null){\n                       singleTon = new SingleTon();\n                }\n            }\n        }\n        return singleTon;\n    }\n\n}\n```\n\nåˆ†æï¼š\n\nvolatile å…³é”®å­—ä¿®é¥°singleTonï¼Œè¡¨ç¤ºå„ä¸ªçº¿ç¨‹è‡ªå·±çš„å˜é‡å‰¯æœ¬é›†ä¸ç¼“å­˜ï¼Œç¡®ä¿å¤šçº¿ç¨‹åˆå§‹åŒ–çš„æ—¶å€™ï¼Œå¤šçº¿ç¨‹æ­£ç¡®å¤„ç†è¿™ä¸ªå˜é‡ã€‚å¦‚æœsingleTonå¯¹è±¡ä¸ºç©ºçš„æ—¶å€™ï¼Œè¿›å…¥ç¬¬ä¸€ä¸ªifä¸­çš„åŒæ­¥å—ï¼Œå¤šçº¿ç¨‹å—åŒæ­¥æ–¹æ³•çº¦æŸï¼Œå†åšä¸€æ¬¡nullå¯¹è±¡åˆ¤æ–­ï¼Œä¸ºç©ºæ‰åˆ›å»ºå¯¹è±¡ã€‚ä¹‹åçš„æ–¹æ³•è°ƒç”¨ï¼Œè¿›å…¥ä¸äº†åŒæ­¥å—åˆ¤æ–­ï¼Œé‚£ä¹ˆå°±æ»¡è¶³äº†åªæœ‰ä¸€ä¸ªåŒæ­¥åˆ¤æ–­çš„ï¼Œå‡å°‘äº†ä½¿ç”¨sychronizedä¿®é¥°æ–¹æ³•æ¯æ¬¡è°ƒç”¨çš„èµ„æºæ¶ˆè€—ï¼Œæé«˜äº†æ‰§è¡Œæ•ˆç‡ï¼Œå¦‚æœç³»ç»Ÿä»£ç çš„æ€§èƒ½è¦æ±‚è¾ƒé«˜ï¼Œè¿™ç§æ–¹å¼æ›´ä¸ºåˆé€‚ã€‚\n\n---\n\n**ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»å…è®¸ä¸å¾—è½¬è½½ã€‚**\n","tags":["è®¾è®¡æ¨¡å¼"],"categories":["JDK"]},{"title":"finalä¿®é¥°ç¬¦","url":"/2013/08/21/final-java/","content":"\næœ¬æ–‡ä¸»è¦è®°è½½ä¸‹javaä¸­finalä¿®é¥°ç¬¦çš„åº”ç”¨åœºæ™¯ï¼Œfinal è¿™ä¸ªå…³é”®å­—å®šä¹‰ä¿®é¥°çš„å®ä½“ä¸å†æ”¹å˜ï¼Œå¦‚ä½•å»ç†è§£è¿™ä¸¤ä¸ªæ¦‚å¿µï¼šâ€œè¢«ä¿®é¥°çš„å®ä½“â€å’Œâ€ä¸å†æ”¹å˜â€œã€‚\n\nfinalå¯ä»¥ä¿®é¥°å®ä½“ï¼š\n<!-- more -->\n> ç±»ï¼ˆclassï¼‰ï¼šè¡¨ç¤ºæ­¤ç±»ä¸å…è®¸è¢«ç»§æ‰¿ï¼›ä¾‹å¦‚ java.lang.String å¯¹è±¡\n\n> æ–¹æ³•ï¼ˆmethodï¼‰ï¼šè¡¨ç¤ºä¸èƒ½è¢«é‡è½½\n\n> å˜é‡ï¼ˆvariablesï¼‰ï¼šåŒ…æ‹¬åŸºæœ¬å˜é‡å’Œå¼•ç”¨çš„å¯¹è±¡å˜é‡ï¼ˆæ³¨ï¼šfinalä¿®é¥°çš„å¼•ç”¨å¯¹è±¡åªè¦ä¸è¢«èµ‹å€¼ï¼Œå…¶å±æ€§çš„ä¿®æ”¹ç­‰æ˜¯è¢«å…è®¸çš„ï¼‰ã€‚\n\nä¸å†æ”¹å˜ï¼š\n\n> ä¸å†æ”¹å˜ä¸æ˜¯ä¸å˜çš„æ„æ€ã€‚å¦‚æœå˜é‡finalä¿®é¥°ä¸ºå¼•ç”¨å¯¹è±¡ï¼Œä¸èƒ½ä¸ºå…¶èµ‹å€¼ï¼Œè€Œå…¶è‡ªèº«å¯ä»¥å˜åŒ–ï¼Œå› ä¸ºè¿™ä¸ªå¼•ç”¨æ²¡æœ‰æ”¹å˜ã€‚\n\nå®šä¹‰åœ¨ä¸Šé¢çœ‹æ€ä¹ˆå»ç†è§£äº†ï¼Œè¿˜æ˜¯ç”¨å®ä¾‹å»éªŒè¯ä¸‹finalçš„ç”¨æ³•ï¼š\n\nä¸€ã€final classï¼ˆä¿®é¥°ç±»ï¼‰ï¼š\n\n```\npublic final class FinalClass {...}// final ç±»\n\npublic class WrongClass extends FinalClass{...} //ä¸è¢«å…è®¸çš„ç»§æ‰¿\n\n```\n\nåˆ†æï¼šä¸èƒ½ç¼–å†™ä¸€ä¸ªfinalä¿®é¥°ç±»çš„å­ç±»ï¼Œè¿™ä¸ªç±»æ‰€æœ‰çš„æ–¹æ³•å¯ä»¥ç†è§£ä¸ºéšå«çš„finalã€‚\n\näºŒã€final methodï¼ˆä¿®é¥°æ–¹æ³•ï¼‰ï¼š\n\n```\n\tclass A{\n\t\tpublic void foo1(){}\n\t\tpublic final void foo2(){}\n\t}\n\tclass B extends A{ // ç»§æ‰¿\n\n\t\tpublic void foo1() {} // okay\n\n\t\t@Override\n\t\tpublic void foo2() { // é‡è½½ä¸åˆæ³•\n\t\t}\n\n\t\tpublic void foo2(int a){} //åˆæ³• é‡å†™foo2æ–¹æ³•\n\t}\n```\n\nåˆ†æï¼šæ–¹æ³• çˆ¶ç±»Aä¸­foo2 è¢«å…³é”®å­—finalä¿®é¥°åï¼Œå­ç±»Bå»é‡è½½è¿™ä¸ªæ–¹æ³•å°±æ˜¯ä¸è¢«å…è®¸çš„ï¼Œè€Œå…¶ä»–çš„å¤šæ€å½¢å¼å¦‚é‡å†™æ˜¯è¢«å…è®¸çš„ã€‚é€šå¸¸çˆ¶ç±»çš„æŸæ–¹æ³•ä¸è¢«è®©å­ç±»å»é‡è½½æ‰ï¼Œä¿æŒæ­¤æ–¹æ³•çš„ä¸€è‡´æ€§ã€‚\n\nå¦‚ä¸‹ï¼ˆä¸ºäº†æ–¹ä¾¿ï¼Œç›´æ¥ä½¿ç”¨ä¸¤ä¸ªå†…éƒ¨ç±»ä½œä¸ºä¾‹å­ï¼‰ï¼š\n\n```\npublic class FinalMethod {\n\n\tpublic static void main(String[] args) {\n\t\tFinalMethod aFinalMethod = new FinalMethod();\n\t\tB b = aFinalMethod.new B();\n\t\tb.foo2(); // ä¿æŒäº†foo2æ–¹æ³•çš„ä¸€è‡´æ€§ï¼ŒAçš„å­ç±»ä½¿ç”¨çš„æ˜¯ç›¸åŒçš„foo2ï¼ŒAä¸å¸Œæœ›æ­¤æ–¹æ³•è¢«ä¿®æ”¹ã€‚\n\t}\n\n\tclass A{\n\t\tpublic void foo1(){}\n\t\tpublic final void foo2(){}\n\t}\n\n\tclass B extends A{ // ç»§æ‰¿\n\t\tpublic void foo1() {} // okay\n\t\t//public void foo2(int a){} //åˆæ³• é‡å†™foo2æ–¹æ³•\n\t}\n\n}\n```\n\nä¸‰ã€final variableï¼ˆå˜é‡ï¼‰ï¼š\n\nå°±åƒæœ¬æ–‡å¼€å¤´å™è¿°çš„ä¸€æ ·ä¿®é¥°åŸºæœ¬å‹å˜é‡å’Œä¿®é¥°å¼•ç”¨å‹å˜é‡ï¼Œçœ‹ä¸‹é¢ä¸¤ç§å˜é‡ï¼š\n\n```\nfinal int a = 10ï¼›\na = 1;//error ä¸å…è®¸\nfinal List<String> list = new ArrayList<String>();\nlist.add(\"str\");//okay\n```\n\n```\nlist = new ArrayList<String>();// error ä¸è¢«å…è®¸\n```\n\nåˆ†æï¼š åŸºæœ¬å‹ a final ä¿®é¥°èµ‹å€¼åä¸èƒ½è¢«æ”¹å˜ã€‚ finalä¿®é¥°list å¼•ç”¨ï¼Œåªè¦ä¸è¢«èµ‹å€¼ï¼Œæ­¤å¯¹è±¡å¯ä»¥å˜åŒ–ï¼Œè€Œè¿™ä¸ªå¼•ç”¨ä¸å…è®¸è¢«ä¿®æ”¹ä¸ºå¦ä¸€ä¸ªå¼•ç”¨ã€‚\n\nä¿®é¥°å˜é‡éœ€è¦æåˆ°å¦‚ä¸‹ä¸¤ç§ï¼š\n\n3.1ã€blank finalï¼š is a final variable whose declaration lacks an initializer ä¸€ä¸ªå£°æ˜ç¼ºå°‘åˆå§‹åŒ–çš„finalå˜é‡ã€‚å¦‚ä¸‹æ˜¯åˆæ³•çš„ï¼š\n\n```\nfor(final String str: strList){\n//do in loop;\n}\n```\n\nåˆ†æï¼šå¯ä»¥è¿™æ ·å»ç†è§£ï¼Œå˜é‡ä½œç”¨åŸŸé—®é¢˜ï¼Œæ¯æ¬¡å¾ªç¯æ˜¯ä¸€ä¸ªæ–°çš„æ‰§è¡Œå—ï¼Œé‚£ä¹ˆè¿™æ ·çš„finalå£°æ˜æ˜¯åˆæ³•çš„ã€‚\n\n3.2ã€åŒ¿åå†…éƒ¨ç±»ä½¿ç”¨å¤–éƒ¨å˜é‡finalä¿®é¥°\n\nä¸ºä»€ä¹ˆéœ€è¦finalä¿®é¥°ï¼Ÿ\n\nå½“ä¸€ä¸ªåŒ¿åå†…éƒ¨ç±»çš„å®šä¹‰æ˜¯è‡ªèº«å†…çš„ä¸€ç§æ–¹æ³•ï¼Œæ‰€æœ‰çš„å˜é‡å£°æ˜ä¸ºfinalçš„èŒƒå›´ï¼Œæ–¹æ³•æ˜¯ä»å†…éƒ¨ç±»è®¿é—®ã€‚ä¸€æ—¦å®ƒå·²ç»è¢«åˆ†é…ï¼Œæœ€åçš„å˜é‡çš„å€¼ä¸èƒ½æ”¹å˜çš„ã€‚è¿™å°†å…è®¸Javaç¼–è¯‘å™¨æ¥â€œæ•è·â€çš„å˜é‡å€¼åœ¨è¿è¡Œæ—¶é—´å’Œå­˜å‚¨ä¸€ä»½å†…éƒ¨ç±»ä¸­ä½œä¸ºä¸€ä¸ªå­—æ®µã€‚ä¸€æ—¦å¤–éƒ¨æ–¹æ³•å·²ç»ç»ˆæ­¢å’Œå®ƒçš„å †æ ˆå¸§å·²è¢«åˆ é™¤ï¼ŒåŸæ¥çš„å˜é‡æ”¶å›äº†ï¼Œä½†è‡ªå·±çš„å†…å­˜åœ¨ç±»çš„å†…éƒ¨ç±»çš„ç§æœ‰å‰¯æœ¬ä»ç„¶å­˜åœ¨ã€‚\n\n```\n\tpublic static void main(String[] args) {\n\t\t// String aString  = \"haha~\";// æ— æ³•è¢«è°ƒç”¨ ä¸åˆæ³•\n\t\tfinal String aString  = \"haha~\"; // okay\n\t\tThread a = new Thread(new Runnable() {\n\t\t\t@Override\n\t\t\tpublic void run() {\n\t\t\t\tSystem.out.println(aString);// è°ƒç”¨å¤–éƒ¨å˜é‡\n\t\t\t}\n\t\t});\n\t\ta.start();\n\t}\n```\n\nåˆ†æï¼šç»“åˆä¸Šè¿°åŸç†ï¼ŒaStringåœ¨å†…éƒ¨ç±»å®é™…ä¸ºouterçš„å‰¯æœ¬ï¼Œé‚£ä¹ˆå°±å¿…é¡»ä¿è¯aStringä¸èƒ½è¢«æ”¹å˜ï¼Œå†…éƒ¨ç±»è°ƒç”¨å¤–éƒ¨å˜é‡çš„åŸç†ä¸ºè‡ªèº«å­˜å‚¨å¤–éƒ¨å˜é‡çš„å‰¯æœ¬ï¼Œé‚£ä¹ˆä¿è¯æ•°æ®ä¸€è‡´æ€§ï¼Œåœ¨è®¾è®¡æ–¹é¢å°±é™å®šäº†è¢«è°ƒç”¨çš„å¤–éƒ¨å˜é‡éœ€è¦finalä¿®é¥°ã€‚\n\n\\-----------------------------------\n\ncodeæ–‡ä»¶ï¼š[FinalInner.java](https://github.com/yangl326-Dylan/analysis_and_designer/blob/master/src/blog/FinalInner.java) [FinalVariables.java](https://github.com/yangl326-Dylan/analysis_and_designer/blob/master/src/blog/FinalVariables.java) [FinalMethod.java](https://github.com/yangl326-Dylan/analysis_and_designer/blob/master/src/blog/FinalMethod.java)\n\n---\n\n**ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»å…è®¸ä¸å¾—è½¬è½½ã€‚**\n","tags":["java","final"],"categories":["è¯­è¨€","JDK"]},{"title":"JVMå·¥ä½œåŸç†ç†è§£å’Œåˆ†æ--ç±»åŠ è½½","url":"/2013/08/20/classloader/","content":"\nJVM (Java Virtual Machine) å³javaè™šæ‹Ÿæœºã€‚ä¸€ä¸ªjavaæ–‡ä»¶å¯¹åº”ä¸€ä¸ªç±»ï¼ŒJVMä¼šæŠŠéœ€è¦çš„ç±»è£…è½½åˆ°å†…å­˜ï¼Œé‚£ä¹ˆclass loaderçš„ä½œç”¨å°±å‡ºæ¥äº†ã€‚\n\nå…ˆæŠ›å‡ºä¸ªå¸¸è§çš„é—®é¢˜ ClassNotFoundException å¸¸è§äºç¼ºå°‘çš„åŠ è½½ç±»æ–‡ä»¶æˆ–ç›¸å…³åº“æ–‡ä»¶æˆ–è€…é‡å¤åŠ è½½ç­‰ã€‚\n<!-- more -->\nJVMçš„ç±»åŠ è½½æœºåˆ¶ä¸ºå§”æ‰˜åŠ è½½ï¼ˆåŒäº²å§”æ´¾æ¨¡å‹ï¼‰æˆ‘ä»¬çœ‹ä¸€ä¸‹classloaderçš„æµç¨‹å›¾ï¼ˆå¼•è‡ªå‚è€ƒï¼‰\n\n![img](http://img.blog.csdn.net/20130820132524921?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveWFuZ2wzMjY=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n\nä¸€ã€classloaderä¹‹é—´çš„çˆ¶å­å…³ç³»(éç»§æ‰¿å…³ç³»)å’ŒèŒƒå›´ã€‚\n(1)BootStrap æ˜¯æœ€é¡¶å±‚çš„ç±»åŠ è½½å™¨ï¼Œç”±C++ç¼–å†™,ä¹Ÿç§°ä¹‹ä¸ºå¯åŠ¨ç±»åŠ è½½å™¨,ä¸»è¦ç”¨æ¥è¯»å–Javaçš„æ ¸å¿ƒç±»åº“%java_home%/jre/lib/rt.jar æˆ–æŒ‡å®šèƒ½è¢«JVMè¯†åˆ«çš„æ–‡ä»¶\n(2)Extension ClassLoader,  java ç¼–å†™ï¼Œç”¨æ¥è¯»å–Javaçš„æ‰©å±•ç±»åº“ï¼Œè¯»å–%java_home%/jre/lib/ext/*.jar æˆ–è€…æŒ‡å®šè·¯å¾„çš„æ–‡ä»¶\n(3)App ClassLoaderï¼Œ javaç¼–å†™ï¼Œæ˜¯ç”¨æ¥è¯»å–CLASSPATHæŒ‡å®šçš„æ‰€æœ‰jaråŒ…æˆ–ç›®å½•çš„ç±»æ–‡ä»¶ï¼šå¼•å…¥çš„æ–‡ä»¶\n(4)Custom ClassLoaderæ˜¯ç”¨æˆ·è‡ªå®šä¹‰ç¼–å†™classloaderå­ç±»çš„ç”¨æ¥åŠ è½½æŒ‡å®šç±»æ–‡ä»¶ã€‚\n\näºŒã€åŒäº²å§”æ´¾æ¨¡å‹çš„è¿‡ç¨‹ï¼š\n\néœ€è¦åŠ è½½Aç±»ï¼Œå…ˆè‡ªåº•å‘ä¸ŠæŸ¥çœ‹æ­¤ç±»æ˜¯å¦è¢«åŠ è½½ï¼Œå¦‚æœæœªè¢«åŠ è½½ï¼Œé‚£ä¹ˆä¾æ¬¡ä»å¯åŠ¨åŠ è½½å™¨å¼€å§‹å°è¯•åŠ è½½æ­¤ç±»ï¼Œæœªæ‰¾åˆ°æŠ›å‡ºå¼‚å¸¸ã€‚ï¼ˆè¯¦ç»†å¯å‚è§classloaderæºä»£ç ï¼‰ï¼Œjavaä¸­å¸¸è§„çš„åŠ è½½æµç¨‹å¦‚ä¸Šã€‚\n\næˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š\n\n```java\npublic class JVMClassLoader {\n\tpublic static void main(String[] args) {\n\t\t// TODO Auto-generated method stub\n\t\tJVMClassLoader hello = new JVMClassLoader();\n\t\tClass helloClass = hello.getClass();\n\t\tSystem.out.println(\"ClassLoader str: \" + \"\".getClass().getClassLoader());\n\t\tSystem.out.println(\"ClassLoader a  : \" + helloClass.getClassLoader());\n\t\tSystem.out.println(\"ClassLoader-ap : \" + helloClass.getClassLoader().getParent());\n\t\tSystem.out.println(\"ClassLoader-app: \" + helloClass.getClassLoader().getParent().getParent());\n\t}\n\t/*\n\t * result:\n\t * ClassLoader str: null\n\t * ClassLoader a  : sun.misc.Launcher$AppClassLoader@62f72617\n\t * ClassLoader-ap : sun.misc.Launcher$ExtClassLoader@4fe5e2c3\n\t * ClassLoader-app: null\n\t */\n\n}\n```\n\n\n\né¦–å…ˆstringå¯¹è±¡ç±»çš„åŠ è½½å™¨ä¸ºnullï¼ˆå³å¯åŠ¨åŠ è½½bootstrapåŠ è½½å™¨,æ— æ³•å»ä½¿ç”¨ï¼‰strç±»åº”è¯¥å±äºrt.jaråº“ä¸­å¯¹è±¡\n\nè‡ªå®šä¹‰ç±»JVMClassLoader ç±»å®ƒæ˜¯ç”±AppClassLoaderåŠ è½½ï¼Œè€ŒAppClassLoaderæ˜¯ç”±ExtClassLoaderåŠ è½½ï¼ŒExtclassLoaderç”±bootstrapåŠ è½½å™¨åŠ è½½ã€‚\n\nå¯ä»¥åšä¸ªè¿™æ ·çš„æµ‹è¯•æŠŠç¼–è¯‘å¥½çš„æ–‡ä»¶æ‰“åŒ…æˆjaræ”¾ç½®åˆ°lib/ext/ç›®å½•ä¸‹ é‚£ä¹ˆè¾“å‡ºå…¶åŠ è½½å™¨åº”è¯¥æ˜¯ExtClassLoader\n\næ¨èï¼š\n\n`java -verbose:class å®Œæ•´ç±»å`    ç±»åŠ è½½å™¨è·Ÿè¸ª,å°½å¯èƒ½å¤šçš„è¾“å‡ºåŠ è½½ä¿¡æ¯\n\n### å¼•ç”³é—®é¢˜\n\ntomcatçš„web appé¡¹ç›®çš„ç±»åŠ è½½é¡ºåºï¼Œå¸¸ç”¨çš„åº“æ”¾ç½®è·¯å¾„ï¼Œå…³é”®è·¯å¾„ï¼štomcat/lib  å’ŒWEB-INF/lib ã€‚æƒ³ä¸€æƒ³ ä¸€ä¸ªtomcatå®ä¾‹ä¸‹é¢å¯ä»¥å¤šä¸ªappï¼Œä¸åŒappä½¿ç”¨ä¸åŒç‰ˆæœ¬çš„jaråº“ï¼Œé‚£ä¹ˆæ€æ ·çš„åŠ è½½ä¼˜å…ˆçº§å¯ä»¥ä¿è¯ã€‚\n\n### å‚è€ƒ\n\nhttp://www.cnblogs.com/ChrisWang/archive/2009/11/17/Inside-JVM-4-ClassLoader-Knowledge-Sharing.html\n\n---\n\n**ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»å…è®¸ä¸å¾—è½¬è½½ã€‚**\n","tags":["java"],"categories":["è¯­è¨€","JDK"]},{"title":"ArrayListåˆ é™¤å…ƒç´ é—®é¢˜åŠé—®é¢˜æ‰©å±•","url":"/2013/06/11/arraylist-remove/","content":"\nåˆå­¦è€…å®¹æ˜“çŠ¯é”™çš„ç»†å°é—®é¢˜ï¼Œcollectioné›†åˆç±»ï¼ˆArrayList list Hashmapï¼‰ä¸­ç§»é™¤å…ƒç´ é—®é¢˜ã€‚\n\nå…¶å®ƒé›†åˆä¼šå‡ºç°ç±»ä¼¼é—®é¢˜ï¼Œjavaéå†ä¸­ç§»é™¤å…ƒç´ æŸäº›æƒ…å†µä¸ä¼šæç¤ºä»»ä½•é”™è¯¯ä¿¡æ¯ï¼Œå› ä¸ºæ˜¯åˆæ³•ï¼Œä½†ä¼šå¼•èµ·æ•°æ®é—®é¢˜ï¼Œä¸æ˜“è¢«å‘ç°ã€‚å…¶ä»–è¯­è¨€ä¹Ÿç±»ä¼¼å¦‚pythonæŒ‰ç…§dictçš„itemså»éå†å‡ºç°del(key)ä¼šå¼•å‘ä¸ªé”™è¯¯ã€‚\n\næ‰€ä»¥éå†çš„æ—¶å€™ä¸€å®šå¾—è€ƒè™‘æ˜¯å¦å¯¹è¢«éå†å¯¹è±¡åšè¿‡äº†ä¿®æ”¹ï¼Œä½ å»éå†çš„æ˜¯ä»€ä¹ˆå¯¹è±¡ï¼Œéå†çš„å¾ªç¯ä¸­æ“ä½œçš„åˆæ˜¯ä»€ä¹ˆå¯¹è±¡ã€‚\n\nä¸‹é¢æ­£å¯¹ArrayListç§»é™¤æŸä¸€å¯¹è±¡é—®é¢˜åšä¸ªåˆ†æï¼š\n\né—®é¢˜ï¼šArrayList<>Stringå¯¹è±¡åŒ…å«å¦‚ä¸‹å­—ç¬¦ä¸²  \"a\", \"b\", \"c\", \"c\", \"d\"ã€‚ ç°åœ¨æˆ‘ä»¬éœ€è¦ç§»é™¤æ‰€æœ‰çš„cå­—ç¬¦ä¸²ï¼Œéƒ½çŸ¥é“listçš„removeæ–¹æ³•åªèƒ½ç§»é™¤é¦–æ¬¡å‡ºç°çš„è¿™ä¸ªå¯¹è±¡ã€‚\n\näºæ˜¯å¾ˆå®¹æ˜“å°±æƒ³åˆ°éå†è¿™ä¸ªcollectioné‡åˆ°cçš„ç§»é™¤æ‰ï¼Œçœ‹å¦‚ä¸‹ä»£ç ï¼š\n\nç¼ºçœlistAï¼ŒBï¼ŒCï¼ŒD å››ä¸ªç›¸åŒçš„arraylistå¯¹è±¡ï¼Œç§»é™¤æ‰€æœ‰cå­—ç¬¦ä¸²ã€‚\n\n```java\nString[] tmp = {\"a\",\"b\",\"c\",\"c\",\"d\"};\n\t\tList<String> listA = new ArrayList<String>();\n\t\tList<String> listB = new ArrayList<String>();\n\t\tList<String> listC = new ArrayList<String>();\n\t\tList<String> listD = new ArrayList<String>();\n\t\tfor(String str:tmp){\n\t\t\tlistA.add(str);\n\t\t\tlistB.add(str);\n\t\t\tlistC.add(str);\n\t\t\tlistD.add(str);\n\t\t}//listA B C D è£…æœ‰ç›¸åŒtmpæ•°ç»„ä¸­çš„å¯¹è±¡\n```\n\nå®¹æ˜“çŠ¯é”™çš„ä»£ç ï¼š\n\n```java\n//listA.remove(\"c\");//ä»…ä»…ç§»é™¤ç¬¬ä¸€æ¬¡å‡ºç°çš„cï¼Œé‚£ä¹ˆå¾ˆå®¹æ˜“æƒ³åˆ°å»éå†é‡åˆ°céƒ½removeï¼ˆç´¢å¼•ï¼‰\n\t\tfor (int i = 0; i < listA.size(); i++) {\n\t\t\tif (listA.get(i).equals(\"c\")) {\n\t\t\t\tlistA.remove(i);\n\t\t\t}\n\t\t}\n\t\tSystem.out.println(listA);// ç»“æœï¼š[a, b, c, d] ä¸ºä»€ä¹ˆç¬¬äºŒä¸ªcæ²¡æœ‰è¢«å…¨éƒ¨ç§»é™¤æ‰? ä¸ä¼šå‡ºç°é”™è¯¯æˆ–è€…å¼‚å¸¸ï¼Œè§åˆ†æ\n```\n\nåˆ†æï¼šé¡ºåºéå†ï¼Œå¾ªç¯çš„ç¬¬3æ¬¡ å³ç´¢å¼•2çš„ä½ç½®çš„æ—¶å€™ç¢°åˆ°ç¬¬ä¸€ä¸ªcçš„ï¼Œç§»é™¤æ‰ï¼Œæ­¤æ—¶listAçš„å¤§å°æ”¹å˜äº†ï¼Œè€Œä¸‹æ¬¡å¾ªç¯çš„æ—¶å€™2ç´¢å¼•åé¢çš„å…ƒç´ å®é™…ç´¢å¼•éƒ½å˜åŒ–äº†ã€‚è€Œå¾ªç¯çš„éå†ç´¢å¼•å˜ä¸º3äº†ä»då¼€å§‹ï¼Œç›¸é‚»çš„ç¬¬äºŒä¸ªcå…ƒç´ è¢«è·³è¿‡äº†ï¼Œå°±æ˜¯é”™è¯¯ç»“æœäº†ã€‚\n\nè§£å†³æ–¹æ³•æœ‰å¦‚ä¸‹å‡ ç§ï¼Œè¿˜æ˜¯å¸Œæœ›æ˜ç™½æœ¬æ–‡å¼€å¤´çš„é»‘ä½“å­—ã€‚\n\næ–¹æ³•ä¸€ï¼šæ ¹æ®ä¸Šè¿°çš„åˆ†æé‚£ä¹ˆæœ€ç®€å•çš„æ–¹æ³•ä¾¿æ˜¯å€’åºéå†\n\n```java\n//å€’åºç§»é™¤\n\t\tfor (int i = listB.size() -1; i>=0; i--) {\n\t\t\tif (listB.get(i).equals(\"c\")) {\n\t\t\t\tlistB.remove(i);\n\t\t\t}\n\t\t}\n\t\tSystem.out.println(listB); //ç»“æœï¼š[a, b, d] ç¬¦åˆæœŸæœ›\n```\n\nåˆ†æï¼šå€’åºéå†å éå†è¿‡çš„å…ƒç´ å› å½“å‰å…ƒç´ è¢«ç§»é™¤è€Œå¼•èµ·çš„ç´¢å¼•å˜åŒ–å·²ç»æ— å…³ç´§è¦äº†ï¼Œå› ä¸ºå·²ç»éå†è¿‡äº†ã€‚ä¿è¯æœªéå†çš„ç´¢å¼•ä¸å˜åŒ–ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„å…ƒç´ éƒ½ä¼šè¢«å¤„ç†åˆ°çš„ã€‚\n\næ–¹æ³•äºŒï¼šä½¿ç”¨removeAllï¼Œåªä¸è¿‡å®ƒçš„å‚æ•°æ˜¯ä¸ªé›†åˆï¼Œæ–¹æ³•çš„å®šä¹‰æ˜¯ç§»é™¤æ‰€æœ‰åŒ…å«çš„æ‰€æœ‰å…ƒç´ ã€‚ï¼ˆæ³¨æ„â€˜æ‰€æœ‰åŒ…å«â€™å’Œâ€˜æ‰€æœ‰â€™ï¼‰\n\n```java\n//ä½¿ç”¨ removeAllåŒ…è£…èµ·æ¥éœ€è¦ç§»é™¤çš„å…ƒç´ \n\t\tList<String> tmpDel = new ArrayList<String>();\n\t\ttmpDel.add(\"c\");\n\t\tlistC.removeAll(tmpDel);//ç§»é™¤tmpDelæ‰€åŒ…å«çš„å…¶ æ‰€æœ‰å…ƒç´ \n\t\tSystem.out.println(listC); //ç»“æœï¼š[a, b, d] ç¬¦åˆæœŸæœ›\n```\n\nåˆ†æï¼š çœ‹removeAllçš„æ–‡æ¡£ï¼šå®ƒæŒ‡çš„æ˜¯ç§»é™¤æ‰€æœ‰åŒ…å«çš„æ‰€æœ‰å…ƒç´ ï¼Œä¸¤ä¸ªæ‰€æœ‰ã€‚\n\næ–¹æ³•ä¸‰ï¼š\n\nä½¿ç”¨è¿­ä»£å™¨Iteratorï¼Œä½¿ç”¨çš„æ—¶å€™æ³¨æ„è¿­ä»£å™¨çš„åŸç†ã€‚æœ‰äº›ç”¨æ³•æ˜¯é”™è¯¯çš„ï¼Œæ¯”å¦‚è¯´åœ¨è¿­ä»£ä¸­ä¿®æ”¹è¢«è¿­ä»£çš„å¯¹è±¡\n\n```java\n//ä½¿ç”¨è¿­ä»£å™¨ æ³¨æ„æ­£ç¡®ç”¨æ³•è§æ³¨é‡Šéƒ¨åˆ†\n\t\tIterator<String> iterator = listD.iterator();\n\t\twhile (iterator.hasNext()) {\n\t\t\tif(iterator.next().equals(\"c\")){\n\t\t\t\titerator.remove();\n\t\t\t\t//listD.remove(\"c\"); // error Iteratoræ˜¯å·¥ä½œåœ¨ä¸€ä¸ªç‹¬ç«‹çš„çº¿ç¨‹ï¼Œä¸å…è®¸è¿­ä»£çš„å¯¹è±¡è¢«æ”¹å˜ï¼Œå¦åˆ™ä¼šå¹¶å‘å¼‚å¸¸\n\t\t\t};\n\t\t\t\n\t\t}\n\t\tSystem.out.println(listD); //ç»“æœï¼š[a, b, d] ç¬¦åˆæœŸæœ›\n```\n\nåˆ†æï¼šlistDæ˜¯è¢«è¿­ä»£çš„å¯¹è±¡ï¼ŒIteratorè¢«åˆ›å»ºçš„æ—¶å€™ï¼Œå»ºç«‹äº†ä¸€ä¸ªå†…å­˜ç´¢å¼•è¡¨ï¼ˆå•é“¾è¡¨ï¼‰ï¼Œè¿™ ä¸ªç´¢å¼•è¡¨æŒ‡å‘åŸæ¥çš„å¯¹è±¡ï¼Œå½“è¢«è¿­ä»£çš„å¯¹è±¡æ”¹å˜çš„æ—¶å€™ï¼Œè¿™ä¸ªç´¢å¼•è¡¨çš„å†…å®¹æ²¡æœ‰åŒæ­¥æ”¹å˜ï¼Œæ‰€ä»¥å½“ç´¢å¼•æŒ‡é’ˆå¾€ä¸‹ç§»åŠ¨çš„æ—¶å€™ï¼Œä¾¿æ‰¾ä¸åˆ°è¦è¿­ä»£çš„å¯¹è±¡ï¼Œä½¿ç”¨æ³¨é‡Šçš„ä»£ç ä¼šäº§ç”Ÿé”™è¯¯ã€‚\n\n---\n\n**ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»å…è®¸ä¸å¾—è½¬è½½ã€‚**","tags":["java","collection"],"categories":["JDK"]},{"title":"About ME","url":"/2013/02/13/about/","content":"\n## be honest to yourself and then the world.\n\nemail:zhoudunyang[at]gmail.com  \nweixin:  \n![weixin](about/weixin_qr.png)\n","tags":["about","contact"],"categories":["å…³äº"]}]